{"version":3,"sources":["utils/constant.js","resources/core-imgs/logo3_admin.png","components/UI/Spinner/Spinner.module.css","resources/core-imgs/logo3.png","components/UI/Pagination/Pagination.module.css","hoc/Auxiliary/Auxiliary.js","utils/axios.js","store/actions/articleActions.js","store/actions/actionTypes.js","components/Navigation/Navigation.js","store/actions/submissionActions.js","components/Footer/Footer.js","containers/Home/LeftSidebar.js","utils/utility.js","containers/Home/MainPosts.js","containers/Home/RightSidebar.js","components/Breadcrumb/Breadcrumb.js","components/UI/Spinner/Spinner.js","containers/Home/Home.js","hoc/Layout/Layout.js","components/Dashboard/Shared/ContentHeader.js","store/actions/authActions.js","components/UI/Pagination/Pagination.js","components/Dashboard/Author/Main.js","components/Dashboard/Author/DeleteSubmission.js","components/Dashboard/Filter/Filter.js","components/Dashboard/Author/Home.js","store/actions/reviewActions.js","components/Dashboard/Reviewer/Home.js","components/Dashboard/Editor/Home.js","components/Dashboard/ChiefEditor/Home.js","store/actions/userActions.js","components/Dashboard/Admin/Home.js","components/Dashboard/Shared/Navigation.js","components/Dashboard/Shared/Sidebar.js","components/UI/ConfirmDialog/ConfirmDialog.js","utils/input-controls.js","utils/input-change.js","components/Dashboard/Author/AddContributor/AddContributor.js","store/actions/vastActions.js","components/Dashboard/Author/SubmitArticle.js","components/Dashboard/Author/EditSubmission.js","components/Dashboard/Submission/SubmissionInfor/SubmissionInfor.js","components/Dashboard/Submission/SubmissionLogs.js","components/Dashboard/Submission/SubmissionInfor/EditorialBoard.js","components/Dashboard/Submission/SubmissionInfor/SubmissionFutherInfor.js","components/Dashboard/Submission/SubmissionActions/SubmissionActions.js","components/Dashboard/Author/AuthorAssignment/AssignmentInfor.js","components/Dashboard/Author/AuthorAssignment/RevisionDetail/RevisionDetail.js","components/Dashboard/Submission/SubmissionProcess/SubmissionProcess.js","components/Dashboard/ChiefEditor/EditorialBoardSubmissions/CESubmisisonDetail.js","components/Dashboard/Reviewer/ReviewSubmission/ReviewDetail.js","components/Dashboard/Editor/ReviewerSubmissions/ReviewerSubmissionDetail/ReviewerSubmissionDetail.js","components/Dashboard/Editor/ReviewerSubmissions/ReviewerSubmissions.js","components/Dashboard/ChiefEditor/EditorialBoardSubmissions/EditorSubmissionDetail.js","components/Dashboard/ReviewProcess/ReviewProcessInfor.js","components/Dashboard/Submission/SubmissionDetail.js","components/Dashboard/ChiefEditor/SubmissionDetail.js","utils/email-template.js","components/Dashboard/ChiefEditor/AssignEditor.js","components/Dashboard/Editor/EditorSubmission/EditorSubmisisonDetail.js","components/Dashboard/Editor/EditorSubmission/CreateEditorSubmisison.js","components/Dashboard/Editor/EditorSubmission/EditEditorSubmission.js","components/Dashboard/Editor/AssigmentInfor/AssignmentInfor.js","components/Dashboard/Editor/RequestAuthorRevision/RequestRevision.js","components/Dashboard/Editor/RequestAuthorRevision/AuthorAssignment.js","components/Dashboard/Editor/EditorAssignment.js","components/Dashboard/Editor/AssignReviewer.js","components/Dashboard/Reviewer/AssignmentInfor/AssignmentInfor.js","components/Dashboard/Reviewer/ReviewSubmission/CreateReview.js","components/Dashboard/Reviewer/ReviewSubmission/EditReview.js","components/Dashboard/Reviewer/ReviewerAssignment.js","components/Dashboard/Author/AuthorAssignment/ReviseSubmission.js","components/Dashboard/ChiefEditor/AcceptSubmission/AcceptSubmission.js","components/Dashboard/ChiefEditor/DeclineSubmission/DeclineSubmission.js","components/Dashboard/VAST/CustomInput.js","components/Dashboard/VAST/Authors.js","components/Dashboard/VAST/VastStats.js","components/Notifications/Notifications.js","components/Profile/Profile.js","components/Dashboard/Admin/UserInfor.js","hoc/Dashboard/Dashboard.js","containers/Auth/Login.js","containers/Auth/Register.js","containers/Auth/Logout.js","components/Breadcrumb/RouteBreadcrumb.js","containers/Articles/Sidebar.js","containers/Articles/Pagination.js","containers/Articles/Filter/Filter.js","containers/Articles/Articles.js","containers/Articles/Article/Author.js","containers/Articles/Article/Comments.js","containers/Articles/Article/PostComment.js","containers/Articles/Article/Sidebar.js","containers/Articles/Article/Article.js","App.js","serviceWorker.js","store/reducers/authReducers.js","store/reducers/submissionReducers.js","store/reducers/reviewReducers.js","store/reducers/articleReducers.js","store/reducers/vastReducers.js","store/reducers/userReducers.js","store/store.js","index.js","resources/imgs/40.jpg"],"names":["exports","USER_ROLES","ADMIN","name","permissionLevel","roleId","CHIEF_EDITOR","EDITOR","REVIEWER","AUTHOR","STAGE","SUBMISSION","value","REVIEW","PRE_PUBLISHING","PUBLISHED","END","CHIEF_EDITOR_DECISION","ACCEPT_SUBMISSION","decisionName","DECLINE_SUBMISSION","EDITOR_DECISION","REVIEWER_DECISION","REVISION_REQUIRED","orgList","engName","memberUnits","SUBMISSION_TYPES","PUBLISHED_RESEARCH","PREPRINT","PEER_REVIEW_RESEARCH","module","aux","props","children","instance","axios","create","baseURL","getAllArticlesSuccess","data","type","articles","total","currentPage","articleError","error","getMostViewedArticlesHome","page","limit","dispatch","get","then","res","catch","err","message","Navigation","state","getSuggestions","keyword","console","log","getSuggestionValue","suggestion","history","push","_id","title","renderSuggestion","onChange","event","newValue","setState","onSuggestionsFetchRequested","a","onSuggestionsClearRequested","this","inputProps","placeholder","className","id","to","src","require","style","width","height","alt","suggestions","aria-hidden","borderRight","isAuth","changed_avatar","maxWidth","maxHeight","avatar","fontSize","fontWeight","Component","mapDispatchToProps","searchArticlesByKeyword","connect","auth","token","userId","fullname","article","articles_search","user","submissionErrors","getCategories","categories","getStages","stages","getSubmissionTypes","types","getSubmissionDetail","submissionId","getState","headers","submission","deleteSubmission","delete","response","resetDeleteSubmissionState","searchSubmissions","submissions","Footer","length","footer","map","category","key","href","LeftSidebar","most_viewed_articles","authorId","lastname","firstname","views","downloaded","typeId","categoryId","latest_articles","updateObject","oldObject","updatedProperties","checkValidity","rules","isValid","usernameValid","test","required","trim","minLength","maxLength","isEmail","isNumeric","getStageBadgeClassname","getStageBadgeClassname2","getDecisionBadgeClassname","getDecisionBadgeClassname2","getDeadlineDate","days","today","Date","deadline","setDate","getDate","getFormattedDate","dateStr","date","month","getMonth","day","hour","getHours","min","getMinutes","sec","getSeconds","getFullYear","getFormattedDateOnly","checkDueDate","dueDateStr","getDoughnutData","reviewerAssignments","accept","editRequired","decline","unSent","forEach","ra","reviewerSubmissionId","decisionValue","reviewerDecisionId","labels","datasets","backgroundColor","getShortArticleAbstract","abstract","slice","getFormattedDateVAST","getListContributors","contributors","c","indexOf","MainPosts","margin","nav","items","loop","dots","autoplay","autoplayTimeout","smartSpeed","navText","publishedDate","most_downloaded_articles","RightSidebar","numberOfArticles","Breadcrumb","backgroundImage","imageUrl","Spinner","classes","Loader","Home","window","scrollTo","getLatestArticlesHome","getMostDownloadedArticlesHome","loading","Layout","routes","exact","path","component","ContentHeader","authSuccess","role","authFailed","logout","localStorage","removeItem","checkAuthTimeout","expirationTime","setTimeout","getMyNotificationsSuccess","notifications","resetRegisterState","getMyNotifications","setItem","JSON","stringify","Pagination","pagination","prevPage","item","pathname","location","search","queryString","Object","assign","hasPrevPage","active","hasNextPage","nextPage","lastPage","Main","checked","init","URLSearchParams","getMyArticles","refreshHandler","btnNewSubmissonClickHandler","prevProps","prevQuery","query","onClick","Math","ceil","my_articles","my_articles_total","my_articles_cur_page","DeleteSubmission","tabIndex","aria-labelledby","data-dismiss","aria-label","confirmDelete","disabled","deletionConfirmed","uncheckedHandler","Filter","searchInputChangeHandler","typeFilterHandler","categoryFilterHandler","stageFilterHandler","stage","selectedCategoryId","selectedStageId","selectedTypeId","getSubmissionsByAuthor","selectSubmissionHandler","confirmDeleteHandler","target","deleteSubmissionHandler","preventDefault","nextProps","isSubmissionDeleted","toast","success","data-toggle","data-target","aria-expanded","aria-controls","cursor","createdAt","stageId","submissionLogs","colSpan","total_items","getMyEditorAssignmentsSuccess","editorAssignments","getMyReviewerAssignmentsSuccess","reviewProcessError","getEditorAssignmentBySubmission","editorAssignment","getAuthorAssignmentBySubmission","authorAssignment","getChiefEditorSubmission","chiefEditorSubmission","getMyReviewerAssignments","borderCollapse","color","dueDate","editorId","review","getMyEditorAssignments","fetchDoughnutData","ea","reviewerAssignmentId","editorSubmissionId","chiefEditorId","reviewerId","options","responsive","maintainAspectRatio","legend","fontFamily","getAllSubmissions","contentWrapper","getAllUserInforSuccess","users","userError","getPreferenceCategories","getAllUsers","getAllRoles","username","email","roles","minWidth","noti","link","senderId","content","Sidebar","roleName","data-widget","data-accordion","ConfirmDialog","confirm","registerInputControls","elementConfig","validation","valid","touched","password","confirm_password","affiliation","biography","loginInputControls","submitArticleInputControls","attachment","filename","file","publishedResearchInputControls","magazineName","DOI","url","editSubmissionInputControls","categoryName","typeName","createReviewInputControls","decisionId","editReviewInputControls","acceptSubmissionInputControls","updateUserInforInputControls","changePasswordInputControls","old_password","new_password","commentAndReplyInput","comment","reply","commentToReplyId","loginInputChangeHandler","controlName","updatedControls","controls","formIsValid","registerInputChangeHandler","passwordEquals","eq","submitArticleInputChangeHandler","files","publishedResearchInputChangeHandler","controls_published","createReviewInputChangeHandler","editReviewInnputChangeHandler","controls_edit","acceptSubmissionInputChangeHandler","updateUserInforInputChangeHandler","changePasswordInputChangeHandler","controls_change_pwd","AddContributor","inputChange","articlesCrawlError","publishedArticle","SubmitArticle","step1Active","step2Active","step3Active","step4Active","requirement1","requirement2","requirement3","requirement4","formIsValid_published","metadata","submissionType","inputChangeHandler","selectedOptions","text","inputChangeHandler_published","metaDataChangeHandler","newState","contributorInputChangeHandler","addContributorHandler","contributor","removeContributorHandler","idx","splice","step1ActiveHandler","step2ActiveHandler","step3ActiveHandler","confirmRequirementHandler","confirmSubmitHandler","formData","FormData","append","createSubmission","fetchPublishedArticle","getPublishedArticle","crawlError","updatedControls_published","crawlPublishedArticleHandler","resetCreateSubmissionState","isSubmissionCreated","submitArticle","defaultValue","crawlLoading","htmlFor","multiple","Array","from","iden","floor","random","fileUploading","fontStyle","post","publisher","vast","EditSubmission","oldMetadata","initControlValues","attachmentFile","editSubmission","cancelHandler","resetEditSubmissionState","match","params","isSubmissionEdited","editArticle","hidden","rel","put","SubmissionInfor","hasAuthorRevision","attachmentUrl","SubmissionLogs","logs","getFormattedTimeOnly","EditorialBoard","reviewerAssignment","SubmissionFutherInfor","updatedAt","SubmissionActions","AssignmentInfor","RevisionDetail","authorRevision","isAccepted","SubmissionProcess","CESubmissionDetail","chiefEditorDecisionId","ReviewDetail","reviewerSubmission","ReviewerSubmissionDetail","ReviewerSubmissions","stt","border","EditorSubmissionDetail","editorSubmission","editorDecisionId","ReviewProcessInfor","minHeight","SubmissionDetail","authorRevisionId","editors","reviewers","getNameFromNameAndEmail","nameAndEmail","split","assignEditorTemplate","submisisonName","chiefEditorName","editorName","assignReviewerTemplate","reviewerName","AssignEditor","selectedEditorId","selectedEditorName","selectedEditorEmail","messageToEditor","editorState","editorSelectedHandler","contentBlock","htmlToDraft","ceFullname","contentState","ContentState","createFromBlockArray","contentBlocks","EditorState","createWithContent","fileds","setDueDateHandler","setMessageToEditorHandler","htmlContent","stateToHTML","getCurrentContent","reqBody","editorEmail","assignEditor","onEditorStateChange","getAllEditors","resetEditorAssignmentState","isEditorAssigned","editor","handled","handling","showTimeSelect","minDate","selected","dateFormat","wrapperClassName","editorClassName","toolbarClassName","CreateEditorSubmisison","editorDecisions","decision","EditEditorSubmission","cancelEdit","RequestRevision","setDueDate","authorEmail","messageToAuthor","setMessage","AuthorAssignment","EditorAssignment","formIsValid_edit","canEdit","canRequestAuthorRevision","step4ActiveHandler","inputChangeHandler_edit","openEditReviewPageHandler","blockEditReviewPageHandler","requestAuthorRevision","editEditorSubmission","createEditorSubmission","setMessageToAuthorHandler","messageToReviewer","getEditorDecisions","isEditorSubmissionEdited","resetEditEditorSubmissionState","authorName","requestRevisionTemplate","editorFullname","resetCreateEditorSubmissionState","resetRequestAuthorRevisionState","isEditorSubmissionCreated","isRequestAuthorRevisionCreated","AssignReviewer","selectedReviewerId","selectedReviewerName","selectedReviewerEmail","reviewerSelectedHandler","setMessageToReviewerHandler","reviewerEmail","assignReviewer","getAllReviewers","resetReviewerAssignmentState","isReviewerAssigned","reviewer","preferenceCategories","val","aria-valuenow","appropriateRate","aria-valuemin","aria-valuemax","CreateReview","reviewerDecisions","EditReview","ReviewerAssignment","getMyReviewerAssignmentDetail","reviewSubmission","editReviewSubmission","createReviewSubmission","getReviewerDecisions","prevPops","isReviewSubmissionEdited","resetEditReviewSubmissionState","resetCreateReviewSubmissionState","isReviewSubmissionCreated","ReviseSubmission","authorCreateRevision","resetAuthorRevisionState","isAuthorRevisionCreated","AcceptSubmission","acceptSubmisison","resetAcceptSubmissionState","isSubmissionAccepted","DeclineSubmission","declineSubmisison","declineSubmissionTemplate","resetDeclineSubmissionState","isSubmissionDeclined","CustomInput","Authors","authors","memberUnit","dataOrg","org","family","given","VastStats","startDate","endDate","vastArticlesCrawl","setStartDateHandler","setEndDateHandler","searchArticlesHandler","junmpToPage","selectsStart","customInput","selectsEnd","author","subject","result","convertPublishedDate","URL","start","end","offset","getUrl","allArticles","filter","includes","articlesCrawlSuccess","Notifications","getAllMyNotifications","all_notifications","Profile","formIsValid_change_pwd","preferences","preferenceCategoryId","inputChangeHandler_CPWD","changeAvatar","body","updateUserInfor","oldPassword","newPassword","changePassword","onAvatarChangeHandler","preferenceChangeHandler","selectedOption","preference","getMyUserInfor","resetUpdateUserInforState","resetChangePasswordState","resetChangeAvatarState","isUserInforUpdated","isPasswordChanged","isAvatarChanged","profile","createObjectURL","ref","upload","display","click","styles","menu","provided","padding","input","paddingLeft","isMulti","classNamePrefix","UserInfor","roleSelectedChangeHandler","changeUserRole","getUserInfor","resetchangeUserRoleState","isUserRoleChanged","user_infor","Dashboard","AuthorHome","AuthorMain","ReviewerHome","EditorHome","SubmissionDetailEditor","ChiefEditorHome","AdminHome","autoClose","Login","isSignedUpFlag","formSubmitHandler","isSignedUp","authRedirect","onSubmit","authData","expirationDate","getTime","Register","toBeReviewer","checkboxChangeHandler","updatedState","onRegister","onResetRegisterState","zIndex","Logout","onLogout","RouteBreadcrumb","paddingRight","action","method","Articles","getAllArticles","aria-current","MetaData","Comments","comments","selectCommentToReplyHandler","replies","cols","rows","replyInputChangeHandler","postReplyACommentHandler","cancelReplyHandler","PostComment","commentInputChangeHandler","postCommentHandler","articleUrl","download","updateDownloadedTimes","float","related_articles","Article","updateDownloadedCount","updatedComment","postCommentOfArticle","commentId","updatedReply","replyACommentOfArticle","getSingleArticle","getCommentsOfArticle","getRelatedArticles","isCommentPosted","resetPostCommentState","isReplyPosted","resetReplyACommentState","frameBorder","scrolling","Author","articleId","relatedArticles","App","keepAuthState","openSocket","on","receiverId","getItem","parse","withRouter","Boolean","hostname","initialState","authStart","registerSuccess","authLogout","getAllMyNotificationsSuccess","authReducers","chiefEditorDecisions","submissionStart","uploadStart","getCategoriesSuccess","getStagesSuccess","getSubmissionTypesSuccess","getReviewerDecisionsSuccess","getEditorDecisionsSuccess","getSubmissionsByAuthorSuccess","getSubmissionDetailSuccess","createSubmissionSuccess","editSubmissionSuccess","deleteSubmissionSuccess","fetchSubmissionError","getAllSubmissionsSuccess","submissionReducer","reviewProcessStart","getAllEditorsSuccess","getAllReviewersSuccess","assignEditorSuccess","responseMessage","assignReviewerSuccess","getEditorAssignmentBySubmissionSuccess","getMyReviewerAssignmentDetailSuccess","createReviewSubmissionSuccess","editReviewSubmissionSuccess","createEditorSubmissionSuccess","editEditorSubmissionSuccess","requestAuthorRevisionSuccess","getAuthorAssignmentSuccess","createAuthorRevisionSuccess","acceptSubmissionSuccess","declineSubmissionSuccess","getChiefEditorSubmissionSuccess","reviewReducer","articleStart","getLatestArticlesHomeSuccess","getMostViewedArticlesHomeSuccess","getMostDownloadedArticlesHomeSuccess","getSingleArticleSuccess","getCommentsOfArticleSuccess","postCommentSuccess","replyACommentSuccess","resetreplyACommentState","getRelatedArticlesSuccess","searchArticlesByKeywordSuccess","updateDownloadedCountSuccess","getMyArticlesSuccess","articleReducer","articlesCrawlStart","jumpToAnotherPageSuccess","skip","getPublishedArticleByDOISuccess","vastReducer","userStart","getMyUserInforSuccess","getPreferenceCategoriesSuccess","updateUserInforSuccess","changePasswordSuccess","changeAvatarSuccess","getUserInforSuccess","getAllUserRoleSuccess","changeUserRoleSuccess","resetChangeUserRoleState","userReducer","composeEnhancers","compose","rootReducer","combineReducers","submissionReducers","reviewReducers","store","createStore","applyMiddleware","thunk","app","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5c61f2da.chunk.js","sourcesContent":["exports.USER_ROLES = {\n    ADMIN: {\n        name: 'Admin',\n        permissionLevel: 5,\n        roleId: '5f97f6d9d1011608a40d3349'\n    },\n    CHIEF_EDITOR: {\n        name: 'Tổng biên tập',\n        permissionLevel: 4,\n        roleId: '5f97f6cbd1011608a40d3348'\n    },\n    EDITOR: {\n        name: 'Biên tập viên',\n        permissionLevel: 3,\n        roleId: '5f97f6b4d1011608a40d3347'\n    },\n    REVIEWER: {\n        name: 'Thẩm định viên',\n        permissionLevel: 2,\n        roleId: '5f97f6a8d1011608a40d3346'\n    },\n    AUTHOR: {\n        name: 'Tác giả',\n        permissionLevel: 1,\n        roleId: '5f97f67fd1011608a40d3345'\n    }\n};\n\nexports.STAGE = {\n    SUBMISSION: {\n        name: 'Chờ thẩm định',\n        value: 1\n    },\n    REVIEW: {\n        name: 'Thẩm định',\n        value: 2\n    },\n    PRE_PUBLISHING: {\n        name: 'Tiền xuất bản',\n        value: 3\n    },\n    PUBLISHED: {\n        name: 'Xuất bản',\n        value: 4\n    },\n    END: {\n        name: 'Kết thúc',\n        value: 0\n    }\n};\n\nexports.CHIEF_EDITOR_DECISION = {\n    ACCEPT_SUBMISSION: {\n        decisionName: 'Chấp nhận bài báo',\n        value: 1\n    },\n    DECLINE_SUBMISSION: {\n        decisionName: 'Từ chối bài báo',\n        value: 0\n    }\n}\n\nexports.EDITOR_DECISION = {\n    ACCEPT_SUBMISSION: {\n        decisionName: 'Chấp nhận bài báo',\n        value: 1\n    },\n    DECLINE_SUBMISSION: {\n        decisionName: 'Từ chối bài báo',\n        value: 0\n    }\n}\n\nexports.REVIEWER_DECISION = {\n    ACCEPT_SUBMISSION: {\n        decisionName: 'Chấp nhận bài báo',\n        value: 1\n    },\n    REVISION_REQUIRED: {\n        decisionName: 'Yêu cầu chỉnh sửa',\n        value: 2\n    },\n    DECLINE_SUBMISSION: {\n        decisionName: 'Từ chối bài báo',\n        value: 0\n    }\n}\n\nexports.orgList = [\n    {\n        value: 'Viện Hàn Lâm Khoa Học và Công Nghệ Việt Nam',\n        name: 'Viện Hàn Lâm Khoa Học và Công Nghệ Việt Nam',\n        engName: 'Vietnam Academy of Science and Technology',\n        memberUnits: [\n            {\n                name: 'Institute of Marine Biochemistry',\n                engName: 'Institute of Marine Biochemistry'\n            },\n            {\n                name: 'Institute of Marine Biochemistry 2',\n                engName: 'Institute of Marine Biochemistry 2'\n            }\n        ]\n    }\n];\n\nexports.SUBMISSION_TYPES = {\n    PUBLISHED_RESEARCH: {\n        name: 'Published Research'\n    },\n    PREPRINT: {\n        name: 'Preprint'\n    },\n    PEER_REVIEW_RESEARCH: {\n        name: 'Peer-review Research'\n    }\n};","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Spinner_Loader__1twK-\",\"load3\":\"Spinner_load3__3VkKK\"};","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Pagination_pagination__e-sGm\",\"item\":\"Pagination_item__An97q\",\"active\":\"Pagination_active__S-FRi\"};","const aux = (props) => props.children;\n\nexport default aux;","import axios from 'axios';\n\nconst instance = axios.create({\n    baseURL: 'http://localhost:5000/'\n});\n\n// const instance = axios.create({\n//     baseURL: '/api'\n// });\n\nexport default instance;","import axios from '../../utils/axios';\nimport * as actionTypes from './actionTypes';\n\nconst articleStart = () => {\n    return {\n        type: actionTypes.ARTICLE_START\n    };\n};\n\nconst getAllArticlesSuccess = (data) => {\n    return {\n        type: actionTypes.GET_ALL_ARTICLES_SUCCESS,\n        articles: data.articles,\n        total: data.total,\n        currentPage: data.currentPage,\n    }\n};\n\nconst getLatestArticlesHomeSuccess = (data) => {\n    return {\n        type: actionTypes.GET_LATEST_ARTICLES_SUCCESS,\n        articles: data.articles,\n    }\n};\n\nconst getMostViewedArticlesSuccess = (data) => {\n    return {\n        type: actionTypes.GET_MOST_VIEWED_ARTICLES_SUCCESS,\n        articles: data.articles,\n        total: data.total,\n        currentPage: data.currentPage,\n    }\n};\n\nconst getMostViewedArticlesHomeSuccess = (data) => {\n    return {\n        type: actionTypes.GET_MOST_VIEWED_ARTICLES_HOME_SUCCESS,\n        articles: data.articles,\n    }\n};\n\nconst getMostDownloadedArticlesSuccess = (data) => {\n    return {\n        type: actionTypes.GET_MOST_DOWNLOADED_ARTICLES_SUCCESS,\n        articles: data.articles,\n        total: data.total,\n        currentPage: data.currentPage,\n    }\n};\n\nconst getMostDownloadedArticlesHomeSuccess = (data) => {\n    return {\n        type: actionTypes.GET_MOST_DOWNLOADED_ARTICLES_HOME_SUCCESS,\n        articles: data.articles,\n    }\n};\n\nconst getSingleArticleSuccess = (article) => {\n    return {\n        type: actionTypes.GET_SINGLE_ARTICLE_SUCCESS,\n        article: article\n    }\n};\n\nconst getCommentsOfArticleSuccess = (comments) => {\n    return {\n        type: actionTypes.GET_COMMENTS_SUCCESS,\n        comments: comments\n    }\n};\n\nconst postCommentOfArticleSuccess = (message) => {\n    return {\n        type: actionTypes.POST_COMMENTS_SUCCESS,\n        message: message\n    }\n};\n\nconst replyACommentSuccess = (message) => {\n    return {\n        type: actionTypes.REPLY_A_COMMENT_SUCCESS,\n        message: message\n    }\n};\n\nconst getRelatedArticlesSuccess = (data) => {\n    return {\n        type: actionTypes.GET_RELATED_ARTICLES_SUCCESS,\n        relatedArticles: data.relatedArticles,\n        total: data.total,\n        currentPage: data.currentPage,\n    }\n};\n\nconst updateDownloadCountSuccess = (data) => {\n    return {\n        type: actionTypes.UPDATE_DOWNLOADED_COUNT_SUCCESS\n    }\n};\n\nconst searchArticlesSuccess = (articles) => {\n    return {\n        type: actionTypes.SEARCH_ARTICLES_SUCCESS,\n        articles: articles\n    }\n}\n\nconst getMyArticlesSuccess = (data) => {\n    return {\n        type: actionTypes.GET_MY_ARTICLES_SUCCESS,\n        articles: data.articles,\n        total: data.total,\n        currentPage: data.currentPage,\n    }\n};\n\nconst articleError = (error) => {\n    return {\n        type: actionTypes.ARTICLE_ERROR,\n        error: error\n    }\n};\n\n// Functions\nexport const getAllArticles = (page, limit, categoryId = \"\", typeId = \"\") => (dispatch) => {\n    if (typeId === \"\" && categoryId === \"\") {\n        dispatch(articleStart());\n    }\n    axios.get(`/articles?page=${page}&limit=${limit}&categoryId=${categoryId}&typeId=${typeId}`)\n        .then(res => {\n            dispatch(getAllArticlesSuccess(res.data));\n        })\n        .catch(err => {\n            dispatch(articleError(err.message));\n        });\n};\n\nexport const getLatestArticlesHome = (page, limit) => (dispatch) => {\n    dispatch(articleStart());\n    axios.get('/articles?page=' + page + '&limit=' + limit)\n        .then(res => {\n            dispatch(getLatestArticlesHomeSuccess(res.data));\n        })\n        .catch(err => {\n            dispatch(articleError(err.message));\n        });\n};\n\nexport const getMostViewedArticles = (page, limit) => (dispatch) => {\n    dispatch(articleStart());\n    axios.get('/articles/most-viewed?page=' + page + '&limit=' + limit)\n        .then(res => {\n            dispatch(getMostViewedArticlesSuccess(res.data));\n        })\n        .catch(err => {\n            dispatch(articleError(err.message));\n        });\n};\n\nexport const getMostViewedArticlesHome = (page, limit) => (dispatch) => {\n    axios.get('/articles/most-viewed?page=' + page + '&limit=' + limit)\n        .then(res => {\n            dispatch(getMostViewedArticlesHomeSuccess(res.data));\n        })\n        .catch(err => {\n            dispatch(articleError(err.message));\n        });\n};\n\nexport const getMostDownloadedArticles = (page, limit) => (dispatch) => {\n    dispatch(articleStart());\n    axios.get('/articles/most-downloaded?page=' + page + '&limit=' + limit)\n        .then(res => {\n            dispatch(getMostDownloadedArticlesSuccess(res.data));\n        })\n        .catch(err => {\n            dispatch(articleError(err.message));\n        });\n};\n\nexport const getMostDownloadedArticlesHome = (page, limit) => (dispatch) => {\n    axios.get('/articles/most-downloaded?page=' + page + '&limit=' + limit)\n        .then(res => {\n            dispatch(getMostDownloadedArticlesHomeSuccess(res.data));\n        })\n        .catch(err => {\n            dispatch(articleError(err.message));\n        });\n};\n\nexport const getSingleArticle = (id) => (dispatch) => {\n    dispatch(articleStart());\n    axios.get('/articles/' + id)\n        .then(res => {\n            dispatch(getSingleArticleSuccess(res.data.article));\n        }).catch(err => {\n            dispatch(articleError(err));\n        });\n};\n\nexport const getCommentsOfArticle = (articleId) => (dispatch) => {\n    axios.get('/articles/comments/' + articleId)\n        .then(res => {\n            dispatch(getCommentsOfArticleSuccess(res.data.comments));\n        }).catch(err => {\n            dispatch(articleError(err));\n        });\n};\n\nexport const postCommentOfArticle = (articleId, comment) => (dispatch, getState) => {\n    const token = getState().auth.token;\n    const body = { content: comment };\n    axios.post('/articles/comments/' + articleId, body, {\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    }).then(res => {\n        dispatch(postCommentOfArticleSuccess(res.data.message));\n    }).catch(err => {\n        dispatch(articleError(err));\n    });\n};\n\nexport const resetPostCommentState = () => (dispatch) => {\n    dispatch({\n        type: actionTypes.RESET_POST_COMMENTS_STATE\n    });\n};\n\nexport const replyACommentOfArticle = (commentId, reply) => (dispatch, getState) => {\n    const token = getState().auth.token;\n    const body = { content: reply };\n    axios.post('/articles/replies/' + commentId, body, {\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    }).then(res => {\n        dispatch(replyACommentSuccess(res.data.message));\n    }).catch(err => {\n        dispatch(articleError(err));\n    });\n};\n\nexport const resetReplyACommentState = () => (dispatch) => {\n    dispatch({\n        type: actionTypes.RESET_REPLY_A_COMMENT_STATE\n    });\n};\n\nexport const getRelatedArticles = (articleId, page, limit) => (dispatch) => {\n    axios.get('/articles/realated/' + articleId + '?page=' + page + '&limit=' + limit)\n        .then(res => {\n            dispatch(getRelatedArticlesSuccess(res.data));\n        })\n        .catch(err => {\n            dispatch(articleError(err.message));\n        });\n};\n\nexport const updateDownloadedCount = (articleId) => (dispatch) => {\n    axios.put('/articles/update-downloaded-count/' + articleId)\n        .then(res => {\n            dispatch(updateDownloadCountSuccess());\n        }).catch(err => {\n            dispatch(articleError(err));\n        });\n};\n\nexport const searchArticlesByKeyword = (keyword) => (dispatch) => {\n    axios.get('/articles/search/all?keyword=' + keyword)\n        .then(res => {\n            dispatch(searchArticlesSuccess(res.data.articles));\n        }).catch(err => {\n            dispatch(articleError(err));\n        });\n};\n\nexport const getMyArticles = (page, limit) => (dispatch, getState) => {\n    const token = getState().auth.token;\n    dispatch(articleStart());\n    axios.get('/articles/my/all?page=' + page + '&limit=' + limit, {\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    }).then(res => {\n        dispatch(getMyArticlesSuccess(res.data));\n    }).catch(err => {\n        dispatch(articleError(err.message));\n    });\n};\n","// Auth\nexport const AUTH_START = 'AUTH_START';\nexport const AUTH_SUCCESS = 'AUTH_SUCCESS';\nexport const AUTH_FAILED = 'AUTH_FAILED';\nexport const AUTH_LOGOUT = 'AUTH_LOGOUT';\nexport const SET_AUTH_REDIRECT_PATH = 'SET_AUTH_REDIRECT_PATH';\nexport const REGISTER_SUCCESS = 'REGISTER_SUCCESS';\nexport const RESET_REGISTER_STATE = 'RESET_REGISTER_STATE';\n\n// 1.Submissions\nexport const SUBMISSIONS_START = 'SUBMISSION_START';\nexport const UPLOAD_START = 'UPLOAD_START';\nexport const SUBMISSIONS_ERROR = 'SUBMISSIONS_ERROR';\n\nexport const GET_CATEGORIES_SUCCESS = 'GET_CATEGORIES_SUCCESS';\nexport const GET_STAGES_SUCCESS = 'GET_STAGES_SUCCESS';\nexport const GET_SUBMISSION_TYPES_SUCCESS = 'GET_SUBMISSION_TYPES_SUCCESS';\nexport const GET_REVIEWER_DECISIONS_SUCCESS = 'GET_REVIEWER_DECISIONS_SUCCESS';\nexport const GET_EDITOR_DECISIONS_SUCCESS = 'GET_EDITOR_DECISIONS_SUCCESS';\n\nexport const GET_ALL_SUBMISSIONS_SUCCESS = 'GET_ALL_SUBMISSIONS_SUCCESS';\n\nexport const CREATE_SUBMISSION_SUCCESS = 'CREATE_SUBMISSION_SUCCESS';\nexport const RESET_CREATE_SUBMISSION_STATE = 'RESET_CREATE_SUBMISSION_STATE';\n\nexport const GET_SUBMISSIONS_BY_AUTHOR_SUCCESS = 'GET_SUBMISSIONS_BY_AUTHOR_SUCCESS';\n\nexport const GET_SUBMISSIONS_DETAIL_SUCCESS = 'GET_SUBMISSIONS_DETAIL_SUCCESS';\n\nexport const EDIT_SUBMISSION_SUCCESS = 'EDIT_SUBMISSION_SUCCESS';\nexport const RESET_EDIT_SUBMISSION_STATE = 'RESET_EDIT_SUBMISSION_STATE';\n\nexport const DELETE_SUBMISSION_SUCCESS = 'DELETE_SUBMISSION_SUCCESS';\nexport const RESET_DELETE_SUBMISSION_STATE = 'RESET_DELETE_SUBMISSION_STATE';\n\n// 2.Review Process\nexport const REVIEW_PROCESS_START = 'REVIEW_PROCESS_START';\nexport const REVIEW_PROCESS_ERROR = 'REVIEW_PROCESS_ERROR';\n\n// 2.1.Chief Editor\nexport const GET_ALL_EDITORS_SUCCESS = 'GET_ALL_EDITORS_SUCCESS';\n\nexport const ASSIGN_EDITOR_SUCCESS = 'ASSIGN_EDITOR_SUCCESS';\nexport const RESET_EDITOR_ASSIGNMENT_STATE = 'RESET_EDITOR_ASSIGNMENT_STATE';\n\nexport const GET_EDITOR_ASSIGNMENT_BY_SUBMISSION_SUCCESS = 'GET_EDITOR_ASSIGNMENT_BY_SUBMISSION_SUCCESS';\nexport const GET_REVIEWER_ASSIGNMENTS_BY_SUBMISSION_SUCCESS = 'GET_REVIEWER_ASSIGNMENTS_BY_SUBMISSION_SUCCESS';\n\n// 2.2. Editor\nexport const GET_MY_EDITOR_ASSIGNMENTS_SUCCESS = 'GET_MY_EDITOR_ASSIGNMENTS_SUCCESS';\n\nexport const GET_ALL_REVIEWERS_SUCCESS = 'GET_ALL_REVIEWERS_SUCCESS';\n\nexport const ASSIGN_REVIEWER_SUCCESS = 'ASSIGN_REVIEWER_SUCCESS ';\nexport const RESET_REVIEWER_ASSIGNMENT_STATE = 'RESET_REVIEWER_ASSIGNMENT_STATE';\n\nexport const CREATE_EDITOR_SUBMISSION_SUCCESS = 'CREATE_EDITOR_SUBMISSION_SUCCESS';\nexport const RESET_CREATE_EDITOR_SUBMISSION_STATE = 'RESET_CREATE_EDITOR_SUBMISSION_STATE';\n\nexport const EDIT_EDITOR_SUBMISSION_SUCCESS = 'EDIT_EDITOR_SUBMISSION_SUCCESS';\nexport const RESET_EDIT_EDITOR_SUBMISSION_SUCCESS = 'RESET_EDIT_EDITOR_SUBMISSION_SUCCESS';\n\nexport const REQUEST_AUTHOR_REVISION_SUCCESS = 'REQUEST_AUTHOR_REVISION_SUCCESS';\nexport const RESET_REQUEST_AUTHOR_REVISION_STATE = 'RESET_REQUEST_AUTHOR_REVISION_STATE';\n\n// export const EDIT_REQUEST_AUTHOR_REVISION_SUCCESS = 'EDIT_REQUEST_AUTHOR_REVISION_SUCCESS';\n// export const RESET_EDIT_REQUEST_AUTHOR_REVISION_STATE = 'RESET_EDIT_REQUEST_AUTHOR_REVISION_STATE';\n\n// 2.3. Reviewer\nexport const GET_MY_REVIEWER_ASSIGNMENTS_SUCCESS = 'GET_MY_REVIEWER_ASSIGNMENTS_SUCCESS';\nexport const GET_MY_REVIEWER_ASSIGNMENT_DETAIL_SUCCESS = 'GET_MY_REVIEWER_ASSIGNMENT_DETAIL_SUCCESS';\n\nexport const CREATE_REVIEW_SUBMISSION_SUCCESS = 'CREATE_REVIEW_SUBMISSION_SUCCESS';\nexport const RESET_CREATE_REVIEW_SUBMISSION_STATE = 'RESET_CREATE_REVIEW_SUBMISSION_STATE';\n\nexport const EDIT_REVIEW_SUBMISSION_SUCCESS = 'EDIT_REVIEW_SUBMISSION_SUCCESS';\nexport const RESET_EDIT_REVIEW_SUBMISSION_SUCCESS = 'RESET_EDIT_REVIEW_SUBMISSION_SUCCESS';\n\n// Author and Editor get Author Assignment\nexport const GET_AUTHOR_ASSIGNMENT_SUCCESS = 'GET_AUTHOR_ASSIGNMENT_SUCCESS';\n// Author Submit Revision of Submissison\nexport const AUTHOR_SUBMIT_REVISION_SUCCESS = 'AUTHOR_SUBMIT_REVISION_SUCCESS';\nexport const RESET_SUBMIT_REVISION_STATE = 'RESET_SUBMIT_REVISION_STATE';\n\n// Chief Editor Accept or Decline Submisison\nexport const ACCEPT_SUBMISSION_SUCCESS = 'ACCEPT_SUBMISSION_SUCCESS';\nexport const RESET_ACCEPT_SUBMISSION_STATE = 'RESET_ACCEPT_SUBMISSION_STATE';\n\nexport const DECLINE_SUBMISSION_SUCCESS = 'DECLINE_SUBMISSION_SUCCESS';\nexport const RESET_DECLINE_SUBMISSION_STATE = 'RESET_DECLINE_SUBMISSION_STATE';\n\n// All: Get Chief Editor Submission\nexport const GET_CE_SUBMISSION_SUCCESS = 'GET_CE_SUBMISSION_SUCCESS';\n\n// All: Get My Notifications\nexport const GET_MY_NOTIFICATIONS_SUCCESS = 'GET_MY_NOTIFICATIONS_SUCCESS';\nexport const GET_ALL_MY_NOTIFICATIONS_SUCCESS = 'GET_ALL_MY_NOTIFICATIONS_SUCCESS';\n\n// ARTICLES\nexport const ARTICLE_START = 'ARTICLE_START';\nexport const ARTICLE_ERROR = 'ARTICLE_ERROR';\nexport const GET_ALL_ARTICLES_SUCCESS = 'GET_ALL_ARTICLES_SUCCESS';\nexport const GET_LATEST_ARTICLES_SUCCESS = 'GET_LATEST_ARTICLES_SUCCESS';\nexport const GET_MOST_VIEWED_ARTICLES_SUCCESS = 'GET_MOST_VIEWED_ARTICLES_SUCCESS';\nexport const GET_MOST_VIEWED_ARTICLES_HOME_SUCCESS = 'GET_MOST_VIEWED_ARTICLES_HOME_SUCCESS';\nexport const GET_MOST_DOWNLOADED_ARTICLES_SUCCESS = 'GET_MOST_DOWNLOADED_ARTICLES_SUCCESS';\nexport const GET_MOST_DOWNLOADED_ARTICLES_HOME_SUCCESS = 'GET_MOST_DOWNLOADED_ARTICLES_HOME_SUCCESS';\nexport const GET_MY_ARTICLES_SUCCESS = 'GET_MY_ARTICLES_SUCCESS';\n\nexport const GET_SINGLE_ARTICLE_SUCCESS = 'GET_SINGLE_ARTICLE_SUCCESS';\nexport const GET_RELATED_ARTICLES_SUCCESS = 'GET_RELATED_ARTICLES_SUCCESS';\nexport const GET_COMMENTS_SUCCESS = 'GET_COMMENTS_SUCCESS';\n\nexport const POST_COMMENTS_SUCCESS = 'POST_COMMENTS_SUCCESS';\nexport const RESET_POST_COMMENTS_STATE = 'RESET_POST_COMMENTS_STATE';\nexport const REPLY_A_COMMENT_SUCCESS = 'REPLY_A_COMMENT_SUCCESS';\nexport const RESET_REPLY_A_COMMENT_STATE = 'RESET_REPLY_A_COMMENT_STATE';\n\nexport const SEARCH_ARTICLES_SUCCESS = 'SEARCH_ARTICLES_SUCCESS';\n\nexport const UPDATE_DOWNLOADED_COUNT_SUCCESS = 'UPDATE_DOWNLOADED_COUNT_SUCCESS';\n\n// Filter and Searching\nexport const SEARCH_SUBMISSIONS_SUCCESS = 'SEARCH_SUBMISSIONS_SUCCESS';\n\n// VAST Crawler\nexport const ARTICLES_CRAWL_START = 'ARTICLES_CRAWL_START';\nexport const ARTICLES_CRAWL_SUCCESS = 'ARTICLES_CRAWL_SUCCESS';\nexport const JUMP_TO_PAGE_SUCCESS = 'JUMP_TO_PAGE_SUCCESS';\nexport const ARTICLES_CRAWL_ERROR = 'ARTICLES_CRAWL_ERROR';\n\n// User Infor\nexport const USERS_START = 'USERS_START';\nexport const GET_MY_USER_INFOR_SUCCESS = 'GET_MY_USER_INFOR_SUCCESS';\n\nexport const GET_PREFERENCE_CATEGORIES_SUCCESS = 'GET_PREFERENCE_CATEGORIES_SUCCESS';\n\nexport const UPDATE_USER_INFOR_SUCCESS = 'UPDATE_USER_INFOR_SUCCESS';\nexport const RESET_UPDATE_USER_INFOR_STATE = 'RESET_UPDATE_USER_INFOR_STATE';\n\nexport const CHANGE_PASSWORD_SUCCESS = 'CHANGE_PASSWORD_SUCCESS';\nexport const RESET_CHANGE_PASSWORD_STATE = 'RESET_CHANGE_PASSWORD_STATE';\n\nexport const CHANGE_AVATAR_SUCCESS = 'CHANGE_AVATAR_SUCCESS';\nexport const RESET_CHANGE_AVATAR_STATE = 'RESET_CHANGE_AVATAR_STATE';\n\nexport const USERS_ERROR = 'USERS_ERROR';\n\n// Check Published Article\nexport const GET_PUBLISHED_ARTICLE_BY_DOI_SUCCESS = 'GET_PUBLISHED_ARTICLE_BY_DOI_SUCCESS';\n\n// ADMIN\nexport const GET_ALL_USERS_INFOR_SUCCESS = 'GET_ALL_USERS_INFOR_SUCCESS';\nexport const GET_USER_INFOR_SUCCESS = 'GET_USER_INFOR_SUCCESS';\nexport const GET_ALL_USER_ROLES_SUCCESS = 'GET_ALL_USER_ROLES_SUCCESS';\nexport const CHANGE_USER_ROLE_SUCCESS = 'CHANGE_USER_ROLE_SUCCESS';\nexport const RESET_CHANGE_USER_ROLE_STATE = 'RESET_CHANGE_USER_ROLE_STATE';\n\n\n\n\n\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link, NavLink } from 'react-router-dom';\nimport Autosuggest from 'react-autosuggest';\nimport { searchArticlesByKeyword } from '../../store/actions/articleActions';\nimport axios from '../../utils/axios';\nclass Navigation extends Component {\n\n    state = {\n        value: '',\n        articles: []\n    };\n\n    getSuggestions = (keyword) => {\n        const articles = axios.get('/articles/search/all?keyword=' + keyword)\n            .then(res => {\n                return res.data.articles;\n            }).catch(err => {\n                console.log(err);\n            });\n        return articles;\n    };\n\n    getSuggestionValue = (suggestion) => {\n        this.props.history.push('/single-article/' + suggestion._id);\n\n        return suggestion.title;\n    };\n\n    renderSuggestion = (suggestion) => (\n        <div>\n            {suggestion.title}\n        </div>\n    );\n\n    onChange = (event, { newValue }) => {\n        this.setState({\n            value: newValue\n        });\n    };\n\n    onSuggestionsFetchRequested = async ({ value }) => {\n        this.setState({\n            articles: await this.getSuggestions(value)\n        });\n    };\n\n    onSuggestionsClearRequested = () => {\n        this.setState({\n            articles: []\n        });\n    };\n\n    render() {\n        const { value, articles } = this.state;\n\n        const inputProps = {\n            placeholder: 'Tìm kiếm bài báo',\n            value,\n            onChange: this.onChange\n        };\n\n        return (\n            <div>\n                <header className=\"header-area\">\n                    <div className=\"mag-main-menu\" id=\"sticker\">\n                        <div className=\"classy-nav-container breakpoint-off\">\n                            <nav className=\"classy-navbar justify-content-between\" id=\"magNav\">\n                                <NavLink to=\"/\" className=\"nav-brand\">\n                                    {/* <img src=\"img/core-img/logo.png\" alt=\"\" /> */}\n                                    <img src={require(\"../../resources/core-imgs/logo3.png\")} style={{ width: '60%', height: '60%' }} alt=\"\" />\n                                </NavLink>\n\n                                <div className=\"nav-content d-flex align-items-center\">\n                                    <div className=\"top-search-area\">\n                                        <form>\n                                            <Autosuggest\n                                                suggestions={articles}\n                                                onSuggestionsFetchRequested={this.onSuggestionsFetchRequested}\n                                                onSuggestionsClearRequested={this.onSuggestionsClearRequested}\n                                                getSuggestionValue={this.getSuggestionValue}\n                                                renderSuggestion={this.renderSuggestion}\n                                                inputProps={inputProps}\n                                            />\n                                            <button type=\"button\" className=\"btn\">\n                                                <i className=\"fa fa-search\" aria-hidden=\"true\"></i>\n                                            </button>\n                                        </form>\n                                    </div>\n                                    <div className=\"classy-menu\">\n                                        <div className=\"classycloseIcon\">\n                                            <div className=\"cross-wrap\"><span className=\"top\"></span><span className=\"bottom\"></span></div>\n                                        </div>\n                                        <div className=\"classynav\">\n                                            <ul>\n                                                <li className=\"active\"><Link to=\"/\">Trang chủ</Link></li>\n                                                <li><NavLink to=\"/articles\">Bài báo</NavLink></li>\n                                                <li><NavLink to=\"/dashboard\">Biên tập</NavLink></li>\n                                                <li style={{ borderRight: '1px solid #ebebeb' }}><NavLink to=\"#\">Về chúng tôi</NavLink></li>\n                                            </ul>\n                                        </div>\n                                    </div>\n\n                                    <div className=\"d-flex align-items-center\">\n                                        {!this.props.isAuth ? (\n                                            <NavLink to=\"/login\" className=\"login-btn\">\n                                                <i className=\"fa fa-user\" aria-hidden=\"true\"></i> Đăng nhập\n                                            </NavLink>\n                                        ) : (\n                                                <div className=\"classynav\">\n                                                    <ul>\n                                                        <li className=\"cn-dropdown-item has-down text-center\">\n                                                            <NavLink to=\"#\" className=\"login-btn p-2\">\n                                                                {this.props.changed_avatar ? (\n                                                                    <img\n                                                                        className=\"rounded-circle border border-danger mb-3 ml-2\"\n                                                                        src={this.props.changed_avatar}\n                                                                        alt=\"UserImage\"\n                                                                        style={{ maxWidth: '40px', maxHeight: '40px' }} />\n                                                                ) : (\n                                                                    <img\n                                                                        className=\"rounded-circle border border-danger mb-3 ml-2\"\n                                                                        src={this.props.avatar}\n                                                                        alt=\"UserImage\"\n                                                                        style={{ maxWidth: '40px', maxHeight: '40px' }} />\n                                                                )}\n\n                                                            </NavLink>\n                                                            <ul className=\"dropdown text-left\">\n                                                                <li>\n                                                                    <NavLink to=\"dashboard/profile\" style={{ fontSize: '14px', fontWeight: '400' }}>\n                                                                        <i className=\"far fa-id-badge\"></i> Trang cá nhân\n                                                                    </NavLink>\n                                                                </li>\n                                                                <li>\n                                                                    <NavLink to=\"/logout\" style={{ fontSize: '14px', fontWeight: '400' }}>\n                                                                        <i className=\"fas fa-sign-out-alt\"></i> Đăng xuất\n                                                                    </NavLink>\n                                                                </li>\n                                                            </ul>\n                                                        </li>\n                                                    </ul>\n                                                </div>\n                                            )}\n\n                                        <NavLink to=\"/dashboard\" className=\"submit-video\">\n                                            <span><i className=\"fa fa-cloud-upload\"></i></span> <span className=\"video-text\">Dashboard</span>\n                                        </NavLink>\n                                    </div>\n                                </div>\n                            </nav>\n                        </div>\n                    </div>\n                </header >\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        isAuth: state.auth.token != null,\n        userId: state.auth.userId,\n        avatar: state.auth.avatar,\n        fullname: state.auth.fullname,\n        articles: state.article.articles_search,\n        changed_avatar: state.user.avatar\n    };\n};\n\nconst mapDispatchToProps = {\n    searchArticlesByKeyword\n};\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Navigation);","import axios from '../../utils/axios';\nimport * as actionTypes from './actionTypes';\n\nconst submissionStart = () => {\n    return {\n        type: actionTypes.SUBMISSIONS_START\n    };\n};\n\nconst uploadStart = () => {\n    return {\n        type: actionTypes.UPLOAD_START\n    }\n};\n\nconst getCategoriesSuccess = (categories) => {\n    return {\n        type: actionTypes.GET_CATEGORIES_SUCCESS,\n        categories: categories\n    }\n};\n\nconst getStagesSuccess = (stages) => {\n    return {\n        type: actionTypes.GET_STAGES_SUCCESS,\n        stages: stages\n    }\n};\n\nconst getSubmissionTypesSuccess = (types) => {\n    return {\n        type: actionTypes.GET_SUBMISSION_TYPES_SUCCESS,\n        types: types\n    }\n};\n\nconst getReviewerDecisionsSuccess = (reviewerDecisions) => {\n    return {\n        type: actionTypes.GET_REVIEWER_DECISIONS_SUCCESS,\n        reviewerDecisions: reviewerDecisions\n    }\n};\n\nconst getEditorDecisionsSuccess = (editorDecisions) => {\n    return {\n        type: actionTypes.GET_EDITOR_DECISIONS_SUCCESS,\n        editorDecisions: editorDecisions\n    }\n};\n\nconst getSubmissionsByAuthorSuccess = (data) => {\n    return {\n        type: actionTypes.GET_SUBMISSIONS_BY_AUTHOR_SUCCESS,\n        submissions: data.submissions,\n        total: data.total,\n        currentPage: data.currentPage\n    }\n};\n\nconst getSubmissionDetailSuccess = (submission) => {\n    return {\n        type: actionTypes.GET_SUBMISSIONS_DETAIL_SUCCESS,\n        submission: submission\n    }\n};\n\nconst createSubmissionSuccess = (submission) => {\n    return {\n        type: actionTypes.CREATE_SUBMISSION_SUCCESS,\n        submission: submission\n    }\n};\n\nconst editSubmissionSuccess = (submission) => {\n    return {\n        type: actionTypes.EDIT_SUBMISSION_SUCCESS,\n        submission: submission\n    }\n};\n\nconst deleteSubmissionSuccess = (message) => {\n    return {\n        type: actionTypes.DELETE_SUBMISSION_SUCCESS,\n        message: message\n    }\n};\n\n\n// Chief Editor\nconst getAllSubmissionsSuccess = (data) => {\n    return {\n        type: actionTypes.GET_ALL_SUBMISSIONS_SUCCESS,\n        submissions: data.submissions,\n        total: data.total,\n        currentPage: data.currentPage\n    }\n};\n\nconst searchSubmissionsSuccess = (data) => {\n    return {\n        type: actionTypes.SEARCH_SUBMISSIONS_SUCCESS,\n        submissions: data.submissions,\n        total: data.total,\n        currentPage: data.currentPage\n    }\n};\n\nconst submissionErrors = (error) => {\n    return {\n        type: actionTypes.SUBMISSIONS_ERROR,\n        error: error\n    }\n};\n\nexport const getCategories = () => (dispatch) => {\n    axios.get('/categories')\n        .then(res => {\n            dispatch(getCategoriesSuccess(res.data.categories));\n        })\n        .catch(err => {\n            dispatch(submissionErrors(err.message));\n        });\n};\n\nexport const getStages = () => (dispatch) => {\n    axios.get('/stages')\n        .then(res => {\n            dispatch(getStagesSuccess(res.data.stages));\n        })\n        .catch(err => {\n            dispatch(submissionErrors(err.message));\n        });\n};\n\nexport const getSubmissionTypes = () => (dispatch) => {\n    axios.get('/submission-types')\n        .then(res => {\n            dispatch(getSubmissionTypesSuccess(res.data.types));\n        })\n        .catch(err => {\n            dispatch(submissionErrors(err.message));\n        });\n};\n\nexport const getReviewerDecisions = () => (dispatch) => {\n    axios.get('/decisions/reviewer')\n        .then(res => {\n            dispatch(getReviewerDecisionsSuccess(res.data.reviewerDecisions));\n        })\n        .catch(err => {\n            dispatch(submissionErrors(err.message));\n        });\n};\n\nexport const getEditorDecisions = () => (dispatch) => {\n    axios.get('/decisions/editor')\n        .then(res => {\n            dispatch(getEditorDecisionsSuccess(res.data.editorDecisions));\n        })\n        .catch(err => {\n            dispatch(submissionErrors(err.message));\n        });\n};\n\nexport const getSubmissionsByAuthor = (authorId, page, limit, categoryId, stageId, typeId) => (dispatch, getState) => {\n    const token = getState().auth.token;\n    if (typeId === \"\" && categoryId === \"\" && stageId === \"\") {\n        dispatch(submissionStart());\n    }\n    axios.get(`/submissions/author/${authorId}?page=${page}&limit=${limit}&categoryId=${categoryId}&stageId=${stageId}&typeId=${typeId}`, {\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    }).then(res => {\n        dispatch(getSubmissionsByAuthorSuccess(res.data));\n    }).catch(err => {\n        dispatch(submissionErrors(err.message));\n    });\n};\n\nexport const getSubmissionDetail = (submissionId) => (dispatch, getState) => {\n    const token = getState().auth.token;\n    dispatch(submissionStart());\n    axios.get('/submissions/' + submissionId, {\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    }).then(res => {\n        dispatch(getSubmissionDetailSuccess(res.data.submission));\n    }).catch(err => {\n        dispatch(submissionErrors(err.message));\n    });\n};\n\n// Create Submission\nexport const createSubmission = (formData) => (dispatch, getState) => {\n    dispatch(uploadStart());\n    const token = getState().auth.token;\n    axios.post('/submissions', formData, {\n        headers: {\n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'multipart/form-data'\n        }\n    }).then(res => {\n        dispatch(createSubmissionSuccess(res.data.submission));\n    }).catch(err => {\n        dispatch(submissionErrors(err.response.data.error));\n    });\n};\n\nexport const resetCreateSubmissionState = () => (dispatch) => {\n    dispatch({\n        type: actionTypes.RESET_CREATE_SUBMISSION_STATE\n    })\n};\n\n// Edit Submission\nexport const editSubmission = (submissionId, formData) => (dispatch, getState) => {\n    dispatch(uploadStart());\n    const token = getState().auth.token;\n    axios.put('/submissions/' + submissionId, formData, {\n        headers: {\n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'multipart/form-data'\n        }\n    }).then(res => {\n        dispatch(editSubmissionSuccess(res.data.submission));\n    }).catch(err => {\n        dispatch(submissionErrors(err.response.data.error));\n    });\n};\n\nexport const resetEditSubmissionState = () => (dispatch) => {\n    dispatch({\n        type: actionTypes.RESET_EDIT_SUBMISSION_STATE\n    })\n};\n\n// Delete Submission\nexport const deleteSubmission = (submissionId) => (dispatch, getState) => {\n    const token = getState().auth.token;\n    axios.delete('/submissions/' + submissionId, {\n        headers: {\n            'Authorization': `Bearer ${token}`,\n        }\n    }).then(res => {\n        dispatch(deleteSubmissionSuccess(res.data.message));\n    }).catch(err => {\n        dispatch(submissionErrors(err.response.data.error));\n    });\n};\n\nexport const resetDeleteSubmissionState = () => (dispatch) => {\n    dispatch({\n        type: actionTypes.RESET_DELETE_SUBMISSION_STATE\n    })\n};\n\n// Chief Editor Get All Submissions\nexport const getAllSubmissions = (page, limit, categoryId, stageId, typeId) => (dispatch, getState) => {\n    const token = getState().auth.token;\n    if (typeId === \"\" && categoryId === \"\" && stageId === \"\") {\n        dispatch(submissionStart());\n    }\n    axios.get(`/submissions?page=${page}&limit=${limit}&categoryId=${categoryId}&stageId=${stageId}&typeId=${typeId}`, {\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    }).then(res => {\n        dispatch(getAllSubmissionsSuccess(res.data));\n    }).catch(err => {\n        dispatch(submissionErrors(err.message));\n    });\n};\n\n// Chief Editor Search Submissions\nexport const searchSubmissions = (page, limit, keyword) => (dispatch, getState) => {\n    const token = getState().auth.token;\n    axios.get('/submissions/search/all?page=' + page + '&limit=' + limit + '&keyword=' + keyword, {\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    }).then(res => {\n        dispatch(searchSubmissionsSuccess(res.data));\n    }).catch(err => {\n        dispatch(submissionErrors(err.message));\n    });\n};","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { getCategories } from '../../store/actions/submissionActions';\nclass Footer extends Component {\n    componentDidMount() {\n        if (this.props.categories.length <= 0) {\n            this.props.getCategories();\n        }\n    }\n\n    render() {\n        const footer = (\n            <footer className=\"footer-area\">\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <div className=\"col-12 col-sm-6 col-lg-3\">\n                            <div className=\"footer-widget\">\n                                <img src={require(\"../../resources/core-imgs/logo3_admin.png\")} style={{ width: '60%', height: '60%' }} alt=\"\" />\n                                <p>Tạp chí truy cập mở VNOJS</p>\n                                <div className=\"footer-social-info\">\n                                    <Link to=\"#\" className=\"facebook\"><i className=\"fa fa-facebook\"></i></Link>\n                                    <Link to=\"#\" className=\"google-plus\"><i className=\"fa fa-google-plus\"></i></Link>\n                                    <Link to=\"#\" className=\"instagram\"><i className=\"fa fa-globe\"></i></Link>\n                                    <Link to=\"#\" className=\"twitter\"><i className=\"fa fa-twitter\"></i></Link>\n                                    <Link to=\"#\" className=\"linkedin\"><i className=\"fa fa-linkedin\"></i></Link>\n                                </div>\n                                <p className=\"pt-3\">Contact: lamutd0812@gmail.com</p>\n                            </div>\n                        </div>\n\n                        <div className=\"col-12 col-sm-6 col-lg-3\">\n                            <div className=\"footer-widget\">\n                                <h6 className=\"widget-title\">Chủ đề</h6>\n                                <nav className=\"footer-widget-nav\">\n                                    <ul>\n                                        {this.props.categories.length > 0 && this.props.categories.map(category => (\n                                            <li key={category._id}>\n                                                <Link to=\"#\">\n                                                    <i className=\"fa fa-angle-double-right\" aria-hidden=\"true\"></i> {category.name}\n                                                </Link>\n                                            </li>\n                                        ))}\n                                    </ul>\n                                </nav>\n                            </div>\n                        </div>\n\n                        <div className=\"col-12 col-sm-6 col-lg-3\">\n                            <div className=\"footer-widget\">\n                                <h6 className=\"widget-title\">Tag</h6>\n                                <ul className=\"footer-tags\">\n                                    {this.props.categories.length > 0 && this.props.categories.map(category => (\n                                        <li key={category._id}>\n                                            <Link to=\"#\">\n                                                {category.name}\n                                            </Link>\n                                        </li>\n                                    ))}\n                                </ul>\n                            </div>\n                        </div>\n\n                        <div className=\"col-12 col-sm-6 col-lg-3\">\n                            <div className=\"footer-widget\">\n                                <h6 className=\"widget-title\">Hướng dẫn</h6>\n                                <nav className=\"footer-widget-nav\">\n                                    <ul>\n                                        <li>\n                                            <Link to=\"#\">\n                                                <i className=\"fa fa-angle-double-right\" aria-hidden=\"true\"></i> Tác giả\n                                            </Link>\n                                        </li>\n                                        <li>\n                                            <Link to=\"#\">\n                                                <i className=\"fa fa-angle-double-right\" aria-hidden=\"true\"></i> Thẩm định viên\n                                            </Link>\n                                        </li>\n                                        <li>\n                                            <Link to=\"#\">\n                                                <i className=\"fa fa-angle-double-right\" aria-hidden=\"true\"></i> Biên tập viên\n                                            </Link>\n                                        </li>\n                                        <li>\n                                            <Link to=\"#\">\n                                                <i className=\"fa fa-angle-double-right\" aria-hidden=\"true\"></i> Tổng biên tập\n                                            </Link>\n                                        </li>\n                                        <li>\n                                            <Link to=\"#\">\n                                                <i className=\"fa fa-angle-double-right\" aria-hidden=\"true\"></i> Thư ký biên tập\n                                            </Link>\n                                        </li>\n                                        <li>\n                                            <Link to=\"#\">\n                                                <i className=\"fa fa-angle-double-right\" aria-hidden=\"true\"></i> Admin\n                                            </Link>\n                                        </li>\n                                    </ul>\n                                </nav>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"copywrite-area\">\n                    <div className=\"container\">\n                        <div className=\"row\">\n                            <div className=\"col-12 col-sm-6\">\n                                <p className=\"copywrite-text\">\n                                    Copyright @2020 All rights reserved | This template is made with {\" \"}\n                                    <i className=\"fa fa-heart-o\" aria-hidden=\"true\"></i> {\" \"}\n                                    by <a href=\"https://colorlib.com\">Colorlib</a></p>\n                            </div>\n                            <div className=\"col-12 col-sm-6\">\n                                <nav className=\"footer-nav\">\n                                    <ul>\n                                        <li><Link to=\"/\">Trang chủ</Link></li>\n                                        <li><Link to=\"#\">Quy trình thẩm định</Link></li>\n                                        <li><Link to=\"#\">Về chúng tôi</Link></li>\n                                        <li><Link to=\"#\">Liên hệ</Link></li>\n                                    </ul>\n                                </nav>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </footer>\n        );\n        return (\n            <div>\n                {footer}\n            </div>\n        );\n    }\n}\n\n\nconst mapStateToProps = state => {\n    return {\n        categories: state.submission.categories\n    };\n};\n\nconst mapDispatchToProps = {\n    getCategories\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Footer);","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst LeftSidebar = (props) => {\n    return (\n        <div className=\"post-sidebar-area left-sidebar mt-30 mb-30 bg-white box-shadow\">\n            <div className=\"single-sidebar-widget p-30\">\n                <div className=\"section-heading\">\n                    <h5>Xem nhiều nhất</h5>\n                </div>\n                {props.most_viewed_articles.map(article => (\n                    <div className=\"single-blog-post d-flex\" key={article._id}>\n                        <div className=\"post-content\">\n                            <Link to={`/single-article/${article._id}`} className=\"post-title\">\n                                {article.submissionId.title}\n                            </Link>\n                            <div className=\"post-meta\">\n                                <Link to=\"#\" className=\"text-dark\" style={{ fontWeight: '400' }}>\n                                    <i className=\"fas fa-user\"></i>{\" \"}\n                                    {article.submissionId.authorId.lastname} {article.submissionId.authorId.firstname}\n                                </Link>\n                                <Link to=\"#\" className=\"text-dark ml-2\" style={{ fontWeight: '400' }}>\n                                    <i className=\"fas fa-eye\" aria-hidden=\"true\"></i> {article.views}\n                                </Link>\n                                <Link to=\"#\" className=\"text-dark ml-2\" style={{ fontWeight: '400' }}>\n                                    <i className=\"fas fa-download\" aria-hidden=\"true\"></i> {article.downloaded}\n                                </Link>\n                            </div>\n                            <Link to=\"#\" className=\"badge-ol badge-ol-dark badge-outlined mt-1\" style={{ fontSize: '12px' }}>{article.submissionId.typeId.name}</Link>\n                            <Link to=\"#\" className=\"badge-ol badge-ol-dark badge-outlined ml-1 mt-1\" style={{ fontSize: '12px' }}>{article.submissionId.categoryId.name}</Link>\n                        </div>\n                    </div>\n                ))}\n            </div>\n\n            <div className=\"single-sidebar-widget p-30\">\n                <div className=\"section-heading\">\n                    <h5>Mới nhất</h5>\n                </div>\n\n                {props.latest_articles.map(article => (\n                    <div className=\"single-blog-post d-flex\" key={article._id}>\n                        <div className=\"post-content\">\n                            <Link to={`/single-article/${article._id}`} className=\"post-title\">\n                                {article.submissionId.title}\n                            </Link>\n                            <div className=\"post-meta\">\n                                <Link to=\"#\" className=\"text-dark\" style={{ fontWeight: '400' }}>\n                                    <i className=\"fas fa-user\"></i>{\" \"}\n                                    {article.submissionId.authorId.lastname} {article.submissionId.authorId.firstname}\n                                </Link>\n                                <Link to=\"#\" className=\"text-dark ml-2\" style={{ fontWeight: '400' }}>\n                                    <i className=\"fas fa-eye\" aria-hidden=\"true\"></i> {article.views}\n                                </Link>\n                                <Link to=\"#\" className=\"text-dark ml-2\" style={{ fontWeight: '400' }}>\n                                    <i className=\"fas fa-download\" aria-hidden=\"true\"></i> {article.downloaded}\n                                </Link>\n                            </div>\n                            <div className=\"badge-ol badge-ol-dark badge-outlined mt-1\" style={{ fontSize: '12px' }}>{article.submissionId.typeId.name}</div>\n                            <div className=\"badge-ol badge-ol-dark badge-outlined ml-1 mt-1\" style={{ fontSize: '12px' }}>{article.submissionId.categoryId.name}</div>\n                        </div>\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n};\n\nexport default LeftSidebar;","import { REVIEWER_DECISION } from './constant';\n\nexport const updateObject = (oldObject, updatedProperties) => {\n    return {\n        ...oldObject, ...updatedProperties\n    };\n};\n\nexport const checkValidity = (value, rules) => {\n    let isValid = true;\n    if (rules.usernameValid) {\n        const pattern = /^[a-zA-Z0-9]+$/;\n        isValid = pattern.test(value) && isValid;\n    }\n    if (rules.required) {\n        isValid = value.trim() !== '' && isValid;\n    }\n    if (rules.minLength) {\n        isValid = value.length >= rules.minLength && isValid;;\n    }\n    if (rules.maxLength) {\n        isValid = value.length <= rules.maxLength && isValid;;\n    }\n    if (rules.isEmail) {\n        const pattern = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\n        isValid = pattern.test(value) && isValid;\n    }\n    if (rules.isNumeric) {\n        const pattern = /^\\d+$/;\n        isValid = pattern.test(value) && isValid;\n    }\n    return isValid;\n};\n\nexport const getStageBadgeClassname = (value) => {\n    switch (value) {\n        case 0:\n            return \"badge-danger\";\n        case 1:\n            return \"badge-dark\";\n        case 2:\n            return \"badge-warning\";\n        case 3:\n            return \"badge-primary\";\n        case 4:\n            return \"badge-success\";\n        default:\n            return \"badge-dark\";\n    };\n};\n\nexport const getStageBadgeClassname2 = (value) => {\n    switch (value) {\n        case 0:\n            return \"badge-ol-danger\";\n        case 1:\n            return \"badge-ol-dark\";\n        case 2:\n            return \"badge-ol-warning\";\n        case 3:\n            return \"badge-ol-primary\";\n        case 4:\n            return \"badge-ol-success\";\n        default:\n            return \"badge-ol-dark\";\n    };\n};\n\nexport const getDecisionBadgeClassname = (value) => {\n    switch (value) {\n        case -1:\n            return \"decision-secondary\"; // chua nop y kien\n        case 0:\n            return \"decision-danger\"; // tu choi bai bao\n        case 1:\n            return \"decision-success\"; // chap nhan bai bao\n        case 2:\n            return \"decision-warning\"; // yeu cau chinh sua\n        default:\n            return \"decision-secondary\";\n    };\n};\n\nexport const getDecisionBadgeClassname2 = (value) => {\n    switch (value) {\n        case -1:\n            return \"bg-secondary\"; // chua nop y kien\n        case 0:\n            return \"bg-danger\"; // tu choi bai bao\n        case 1:\n            return \"bg-success\"; // chap nhan bai bao\n        case 2:\n            return \"bg-warning\";  // yeu cau chinh sua\n        default:\n            return \"bg-secondary\";\n    };\n};\n\nexport const getDecisionButtonClassname = (value) => {\n    switch (value) {\n        case -1:\n            return \"btn-secondary\"; // chua nop y kien\n        case 0:\n            return \"btn-danger\"; // tu choi bai bao\n        case 1:\n            return \"btn-success\"; // chap nhan bai bao\n        case 2:\n            return \"btn-warning\";  // yeu cau chinh sua\n        default:\n            return \"bg-secondary\";\n    };\n};\n\nexport const getDeadlineDate = (days) => {\n    const today = new Date();\n    let deadline = new Date();\n    deadline.setDate(today.getDate() + days);\n    return deadline;\n};\n\nexport const getFormattedDate = (dateStr) => {\n    let date = new Date(dateStr);\n\n    let month = date.getMonth() + 1;\n    let day = date.getDate();\n    let hour = date.getHours();\n    let min = date.getMinutes();\n    let sec = date.getSeconds();\n\n    month = (month < 10 ? \"0\" : \"\") + month;\n    day = (day < 10 ? \"0\" : \"\") + day;\n    hour = (hour < 10 ? \"0\" : \"\") + hour;\n    min = (min < 10 ? \"0\" : \"\") + min;\n    sec = (sec < 10 ? \"0\" : \"\") + sec;\n\n    const formattedDate = day + \"-\" + month + \"-\" + date.getFullYear() + \" \" + hour + \":\" + min + \":\" + sec;\n    return formattedDate;\n};\n\nexport const getFormattedDateOnly = (dateStr) => {\n    let date = new Date(dateStr);\n\n    let month = date.getMonth() + 1;\n    let day = date.getDate();\n\n    month = (month < 10 ? \"0\" : \"\") + month;\n    day = (day < 10 ? \"0\" : \"\") + day;\n\n    const formattedDate = day + \"-\" + month + \"-\" + date.getFullYear();\n    return formattedDate;\n};\n\nexport const getFormattedTimeOnly = (dateStr) => {\n    let date = new Date(dateStr);\n\n    let hour = date.getHours();\n    let min = date.getMinutes();\n    let sec = date.getSeconds();\n\n    hour = (hour < 10 ? \"0\" : \"\") + hour;\n    min = (min < 10 ? \"0\" : \"\") + min;\n    sec = (sec < 10 ? \"0\" : \"\") + sec;\n\n    const formattedTimeFromDate = hour + \":\" + min + \":\" + sec;\n    return formattedTimeFromDate;\n};\n\nexport const checkDueDate = (dueDateStr) => {\n    const curDate = new Date();\n    const dueDate = new Date(dueDateStr);\n    return curDate < dueDate; // if current date < due date === true\n};\n\nexport const getDoughnutData = (reviewerAssignments) => {\n    let accept = 0, editRequired = 0, decline = 0, unSent = 0;\n    if (reviewerAssignments) {\n        reviewerAssignments.forEach(ra => {\n            if (ra.reviewerSubmissionId !== null) {\n                const decisionValue = ra.reviewerSubmissionId.reviewerDecisionId.value;\n                if (decisionValue === REVIEWER_DECISION.ACCEPT_SUBMISSION.value) {\n                    accept++;\n                }\n                if (decisionValue === REVIEWER_DECISION.REVISION_REQUIRED.value) {\n                    editRequired++;\n                }\n                if (decisionValue === REVIEWER_DECISION.DECLINE_SUBMISSION.value) {\n                    decline++;\n                }\n            } else {\n                unSent++;\n            }\n        });\n    }\n    const data = {\n        labels: ['Chấp nhận bài báo', 'Yêu cầu chỉnh sửa', 'Từ chối bài báo', 'Chưa nộp ý kiến'],\n        datasets: [\n            {\n                data: [accept, editRequired, decline, unSent],\n                backgroundColor: [\n                    '#28a745',\n                    '#ffc107',\n                    '#dc3545',\n                    '#6c757d'\n                ]\n            },\n        ],\n    };\n    return data;\n};\n\nexport const getShortArticleTitle = (title) => {\n    return title.slice(0, 40) + ' ...';\n}\n\nexport const getShortArticleAbstract = (abstract) => {\n    return abstract.slice(0, 200) + ' ...';\n}\n\n// VAST Crawler\nexport const getFormattedDateVAST = (dateStr) => {\n    let date = new Date(dateStr);\n\n    let month = date.getMonth() + 1;\n    let day = date.getDate();\n\n    month = (month < 10 ? \"0\" : \"\") + month;\n    day = (day < 10 ? \"0\" : \"\") + day;\n\n    const formattedDate = date.getFullYear() + \"-\" + month + \"-\" + day;\n    return formattedDate;\n};\n\nexport const convertPublishedDate = (publishedDate) => {\n    let result = \"\";\n    for (const val of publishedDate) {\n        if (publishedDate.indexOf(val) < publishedDate.length - 1) {\n            result += val + \"-\";\n        } else {\n            result += val;\n        }\n    }\n    return result;\n};\n\nexport const getListContributors = (contributors) => {\n    let res = \"\";\n    for (let c of contributors) {\n        if (contributors.indexOf(c) === contributors.length - 1) {\n            res += c.fullname;\n        } else {\n            res += c.fullname + \", \";\n        }\n    }\n    return res;\n}\n\n","import React from 'react';\nimport OwlCarousel from 'react-owl-carousel';\nimport { Link } from 'react-router-dom';\nimport { getFormattedDateOnly, getListContributors, getShortArticleAbstract } from '../../utils/utility';\n\nconst MainPosts = (props) => {\n    return (\n        <div className=\"mag-posts-content mt-30 mb-30 p-30 box-shadow\">\n            <div className=\"trending-now-posts mb-30\">\n                <div className=\"section-heading\">\n                    <h5>Phổ biến</h5>\n                </div>\n\n                <OwlCarousel className=\"trending-post-slides\"\n                    margin={30}\n                    nav\n                    items={1}\n                    loop\n                    dots={false}\n                    autoplay\n                    autoplayTimeout={4000}\n                    smartSpeed={1000}\n                    navText={['<i class=\"ti-angle-left\"></i>', '<i class=\"ti-angle-right\"></i>']}\n                >\n                    {props.most_viewed_articles.map(article => (\n                        <div className=\"single-featured-post\" key={article._id}>\n                            <div className=\"post-content\">\n                                <div className=\"post-meta\">\n                                    {/* <p>{article.submissionId.typeId.name}</p>\n                                    <Link to=\"#\"><p>{article.submissionId.categoryId.name}</p></Link>\n                                    <br /> */}\n                                    <Link to=\"#\" className=\"text-dark\" style={{ fontWeight: '400' }}>\n                                        <i className=\"fas fa-user\"></i>{\" \"}\n                                        {article.submissionId.authorId.lastname} {article.submissionId.authorId.firstname}\n                                    </Link>\n                                    <Link to=\"#\" className=\"text-dark ml-2\" style={{ fontWeight: '400' }}>\n                                        <i className=\"fas fa-clock\" aria-hidden=\"true\"></i> {getFormattedDateOnly(article.publishedDate)}\n                                    </Link>\n                                    <Link to=\"#\" className=\"text-dark ml-2\" style={{ fontWeight: '400' }}>\n                                        <i className=\"fas fa-eye\" aria-hidden=\"true\"></i> {article.views}\n                                    </Link>\n                                    <Link to=\"#\" className=\"text-dark ml-2\" style={{ fontWeight: '400' }}>\n                                        <i className=\"fas fa-download\" aria-hidden=\"true\"></i> {article.downloaded}\n                                    </Link>\n                                </div>\n                                <Link to={`/single-article/${article._id}`} className=\"post-title\" style={{ fontSize: '18px' }}>\n                                    {article.submissionId.title}\n                                </Link>\n\n                                <p>{getShortArticleAbstract(article.submissionId.abstract)}</p>\n                                <div className=\"badge-ol badge-ol-dark badge-outlined\">{article.submissionId.typeId.name}</div>\n                                <div className=\"badge-ol badge-ol-dark badge-outlined ml-1\">{article.submissionId.categoryId.name}</div>\n                            </div>\n                        </div>\n                    ))}\n                </OwlCarousel>\n            </div>\n\n            <div className=\"trending-now-posts mb-30\">\n                <div className=\"section-heading\">\n                    <h5>Lựa chọn của ban biên tập</h5>\n                </div>\n\n                <OwlCarousel className=\"trending-post-slides\"\n                    margin={30}\n                    nav\n                    items={1}\n                    loop\n                    dots={false}\n                    autoplay\n                    autoplayTimeout={4000}\n                    smartSpeed={1000}\n                    navText={['<i class=\"ti-angle-left\"></i>', '<i class=\"ti-angle-right\"></i>']}\n                >\n                    {props.most_downloaded_articles.map(article => (\n                        <div className=\"single-featured-post\" key={article._id}>\n                            <div className=\"post-content\">\n                                <div className=\"post-meta\">\n                                    <Link to=\"#\" className=\"text-dark\" style={{ fontWeight: '400' }}>\n                                        <i className=\"fas fa-user\"></i>{\" \"}\n                                        {article.submissionId.authorId.lastname} {article.submissionId.authorId.firstname}\n                                    </Link>\n                                    <Link to=\"#\" className=\"text-dark ml-2\" style={{ fontWeight: '400' }}>\n                                        <i className=\"fas fa-clock\" aria-hidden=\"true\"></i> {getFormattedDateOnly(article.publishedDate)}\n                                    </Link>\n                                    <Link to=\"#\" className=\"text-dark ml-2\" style={{ fontWeight: '400' }}>\n                                        <i className=\"fas fa-eye\" aria-hidden=\"true\"></i> {article.views}\n                                    </Link>\n                                    <Link to=\"#\" className=\"text-dark ml-2\" style={{ fontWeight: '400' }}>\n                                        <i className=\"fas fa-download\" aria-hidden=\"true\"></i> {article.downloaded}\n                                    </Link>\n                                </div>\n                                <Link to={`/single-article/${article._id}`} className=\"post-title\" style={{ fontSize: '18px' }}>\n                                    {article.submissionId.title}\n                                </Link>\n\n                                <p>{getShortArticleAbstract(article.submissionId.abstract)}</p>\n                                <div className=\"badge-ol badge-ol-dark badge-outlined\">{article.submissionId.typeId.name}</div>\n                                <div className=\"badge-ol badge-ol-dark badge-outlined ml-1\">{article.submissionId.categoryId.name}</div>\n                            </div>\n                        </div>\n                    ))}\n                </OwlCarousel>\n            </div>\n\n            <div className=\"sports-videos-area\">\n                <div className=\"section-heading\">\n                    <h5>Yêu thích</h5>\n                </div>\n\n                <div className=\"row\">\n                    {props.most_viewed_articles.map(article => (\n                        <div className=\"col-12 col-lg-6\" key={article._id}>\n                            <div className=\"single-blog-post d-flex style-3 mb-30\" key={article._id}>\n                                <div className=\"post-content\">\n                                    <Link to={`/single-article/${article._id}`} className=\"post-title\">\n                                        {article.submissionId.title}\n                                    </Link>\n                                    <div className=\"post-meta\">\n                                        <Link to=\"#\" className=\"text-dark\" style={{ fontWeight: '400' }}>\n                                            <i className=\"fas fa-user\"></i>{\" \"}\n                                            {article.submissionId.authorId.lastname} {article.submissionId.authorId.firstname}\n                                            {article.submissionId.contributors.length > 0 && \", \" + getListContributors(article.submissionId.contributors)}\n                                        </Link>\n                                        <Link to=\"#\" className=\"text-dark ml-2\" style={{ fontWeight: '400' }}>\n                                            <i className=\"fas fa-eye\" aria-hidden=\"true\"></i> {article.views}\n                                        </Link>\n                                        <Link to=\"#\" className=\"text-dark ml-2\" style={{ fontWeight: '400' }}>\n                                            <i className=\"fas fa-download\" aria-hidden=\"true\"></i> {article.downloaded}\n                                        </Link>\n                                    </div>\n                                    <div className=\"badge-ol badge-ol-dark badge-outlined mt-1\" style={{ fontSize: '12px' }}>{article.submissionId.typeId.name}</div>\n                                    <div className=\"badge-ol badge-ol-dark badge-outlined ml-1 mt-1\" style={{ fontSize: '12px' }}>{article.submissionId.categoryId.name}</div>\n                                </div>\n                            </div>\n                        </div>\n                    ))}\n                    {props.latest_articles.map(article => (\n                        <div className=\"col-12 col-lg-6\" key={article._id}>\n                            <div className=\"single-blog-post d-flex style-3 mb-30\" key={article._id}>\n                                <div className=\"post-content\">\n                                    <Link to={`/single-article/${article._id}`} className=\"post-title\">\n                                        {article.submissionId.title}\n                                    </Link>\n                                    <div className=\"post-meta\">\n                                        <Link to=\"#\" className=\"text-dark\" style={{ fontWeight: '400' }}>\n                                            <i className=\"fas fa-user\"></i>{\" \"}\n                                            {article.submissionId.authorId.lastname} {article.submissionId.authorId.firstname}\n                                            {article.submissionId.contributors.length > 0 && \", \" + getListContributors(article.submissionId.contributors)}\n                                        </Link>\n                                        <Link to=\"#\" className=\"text-dark ml-2\" style={{ fontWeight: '400' }}>\n                                            <i className=\"fas fa-eye\" aria-hidden=\"true\"></i> {article.views}\n                                        </Link>\n                                        <Link to=\"#\" className=\"text-dark ml-2\" style={{ fontWeight: '400' }}>\n                                            <i className=\"fas fa-download\" aria-hidden=\"true\"></i> {article.downloaded}\n                                        </Link>\n                                    </div>\n                                    <div className=\"badge-ol badge-ol-dark badge-outlined mt-1\" style={{ fontSize: '12px' }}>{article.submissionId.typeId.name}</div>\n                                    <div className=\"badge-ol badge-ol-dark badge-outlined ml-1 mt-1\" style={{ fontSize: '12px' }}>{article.submissionId.categoryId.name}</div>\n                                </div>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default MainPosts;","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst RightSidebar = (props) => {\n    return (\n        <div className=\"post-sidebar-area right-sidebar mt-30 mb-30 box-shadow\">\n            <div className=\"single-sidebar-widget p-30\">\n                <div className=\"section-heading\">\n                    <h5>Chủ đề</h5>\n                </div>\n\n                <ul className=\"catagory-widgets\">\n                    {props.categories.map(category => (\n                        <li key={category._id}>\n                            <Link to=\"#\">\n                                <span><i className=\"fa fa-angle-double-right\" aria-hidden=\"true\"></i> {category.name}</span>\n                                <span>{category.numberOfArticles}</span>\n                            </Link>\n                        </li>\n                    ))}\n                </ul>\n            </div>\n\n            <div className=\"single-sidebar-widget p-30\">\n                <div className=\"section-heading\">\n                    <h5>Tải xuống nhiều</h5>\n                </div>\n\n                {props.most_downloaded_articles.map(article => (\n                    <div className=\"single-blog-post d-flex\" key={article._id}>\n                        <div className=\"post-content\">\n                            <Link to={`/single-article/${article._id}`} className=\"post-title\">\n                                {article.submissionId.title}\n                            </Link>\n                            <div className=\"post-meta\">\n                                <Link to=\"#\" className=\"text-dark\" style={{ fontWeight: '400' }}>\n                                    <i className=\"fas fa-user\"></i>{\" \"}\n                                    {article.submissionId.authorId.lastname} {article.submissionId.authorId.firstname}\n                                </Link>\n                                <Link to=\"#\" className=\"text-dark ml-2\" style={{ fontWeight: '400' }}>\n                                    <i className=\"fas fa-eye\" aria-hidden=\"true\"></i> {article.views}\n                                </Link>\n                                <Link to=\"#\" className=\"text-dark ml-2\" style={{ fontWeight: '400' }}>\n                                    <i className=\"fas fa-download\" aria-hidden=\"true\"></i> {article.downloaded}\n                                </Link>\n                            </div>\n                            <div className=\"badge-ol badge-ol-dark badge-outlined mt-1\" style={{ fontSize: '12px' }}>{article.submissionId.typeId.name}</div>\n                            <div className=\"badge-ol badge-ol-dark badge-outlined ml-1 mt-1\" style={{ fontSize: '12px' }}>{article.submissionId.categoryId.name}</div>\n                        </div>\n                    </div>\n                ))}\n            </div>\n\n            {/* <div className=\"single-sidebar-widget p-30\">\n                <div className=\"section-heading\">\n                    <h5>Hòm thư</h5>\n                </div>\n                <div className=\"newsletter-form\">\n                    <p>Đăng kí theo dõi để nhận thông báo về các bài báo hay trên hệ thống</p>\n                    <form action=\"#\" method=\"get\">\n                        <input type=\"search\" name=\"widget-search\" placeholder=\"Email của bạn\" />\n                        <button type=\"submit\" className=\"btn mag-btn w-100\">Theo dõi</button>\n                    </form>\n                </div>\n            </div> */}\n        </div>\n    );\n};\n\nexport default RightSidebar;","import React from 'react';\n\nconst Breadcrumb = (props) => {\n    return (\n        <div>\n            <section className=\"breadcrumb-area bg-img bg-overlay\"\n                style={{ backgroundImage: props.imageUrl }}>\n                <div className=\"container h-100\">\n                    <div className=\"row h-100 align-items-center\">\n                        <div className=\"col-12\">\n                            <div className=\"breadcrumb-content\">\n                                <h2>{props.title}</h2>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </section>\n        </div>\n    );\n};\n\nexport default Breadcrumb;","import React from 'react';\nimport classes from './Spinner.module.css';\n\nconst Spinner = () => (\n    <div className={classes.Loader}>Loading...</div>\n);\n\nexport default Spinner;","import React, { Component } from 'react';\nimport LeftSidebar from './LeftSidebar';\nimport MainPosts from './MainPosts';\nimport RightSidebar from './RightSidebar';\nimport Breadcumb from '../../components/Breadcrumb/Breadcrumb';\nimport { connect } from 'react-redux';\nimport { getLatestArticlesHome, getMostViewedArticlesHome, getMostDownloadedArticlesHome }\n    from '../../store/actions/articleActions';\nimport { getCategories } from '../../store/actions/submissionActions';\nimport Aux from '../../hoc/Auxiliary/Auxiliary';\nimport Spinner from '../../components/UI/Spinner/Spinner';\nclass Home extends Component {\n\n    componentDidMount() {\n        window.scrollTo(0, 0);\n        if (this.props.latest_articles.length <= 0) {\n            this.props.getLatestArticlesHome(1, 5);\n        }\n        if (this.props.most_viewed_articles.length <= 0) {\n            this.props.getMostViewedArticlesHome(1, 5);\n        }\n        if (this.props.most_downloaded_articles.length <= 0) {\n            this.props.getMostDownloadedArticlesHome(1, 8);\n        }\n        if (this.props.categories.length <= 0) {\n            this.props.getCategories();\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <Breadcumb\n                    title=\"Tạp chí truy cập mở VNOJS\"\n                    imageUrl={`url(${require(\"../../resources/imgs/40.jpg\")})`} />\n                <section className=\"mag-posts-area d-flex flex-wrap mt-3\">\n                    {!this.props.loading && this.props.latest_articles.length > 0 &&\n                        this.props.categories.length > 0 && this.props.most_viewed_articles.length > 0 &&\n                        this.props.most_downloaded_articles.length > 0 ? (\n                            <Aux>\n                                <LeftSidebar\n                                    latest_articles={this.props.latest_articles}\n                                    most_viewed_articles={this.props.most_viewed_articles} />\n                                <MainPosts\n                                    latest_articles={this.props.latest_articles}\n                                    most_viewed_articles={this.props.most_viewed_articles}\n                                    most_downloaded_articles={this.props.most_downloaded_articles} />\n                                <RightSidebar\n                                    most_downloaded_articles={this.props.most_downloaded_articles}\n                                    categories={this.props.categories} />\n                            </Aux>\n                        ) : (\n                            <Spinner />\n                        )}\n                </section>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        latest_articles: state.article.latest_articles,\n        most_viewed_articles: state.article.most_viewed_articles,\n        most_downloaded_articles: state.article.most_downloaded_articles,\n        loading: state.article.loading,\n        error: state.article.error,\n        categories: state.submission.categories\n    };\n};\n\nconst mapDispatchToProps = {\n    getLatestArticlesHome,\n    getMostViewedArticlesHome,\n    getMostDownloadedArticlesHome,\n    getCategories\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","import React, { Component } from 'react';\nimport Aux from '../Auxiliary/Auxiliary';\nimport Navigation from '../../components/Navigation/Navigation';\nimport Footer from '../../components/Footer/Footer';\nimport { Route, Switch } from 'react-router-dom';\nimport Home from '../../containers/Home/Home';\n// import Article from '../../containers/Article/Article';\n\nclass Layout extends Component {\n    render() {\n        let routes = (\n            <Switch>\n                {/* <Route path=\"/single-article\" component={Article} /> */}\n                <Route exact path=\"/\" component={Home} />\n            </Switch>\n        );\n        return (\n            <Aux>\n                <Navigation history={this.props.history} />\n                <main>\n                    {routes}\n                    {this.props.children}\n                </main>\n                <Footer />\n            </Aux>\n        );\n    }\n}\n\nexport default Layout;","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst ContentHeader = (props) => {\n    return (\n        <div className=\"container-fluid\">\n            <div className=\"row mb-2\">\n                <div className=\"col-sm-6\">\n                    <h4>{props.title}</h4>\n                </div>\n                <div className=\"col-sm-6\">\n                    <ol className=\"breadcrumb float-sm-right\">\n                        <li className=\"breadcrumb-item\"><Link to=\"/dashboard\">Dashboard</Link></li>\n                        {props.children}\n                    </ol>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default ContentHeader;","import axios from '../../utils/axios';\nimport * as actionTypes from './actionTypes';\n\nconst authStart = () => {\n    return {\n        type: actionTypes.AUTH_START\n    };\n};\n\nconst authSuccess = (token, userId, fullname, avatar, role) => {\n    return {\n        type: actionTypes.AUTH_SUCCESS,\n        token: token,\n        userId: userId,\n        fullname: fullname,\n        avatar: avatar,\n        role: role\n    };\n};\n\nconst registerSuccess = (message) => {\n    return {\n        type: actionTypes.REGISTER_SUCCESS,\n        isSignedUp: true\n    }\n}\n\nconst authFailed = (error) => {\n    return {\n        type: actionTypes.AUTH_FAILED,\n        error: error\n    };\n};\n\nexport const logout = () => {\n    // clear local storage\n    localStorage.removeItem('token');\n    localStorage.removeItem('userId');\n    localStorage.removeItem('fullname');\n    localStorage.removeItem('avatar');\n    localStorage.removeItem('role');\n    localStorage.removeItem('expirationDate');\n    localStorage.removeItem('notifications');\n    return {\n        type: actionTypes.AUTH_LOGOUT\n    };\n};\n\nconst checkAuthTimeout = (expirationTime) => (dispatch) => {\n    setTimeout(() => {\n        dispatch(logout);\n    }, expirationTime * 1000);\n};\n\nconst getMyNotificationsSuccess = (notifications) => {\n    return {\n        type: actionTypes.GET_MY_NOTIFICATIONS_SUCCESS,\n        notifications: notifications\n    }\n};\n\nconst getAllMyNotificationsSuccess = (data) => {\n    return {\n        type: actionTypes.GET_ALL_MY_NOTIFICATIONS_SUCCESS,\n        notifications: data.notifications,\n        total: data.total,\n        currentPage: data.currentPage\n    }\n};\n\n// ---------------------------------|Axios|------------------------------------------\nexport const auth = (username, password) => (dispatch) => {\n    dispatch(authStart());\n    const authData = {\n        username: username,\n        password: password\n    };\n    axios.post('/auth/signin', authData)\n        .then(res => {\n            const expirationDate = new Date(new Date().getTime() + 60 * 60 * 24 * 1000 * 7); // 7d\n            localStorage.setItem('token', res.data.token);\n            localStorage.setItem('userId', res.data.userId);\n            localStorage.setItem('fullname', res.data.fullname);\n            localStorage.setItem('avatar', res.data.avatar);\n            localStorage.setItem('role', JSON.stringify(res.data.role));\n            localStorage.setItem('expirationDate', expirationDate);\n            dispatch(authSuccess(res.data.token, res.data.userId, res.data.fullname, res.data.avatar, res.data.role));\n            dispatch(checkAuthTimeout(60 * 60));\n        })\n        .catch(error => {\n            dispatch(authFailed(error.response.data.error));\n        });\n};\n\nexport const register = (body) => (dispatch) => {\n        dispatch(authStart());\n        axios.put('/auth/signup', body)\n            .then(res => {\n                dispatch(registerSuccess(res.data.message));\n            })\n            .catch(error => {\n                dispatch(authFailed(error.response.data.error));\n            });\n    };\n\nexport const resetRegisterState = () => (dispatch) => {\n    dispatch({\n        type: actionTypes.RESET_REGISTER_STATE\n    })\n};\n\n//keep auth state\nexport const keepAuthState = () => (dispatch) => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n        dispatch(logout());\n    } else {\n        const expirationDate = new Date(Date.parse(localStorage.getItem('expirationDate')));\n        if (expirationDate <= new Date()) {\n            dispatch(logout());\n        } else {\n            const userId = localStorage.getItem('userId');\n            const fullname = localStorage.getItem('fullname');\n            const avatar = localStorage.getItem('avatar');\n            const role = JSON.parse(localStorage.getItem('role'));\n            const notifications = JSON.parse(localStorage.getItem('notifications'));\n            dispatch(getMyNotificationsSuccess(notifications));\n            dispatch(authSuccess(token, userId, fullname, avatar, role));\n            dispatch(checkAuthTimeout((expirationDate.getTime() - new Date().getTime()) / 1000));\n        }\n    }\n};\n\n// Get My Notifications\nexport const getMyNotifications = () => (dispatch, getState) => {\n    const token = getState().auth.token;\n    axios.get('/auth/notifications/my', {\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    }).then(res => {\n        localStorage.setItem('notifications', JSON.stringify(res.data.notifications));\n        dispatch(getMyNotificationsSuccess(res.data.notifications));\n    }).catch(err => {\n        dispatch(authFailed(err.response.data.error));\n    });\n};\n\nexport const getAllMyNotifications = (page, limit) => (dispatch, getState) => {\n    dispatch(authStart());\n    const token = getState().auth.token;\n    axios.get('/auth/notifications/my/all?page=' + page + '&limit=' + limit, {\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    }).then(res => {\n        dispatch(getAllMyNotificationsSuccess(res.data));\n    }).catch(err => {\n        dispatch(authFailed(err.response.data.error));\n    });\n};\n\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport * as queryString from 'query-string';\nimport classes from './Pagination.module.css';\nimport Aux from '../../../hoc/Auxiliary/Auxiliary';\n\nconst Pagination = (props) => {\n    return (\n        <div className={classes.pagination}>\n            {props.currentPage !== 1 && props.prevPage !== 1 ?\n                <Link className={classes.item}\n                    to={{\n                        pathname: props.location.pathname,\n                        search: queryString.stringify(Object.assign({}, queryString.parse(props.location.search), { page: 1 }))\n                    }}>\n                    1\n                </Link> : null}\n\n            {props.hasPrevPage ? (\n                <Aux>\n                    {props.prevPage !== 1 && (\n                        <Link className={classes.item}\n                            to={{\n                                pathname: props.location.pathname,\n                                search: queryString.stringify(Object.assign({}, queryString.parse(props.location.search), { page: props.prevPage }))\n                            }}>\n                            <i className=\"fas fa-angle-left\"></i>\n                        </Link>\n                    )}\n                    <Link className={classes.item}\n                        to={{\n                            pathname: props.location.pathname,\n                            search: queryString.stringify(Object.assign({}, queryString.parse(props.location.search), { page: props.prevPage }))\n                        }}>\n                        {props.prevPage}\n                    </Link>\n                </Aux>\n\n            ) : null}\n\n            <Link className={classes.item + ' ' + classes.active}\n                to={{\n                    pathname: props.location.pathname,\n                    search: queryString.stringify(Object.assign({}, queryString.parse(props.location.search), { page: props.currentPage }))\n                }}>\n                {props.currentPage}\n            </Link>\n\n            {props.hasNextPage ? (\n                <Aux>\n                    <Link className={classes.item}\n                        to={{\n                            pathname: props.location.pathname,\n                            search: queryString.stringify(Object.assign({}, queryString.parse(props.location.search), { page: props.nextPage }))\n                        }}>\n                        {props.nextPage}\n                    </Link>\n                    {props.nextPage !== props.lastPage && (\n                        <Link className={classes.item}\n                            to={{\n                                pathname: props.location.pathname,\n                                search: queryString.stringify(Object.assign({}, queryString.parse(props.location.search), { page: props.nextPage }))\n                            }}>\n                            <i className=\"fas fa-angle-right\"></i>\n                        </Link>\n                    )}\n                </Aux>\n\n            ) : null}\n\n            {props.currentPage !== props.lastPage && props.nextPage !== props.lastPage ?\n                <Link className={classes.item}\n                    to={{\n                        pathname: props.location.pathname,\n                        search: queryString.stringify(Object.assign({}, queryString.parse(props.location.search), { page: props.lastPage }))\n                    }}>\n                    {props.lastPage}\n                </Link> : null}\n        </div>\n    );\n};\n\nexport default Pagination;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport ContentHeader from '../../Dashboard/Shared/ContentHeader';\nimport Aux from '../../../hoc/Auxiliary/Auxiliary';\nimport Spinner from '../../UI/Spinner/Spinner';\nimport {\n    getMyNotifications\n} from '../../../store/actions/authActions';\nimport { getMyArticles } from '../../../store/actions/articleActions';\nimport { getFormattedDate, getShortArticleAbstract } from '../../../utils/utility';\nimport Pagination from '../../UI/Pagination/Pagination';\n\nconst ITEMS_PER_PAGE = 8;\nclass Main extends Component {\n\n    state = {\n        submissionId: '',\n        checked: false\n    }\n\n    init = () => {\n        if (this.props.location.search) {\n            const query = new URLSearchParams(this.props.location.search);\n            const page = query.get('page');\n            if (page) {\n                this.props.getMyArticles(page, ITEMS_PER_PAGE);\n            }\n        } else {\n            this.props.getMyArticles(1, ITEMS_PER_PAGE);\n        }\n    }\n\n    componentDidMount() {\n        this.init();\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.location.search !== prevProps.location.search) {\n            const prevQuery = new URLSearchParams(prevProps.location.search);\n            const query = new URLSearchParams(this.props.location.search);\n            const prevPage = prevQuery.get('page');\n            const page = query.get('page');\n            if (page !== prevPage) {\n                this.props.getMyArticles(page, ITEMS_PER_PAGE);\n            }\n        }\n    }\n\n    refreshHandler = () => {\n        this.init();\n        this.props.getMyNotifications();\n    }\n\n    btnNewSubmissonClickHandler = () => {\n        this.props.history.push(\"/dashboard/new-submission\");\n    }\n\n    render() {\n        return (\n            <div className=\"content-wrapper\">\n                {/* <!-- Content Header (Page header) --> */}\n                <section className=\"content-header\">\n                    <ContentHeader title=\"Trang tác giả\">\n                        <li className=\"breadcrumb-item\">Trang tác giả</li>\n                    </ContentHeader>\n                    <button onClick={this.btnNewSubmissonClickHandler} className=\"btn btn-outline-dark btn-flat\">\n                        <i className=\"fas fa-upload\"></i> Đăng tải bài báo\n                    </button>\n                </section>\n\n                {/* <!-- Main content --> */}\n                <section className=\"content\">\n                    {!this.props.loading ? (\n                        <div className=\"card\">\n                            <div className=\"card-header\">\n                                <h3 className=\"card-title\">Danh mục bài báo đã được xuất bản trên hệ thống</h3>\n                                <div className=\"float-right mr-5\">\n                                    <button className=\"btn btn-tool\" onClick={this.refreshHandler}>\n                                        <i className=\"fas fa-sync-alt\" style={{ fontSize: '20px' }}></i>\n                                    </button>\n                                </div>\n                            </div>\n                            <div className=\"card-body p-3\">\n                                {this.props.articles.length > 0 ? (\n                                    <Aux>\n                                        {this.props.articles.map(article => (\n                                            <div className=\"post\" key={article._id}>\n                                                <div className=\"user-block\">\n                                                    <img className=\"img-circle img-bordered-sm\" src={this.props.avatar} alt=\"avatar\" />\n                                                    <span className=\"username\">\n                                                        <Link to=\"#\">{this.props.fullname}</Link>\n                                                    </span>\n                                                    <span className=\"description\" style={{ fontSize: '14px' }}>Ngày xuất bản: {getFormattedDate(article.publishedDate)}</span>\n                                                </div>\n                                                <p className=\"text-dark font-weight-bold\" style={{ fontSize: '16px' }}>{article.title}</p>\n                                                <p>{getShortArticleAbstract(article.submission.abstract)}</p>\n                                                <div className=\"badge-ol badge-ol-dark badge-outlined mt-1\">{article.type.name}</div>\n                                                <div className=\"badge-ol badge-ol-dark badge-outlined ml-1 mt-1\">{article.category.name}</div>\n\n                                                <div className=\"pt-3\">\n                                                    <Link to={`/dashboard/submission/${article.submission._id}`} className=\"text-primary mt-3\"><u>Xem chi tiết</u></Link>\n                                                </div>\n                                            </div>\n                                        ))}\n                                        <div className=\"mt-2\">\n                                            <Pagination\n                                                currentPage={this.props.currentPage}\n                                                hasNextPage={ITEMS_PER_PAGE * this.props.currentPage < this.props.total}\n                                                hasPrevPage={this.props.currentPage > 1}\n                                                nextPage={this.props.currentPage + 1}\n                                                prevPage={this.props.currentPage - 1}\n                                                lastPage={Math.ceil(this.props.total / ITEMS_PER_PAGE)}\n                                                location={this.props.location} />\n                                        </div>\n                                    </Aux>\n                                ) : (<div className=\"card-text ml-4\">Bạn chưa có bài báo nào được đăng tải lên hệ thống. Click vào<Link className=\"shop-now\" to=\"/dashboard/new-submission\"> đây</Link> để tiến hành đăng bài.</div>)}\n                            </div>\n                        </div>\n                    ) : <Spinner />}\n                </section>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        userId: state.auth.userId,\n        fullname: state.auth.fullname,\n        avatar: state.auth.avatar,\n        loading: state.article.loading,\n        articles: state.article.my_articles,\n        total: state.article.my_articles_total,\n        currentPage: state.article.my_articles_cur_page,\n    }\n};\n\nconst mapDispatchToProps = {\n    getMyNotifications,\n    getMyArticles\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Main);","import React from 'react';\nimport Aux from '../../../hoc/Auxiliary/Auxiliary';\n\nconst DeleteSubmission = (props) => {\n    return (\n        <Aux>\n            <div className=\"modal fade\" id=\"deleteSubmissionModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                <div className=\"modal-dialog\" role=\"document\">\n                    <div className=\"modal-content\">\n                        <div className=\"modal-header\">\n                            <h5 className=\"modal-title\" id=\"exampleModalLabel\">Gỡ bài báo khỏi hệ thống</h5>\n                            <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                <span aria-hidden=\"true\">&times;</span>\n                            </button>\n                        </div>\n                        <div className=\"modal-body\">\n                            <div className=\"mb-2\">\n                                Bài báo của bạn sẽ được xóa khỏi hệ thống và không thể khôi phục. Hãy chắc chắn rằng bạn thực sự\n                                muốn gỡ bỏ bài báo.\n                            </div>\n                            <div className=\"form-check\">\n                                <input\n                                    className=\"form-check-input pr-1\"\n                                    type=\"checkbox\"\n                                    checked={props.checked}\n                                    onChange={(event) => props.confirmDelete(event)} />\n                                <label className=\"form-check-label\"> Tôi đã hiểu và đồng ý.</label>\n                            </div>\n                        </div>\n                        <div className=\"modal-footer\">\n                            <button type=\"button\"\n                                className=\"btn btn-outline-primary btn-flat\"\n                                data-dismiss=\"modal\"\n                                disabled={!props.deletionConfirmed}\n                                onClick={props.deleteSubmission}>Xóa bài báo</button>\n                            <button\n                             type=\"button\"\n                              className=\"btn btn-outline-danger btn-flat\" \n                              data-dismiss=\"modal\"\n                              onClick={props.uncheckedHandler}>Hủy</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </Aux>\n    );\n};\n\nexport default DeleteSubmission;","import React from 'react';\n\nconst Filter = (props) => {\n    return (\n        <div className=\"card-header\">\n            <div className=\"card-tools float-left\">\n                <div className=\"input-group input-group-sm p-0\">\n                    <div className=\"mr-2 pt-1 \">\n                        <i className=\"fas fa-filter\"></i> <b>Tìm kiếm</b>\n                    </div>\n                    <input type=\"text\" name=\"table_search\" className=\"form-control float-right\" placeholder=\"Nhập tên bài báo\"\n                        onChange={props.searchInputChangeHandler} />\n                    <div className=\"input-group-append\">\n                        <button type=\"button\" className=\"btn btn-default btn-flat\"><i className=\"fas fa-search\"></i></button>\n                    </div>\n                    <div className=\"ml-2 pt-1\">\n                        <i className=\"fas fa-filter\"></i> <b>Bộ lọc</b>\n                    </div>\n                    <div className=\"ml-2\">\n                        <select className=\"form-control-sm\" onChange={props.typeFilterHandler}>\n                            <option value=\"\">Thể loại</option>\n                            {props.types.map(type => (\n                                <option key={type._id} value={type._id}>\n                                    {type.name}\n                                </option>\n                            ))}\n                        </select>\n                    </div>\n                    <div className=\"ml-2\">\n                        <select className=\"form-control-sm\" onChange={props.categoryFilterHandler}>\n                            <option value=\"\">Lĩnh vực nghiên cứu</option>\n                            {props.categories.map(category => (\n                                <option key={category._id} value={category._id}>\n                                    {category.name}\n                                </option>\n                            ))}\n                        </select>\n                    </div>\n                    <div className=\"ml-2\">\n                        <select className=\"form-control-sm\" onChange={props.stageFilterHandler}>\n                            <option value=\"\">Pha</option>\n                            {props.stages.map(stage => (\n                                <option key={stage._id} value={stage._id}>\n                                    {stage.name}\n                                </option>\n                            ))}\n                        </select>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Filter;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport ContentHeader from '../../Dashboard/Shared/ContentHeader';\nimport Aux from '../../../hoc/Auxiliary/Auxiliary';\nimport DeleteSubmission from '../Author/DeleteSubmission';\nimport Spinner from '../../UI/Spinner/Spinner';\nimport { toast } from 'react-toastify';\nimport {\n    searchSubmissions,\n    getCategories,\n    getStages,\n    getSubmissionTypes,\n    getSubmissionsByAuthor,\n    deleteSubmission,\n    resetDeleteSubmissionState\n} from '../../../store/actions/submissionActions';\nimport {\n    getMyNotifications\n} from '../../../store/actions/authActions';\nimport { getFormattedDate, getStageBadgeClassname } from '../../../utils/utility';\nimport { updateObject } from '../../../utils/utility';\nimport Pagination from '../../UI/Pagination/Pagination';\nimport Filter from '../Filter/Filter';\n\nconst ITEMS_PER_PAGE = 8;\nclass Home extends Component {\n\n    state = {\n        selectedCategoryId: '',\n        selectedStageId: '',\n        selectedTypeId: '',\n        submissionId: '',\n        deletionConfirmed: false,\n        checked: false\n    }\n\n    init = () => {\n        if (this.props.location.search) {\n            const query = new URLSearchParams(this.props.location.search);\n            const page = query.get('page');\n            if (page) {\n                this.props.getSubmissionsByAuthor(this.props.userId, page, ITEMS_PER_PAGE, this.state.selectedCategoryId, this.state.selectedStageId, this.state.selectedTypeId);\n            }\n        } else {\n            this.props.getSubmissionsByAuthor(this.props.userId, 1, ITEMS_PER_PAGE, this.state.selectedCategoryId, this.state.selectedStageId, this.state.selectedTypeId);\n        }\n    }\n\n    componentDidMount() {\n        this.props.getCategories();\n        this.props.getStages();\n        this.props.getSubmissionTypes();\n        this.init();\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.location.search !== prevProps.location.search) {\n            const prevQuery = new URLSearchParams(prevProps.location.search);\n            const query = new URLSearchParams(this.props.location.search);\n            const prevPage = prevQuery.get('page');\n            const page = query.get('page');\n            if (page !== prevPage) {\n                this.props.getSubmissionsByAuthor(this.props.userId, page, ITEMS_PER_PAGE, this.state.selectedCategoryId, this.state.selectedStageId, this.state.selectedTypeId);\n            }\n        }\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        if (nextProps.isSubmissionDeleted) {\n            this.props.resetDeleteSubmissionState();\n            toast.success(\"Xóa bài báo khỏi hệ thống thành công!\");\n            this.refreshHandler();\n        }\n    }\n\n    refreshHandler = () => {\n        this.init();\n        this.props.getMyNotifications();\n    }\n\n    selectSubmissionHandler = (submissionId) => {\n        this.setState(updateObject(this.state, { submissionId: submissionId }));\n    }\n\n    btnNewSubmissonClickHandler = () => {\n        this.props.history.push(\"/dashboard/new-submission\");\n    }\n\n    uncheckedHandler = () => {\n        this.setState(updateObject(this.state, { deletionConfirmed: false, checked: false }));\n    }\n\n    confirmDeleteHandler = (event) => {\n        if (event.target.checked) {\n            this.setState(updateObject(this.state, { deletionConfirmed: true, checked: true }));\n        } else {\n            this.setState(updateObject(this.state, { deletionConfirmed: false, checked: false }));\n        }\n    }\n\n    deleteSubmissionHandler = (event, submissionId) => {\n        event.preventDefault();\n        this.props.deleteSubmission(submissionId);\n    }\n\n    // filter handler\n    searchInputChangeHandler = (event) => {\n        const keyword = event.target.value;\n        this.props.searchSubmissions(1, ITEMS_PER_PAGE, keyword);\n    }\n\n    categoryFilterHandler = (event) => {\n        this.setState(updateObject(this.state, { selectedCategoryId: event.target.value }));\n        this.props.getSubmissionsByAuthor(this.props.userId, 1, ITEMS_PER_PAGE, event.target.value, this.state.selectedStageId, this.state.selectedTypeId);\n    }\n\n    stageFilterHandler = (event) => {\n        this.setState(updateObject(this.state, { selectedStageId: event.target.value }));\n        this.props.getSubmissionsByAuthor(this.props.userId, 1, ITEMS_PER_PAGE, this.state.selectedCategoryId, event.target.value, this.state.selectedTypeId);\n    }\n\n    typeFilterHandler = (event) => {\n        this.setState(updateObject(this.state, { selectedTypeId: event.target.value }));\n        this.props.getSubmissionsByAuthor(this.props.userId, 1, ITEMS_PER_PAGE, this.state.selectedCategoryId, this.state.selectedStageId, event.target.value);\n    }\n\n    render() {\n        return (\n            <div className=\"content-wrapper\">\n                {/* <!-- Content Header (Page header) --> */}\n                <section className=\"content-header\">\n                    <ContentHeader title=\"Quản lý bài báo\">\n                        <li className=\"breadcrumb-item\">Quản lý bài báo</li>\n                    </ContentHeader>\n                    <button onClick={this.btnNewSubmissonClickHandler} className=\"btn btn-outline-dark btn-flat\">\n                        <i className=\"fas fa-upload\"></i> Đăng tải bài báo\n                    </button>\n                </section>\n\n                {/* <!-- Main content --> */}\n                <section className=\"content\">\n                    {!this.props.loading ? (\n                        <div className=\"card\">\n                            <div className=\"card-header\">\n                                <h3 className=\"card-title\">Danh mục bài báo đã đăng tải lên hệ thống</h3>\n                                <div className=\"float-right mr-5\">\n                                    <button className=\"btn btn-tool\" onClick={this.refreshHandler}>\n                                        <i className=\"fas fa-sync-alt\" style={{ fontSize: '20px' }}></i>\n                                    </button>\n                                </div>\n                            </div>\n                            <Filter\n                                categories={this.props.categories.length > 0 ? this.props.categories : []}\n                                stages={this.props.stages.length > 0 ? this.props.stages : []}\n                                types={this.props.types.length > 0 ? this.props.types : []}\n                                typeFilterHandler={this.typeFilterHandler}\n                                categoryFilterHandler={this.categoryFilterHandler}\n                                stageFilterHandler={this.stageFilterHandler}\n                                searchInputChangeHandler={this.searchInputChangeHandler} />\n                            <div className=\"card-body p-0\">\n                                {this.props.submissions.length > 0 ? (\n                                    <Aux>\n                                        <table className=\"table table-hover projects\">\n                                            <thead>\n                                                <tr>\n                                                    <th style={{ width: '1%' }}> #</th>\n                                                    <th style={{ width: '29%' }}> Bài Báo</th>\n                                                    <th style={{ width: '15%' }}> Thể loại</th>\n                                                    <th style={{ width: '20%' }} className=\"text-center\"> Pha</th>\n                                                    <th style={{ width: '15%' }} className=\"text-center\"> Trạng thái</th>\n                                                    <th style={{ width: '20%' }} className=\"text-center\"> Chi tiết</th>\n                                                </tr>\n                                            </thead>\n                                            <tbody>\n                                                {this.props.submissions.map(submission => (\n                                                    <Aux key={submission._id}>\n                                                        <tr data-toggle=\"collapse\" data-target={`#aaa${submission._id}`} className=\"accordion-toggle\" aria-expanded=\"true\" aria-controls=\"collapseOne\">\n                                                            <td style={{ cursor: 'pointer' }}><i className=\"fas fa-caret-down\"></i></td>\n                                                            <td>\n                                                                <Link to=\"#\">{submission.title}</Link>\n                                                                <br />\n                                                                <small style={{ fontSize: '12px' }}><b>Ngày đăng:</b> {getFormattedDate(submission.createdAt)}</small>\n                                                            </td>\n                                                            <td className=\"text-danger\">\n                                                                {submission.typeId.name}\n                                                            </td>\n                                                            <td className=\"project-state text-center\">\n                                                                <span className={\"badge \" + getStageBadgeClassname(submission.stageId.value)}>{submission.stageId.name}</span>\n                                                            </td>\n                                                            <td className=\"text-center\">\n                                                                <span>{submission.submissionLogs[submission.submissionLogs.length - 1].event}</span>\n                                                            </td>\n                                                            <td className=\"project-actions text-center\">\n                                                                <Link to={`/dashboard/submission/${submission._id}`} className=\"btn btn-outline-dark btn-sm mr-1 btn-flat\">\n                                                                    <i className=\"fas fa-eye\"></i> Xem chi tiết\n                                                            </Link>\n                                                            </td>\n                                                        </tr>\n                                                        <tr><td colSpan=\"6\" className=\"hiddenRow\">\n                                                            <div id={`aaa${submission._id}`} className=\"accordian-body collapse\">\n                                                                <div className=\"col-lg-12\">\n                                                                    <div className=\"row pl-5\">\n                                                                        <div className=\"col-lg-4 pt-2\">\n\n                                                                        </div>\n                                                                        <div className=\"col-lg-4 border rounded pt-2\">\n\n                                                                        </div>\n                                                                        <div className=\"col-lg-4 border rounded pt-2 pb-2\">\n\n                                                                        </div>\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                        </td></tr>\n                                                    </Aux>\n                                                ))}\n                                            </tbody>\n                                        </table>\n                                        <div className=\"mt-2\">\n                                            <Pagination\n                                                currentPage={this.props.currentPage}\n                                                hasNextPage={ITEMS_PER_PAGE * this.props.currentPage < this.props.total}\n                                                hasPrevPage={this.props.currentPage > 1}\n                                                nextPage={this.props.currentPage + 1}\n                                                prevPage={this.props.currentPage - 1}\n                                                lastPage={Math.ceil(this.props.total / ITEMS_PER_PAGE)}\n                                                location={this.props.location} />\n                                        </div>\n                                    </Aux>\n                                ) : (<div className=\"card-text ml-4\">Bạn chưa có bài báo nào được đăng tải lên hệ thống. Click vào<Link className=\"shop-now\" to=\"/dashboard/new-submission\"> đây</Link> để tiến hành đăng bài.</div>)}\n                            </div>\n                        </div>\n                    ) : <Spinner />}\n                </section>\n                <DeleteSubmission\n                    checked={this.state.checked}\n                    uncheckedHandler={this.uncheckedHandler}\n                    confirmDelete={this.confirmDeleteHandler}\n                    deletionConfirmed={this.state.deletionConfirmed}\n                    deleteSubmission={(event) => this.deleteSubmissionHandler(event, this.state.submissionId)} />\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        userId: state.auth.userId,\n        categories: state.submission.categories,\n        types: state.submission.types,\n        stages: state.submission.stages,\n        submissions: state.submission.submissions,\n        loading: state.submission.loading,\n        isSubmissionDeleted: state.submission.isSubmissionDeleted,\n        total: state.submission.total_items,\n        currentPage: state.submission.currentPage\n    }\n};\n\nconst mapDispatchToProps = {\n    searchSubmissions,\n    getCategories,\n    getStages,\n    getSubmissionTypes,\n    getSubmissionsByAuthor,\n    deleteSubmission,\n    resetDeleteSubmissionState,\n    getMyNotifications\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","import axios from '../../utils/axios';\nimport * as actionTypes from './actionTypes';\n\nconst reviewProcessStart = () => {\n    return {\n        type: actionTypes.REVIEW_PROCESS_START\n    };\n};\n\nconst uploadStart = () => {\n    return {\n        type: actionTypes.UPLOAD_START\n    }\n};\n\nconst getAllEditorsSuccess = (editors) => {\n    return {\n        type: actionTypes.GET_ALL_EDITORS_SUCCESS,\n        editors: editors\n    };\n};\n\nconst getAllReviewersSuccess = (reviewers) => {\n    return {\n        type: actionTypes.GET_ALL_REVIEWERS_SUCCESS,\n        reviewers: reviewers\n    };\n};\n\nconst assignEditorSuccess = (message) => {\n    return {\n        type: actionTypes.ASSIGN_EDITOR_SUCCESS,\n        message: message\n    };\n};\n\nconst assignReviewerSuccess = (message) => {\n    return {\n        type: actionTypes.ASSIGN_REVIEWER_SUCCESS,\n        message: message\n    };\n};\n\nconst getEditorAssignmentBySubmissionSuccess = (editorAssignment) => {\n    return {\n        type: actionTypes.GET_EDITOR_ASSIGNMENT_BY_SUBMISSION_SUCCESS,\n        editorAssignment: editorAssignment\n    };\n};\n\n// const getReviewerAssignmentsBySubmissionSuccess = (reviewerAssignments) => {\n//     return {\n//         type: actionTypes.GET_REVIEWER_ASSIGNMENTS_BY_SUBMISSION_SUCCESS,\n//         reviewerAssignments: reviewerAssignments\n//     };\n// };\n\nconst getMyEditorAssignmentsSuccess = (data) => {\n    return {\n        type: actionTypes.GET_MY_EDITOR_ASSIGNMENTS_SUCCESS,\n        editorAssignments: data.editorAssignments,\n        total: data.total,\n        currentPage: data.currentPage\n    };\n};\n\nconst getMyReviewerAssignmentsSuccess = (data) => {\n    return {\n        type: actionTypes.GET_MY_REVIEWER_ASSIGNMENTS_SUCCESS,\n        reviewerAssignments: data.reviewerAssignments,\n        total: data.total,\n        currentPage: data.currentPage\n    };\n};\n\nconst getMyReviewerAssignmentDetailSuccess = (reviewerAssignment) => {\n    return {\n        type: actionTypes.GET_MY_REVIEWER_ASSIGNMENT_DETAIL_SUCCESS,\n        reviewerAssignment: reviewerAssignment\n    };\n};\n\nconst createReviewSubmissionSuccess = (message) => {\n    return {\n        type: actionTypes.CREATE_REVIEW_SUBMISSION_SUCCESS,\n        message: message\n    }\n}\n\nconst editReviewSubmissionSuccess = (message) => {\n    return {\n        type: actionTypes.EDIT_REVIEW_SUBMISSION_SUCCESS,\n        message: message\n    }\n}\n\nconst createEditorSubmissionSuccess = (message) => {\n    return {\n        type: actionTypes.CREATE_EDITOR_SUBMISSION_SUCCESS,\n        message: message\n    }\n}\n\nconst editEditorSubmissionSuccess = (message) => {\n    return {\n        type: actionTypes.EDIT_EDITOR_SUBMISSION_SUCCESS,\n        message: message\n    }\n}\n\nconst requestAuthorRevisionSuccess = (message) => {\n    return {\n        type: actionTypes.REQUEST_AUTHOR_REVISION_SUCCESS,\n        message: message\n    }\n}\n\nconst getAuthorAssignmentSuccess = (authorAssignment) => {\n    return {\n        type: actionTypes.GET_AUTHOR_ASSIGNMENT_SUCCESS,\n        authorAssignment: authorAssignment\n    };\n};\n\nconst createAuthorRevisionSuccess = (submission) => {\n    return {\n        type: actionTypes.AUTHOR_SUBMIT_REVISION_SUCCESS,\n        submission: submission\n    }\n};\n\nconst acceptSubmissionSuccess = (message) => {\n    return {\n        type: actionTypes.ACCEPT_SUBMISSION_SUCCESS,\n        message: message\n    }\n}\n\nconst declineSubmissionSuccess = (message) => {\n    return {\n        type: actionTypes.DECLINE_SUBMISSION_SUCCESS,\n        message: message\n    }\n}\n\nconst getChiefEditorSubmissionSuccess = (chiefEditorSubmission) => {\n    return {\n        type: actionTypes.GET_CE_SUBMISSION_SUCCESS,\n        chiefEditorSubmission: chiefEditorSubmission\n    };\n};\n\n// Error\nconst reviewProcessError = (error) => {\n    return {\n        type: actionTypes.REVIEW_PROCESS_ERROR,\n        error: error\n    };\n};\n\n// --------------------------------| Axios |-------------------------------------\n\n// Chief Editor get All Editors\nexport const getAllEditors = (submissionId) => (dispatch, getState) => {\n    dispatch(reviewProcessStart());\n    const token = getState().auth.token;\n    axios.get('/reviews/editors', {\n        headers: {\n            'Authorization': `Bearer ${token}`\n        },\n        params: {\n            submissionId\n        }\n    }).then(res => {\n        dispatch(getAllEditorsSuccess(res.data.editors));\n    }).catch(err => {\n        dispatch(reviewProcessError(err.message));\n    });\n};\n\n// Editor get All Reviewers\nexport const getAllReviewers = (submissionId) => (dispatch, getState) => {\n    dispatch(reviewProcessStart());\n    const token = getState().auth.token;\n    axios.get('/reviews/reviewers', {\n        headers: {\n            'Authorization': `Bearer ${token}`\n        },\n        params: {\n            submissionId\n        }\n    }).then(res => {\n        dispatch(getAllReviewersSuccess(res.data.reviewers));\n    }).catch(err => {\n        dispatch(reviewProcessError(err.message));\n    });\n};\n\n// Chief Editor assign Editor\nexport const assignEditor = (reqBody) => (dispatch, getState) => {\n    const token = getState().auth.token;\n    axios.put('/reviews/assign-editor', reqBody, {\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    }).then(res => {\n        dispatch(assignEditorSuccess(res.data.message));\n    }).catch(err => {\n        dispatch(reviewProcessError(err.response.data.error));\n    });\n};\n\n// Editor assign Reviewer\nexport const assignReviewer = (reqBody) => (dispatch, getState) => {\n    const token = getState().auth.token;\n    axios.put('/reviews/assign-reviewer', reqBody, {\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    }).then(res => {\n        dispatch(assignReviewerSuccess(res.data.message));\n    }).catch(err => {\n        dispatch(reviewProcessError(err.response.data.error));\n    });\n};\n\nexport const resetEditorAssignmentState = () => (dispatch) => {\n    dispatch({\n        type: actionTypes.RESET_EDITOR_ASSIGNMENT_STATE\n    });\n};\n\nexport const resetReviewerAssignmentState = () => (dispatch) => {\n    dispatch({\n        type: actionTypes.RESET_REVIEWER_ASSIGNMENT_STATE\n    });\n};\n\n// CE and other roles get Editor Assignment by Submission\nexport const getEditorAssignmentBySubmission = (submissionId) => (dispatch, getState) => {\n    ;\n    const token = getState().auth.token;\n    axios.get('/reviews/editor-assignments/' + submissionId, {\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    }).then(res => {\n        dispatch(getEditorAssignmentBySubmissionSuccess(res.data.editorAssignment));\n    }).catch(err => {\n        dispatch(reviewProcessError(err.message));\n    });\n};\n\n// Editor get My Assignments\nexport const getMyEditorAssignments = (page, limit, categoryId, stageId, typeId, keyword = \"\") => (dispatch, getState) => {\n    if (typeId === \"\" && categoryId === \"\" && stageId === \"\" && keyword === \"\") {\n        dispatch(reviewProcessStart());\n    }\n    const token = getState().auth.token;\n    axios.get(`/reviews/editor-assignments/my/all?page=${page}&limit=${limit}&categoryId=${categoryId}&stageId=${stageId}&typeId=${typeId}&keyword=${keyword}`, {\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    }).then(res => {\n        dispatch(getMyEditorAssignmentsSuccess(res.data));\n    }).catch(err => {\n        dispatch(reviewProcessError(err.message));\n    });\n};\n\n// Reviewer get My Assignments\nexport const getMyReviewerAssignments = (page, limit, categoryId, stageId, typeId, keyword = \"\") => (dispatch, getState) => {\n    const token = getState().auth.token;\n    if (typeId === \"\" && categoryId === \"\" && stageId === \"\" && keyword === \"\") {\n        dispatch(reviewProcessStart());\n    }\n    axios.get(`/reviews/reviewer-assignments/my/all?page=${page}&limit=${limit}&categoryId=${categoryId}&stageId=${stageId}&typeId=${typeId}&keyword=${keyword}`, {\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    }).then(res => {\n        dispatch(getMyReviewerAssignmentsSuccess(res.data));\n    }).catch(err => {\n        dispatch(reviewProcessError(err.message));\n    });\n};\n\n// Reviewer get My Assignment Detail by Submission\nexport const getMyReviewerAssignmentDetail = (submissionId) => (dispatch, getState) => {\n    dispatch(reviewProcessStart());\n    const token = getState().auth.token;\n    axios.get('/reviews/reviewer-assignments/my/' + submissionId, {\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    }).then(res => {\n        dispatch(getMyReviewerAssignmentDetailSuccess(res.data.reviewerAssignment));\n    }).catch(err => {\n        dispatch(reviewProcessError(err.message));\n    });\n};\n\n// Reviewer create review for a submission\nexport const createReviewSubmission = (submissionId, reqBody) => (dispatch, getState) => {\n    dispatch(uploadStart());\n    const token = getState().auth.token;\n    axios.post('/reviews/reviewer-submission/' + submissionId, reqBody, {\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    }).then(res => {\n        dispatch(createReviewSubmissionSuccess(res.data.message));\n    }).catch(err => {\n        dispatch(reviewProcessError(err.response.data.error));\n    });\n};\n\nexport const resetCreateReviewSubmissionState = () => (dispatch) => {\n    dispatch({\n        type: actionTypes.RESET_CREATE_REVIEW_SUBMISSION_STATE\n    })\n};\n\n// Reviewer edit review for a submission\nexport const editReviewSubmission = (submissionId, reqBody) => (dispatch, getState) => {\n    dispatch(uploadStart());\n    const token = getState().auth.token;\n    axios.put('/reviews/reviewer-submission/' + submissionId, reqBody, {\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    }).then(res => {\n        dispatch(editReviewSubmissionSuccess(res.data.message));\n    }).catch(err => {\n        dispatch(reviewProcessError(err.response.data.error));\n    });\n};\n\nexport const resetEditReviewSubmissionState = () => (dispatch) => {\n    dispatch({\n        type: actionTypes.RESET_EDIT_REVIEW_SUBMISSION_SUCCESS\n    })\n};\n\n// Editor create review for a submission\nexport const createEditorSubmission = (submissionId, reqBody) => (dispatch, getState) => {\n    dispatch(uploadStart());\n    const token = getState().auth.token;\n    axios.post('/reviews/editor-submission/' + submissionId, reqBody, {\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    }).then(res => {\n        dispatch(createEditorSubmissionSuccess(res.data.message));\n    }).catch(err => {\n        dispatch(reviewProcessError(err.response.data.error));\n    });\n};\n\nexport const resetCreateEditorSubmissionState = () => (dispatch) => {\n    dispatch({\n        type: actionTypes.RESET_CREATE_EDITOR_SUBMISSION_STATE\n    })\n};\n\n// Editor edit review for a submission\nexport const editEditorSubmission = (submissionId, reqBody) => (dispatch, getState) => {\n    dispatch(uploadStart());\n    const token = getState().auth.token;\n    axios.put('/reviews/editor-submission/' + submissionId, reqBody, {\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    }).then(res => {\n        dispatch(editEditorSubmissionSuccess(res.data.message));\n    }).catch(err => {\n        dispatch(reviewProcessError(err.response.data.error));\n    });\n};\n\nexport const resetEditEditorSubmissionState = () => (dispatch) => {\n    dispatch({\n        type: actionTypes.RESET_EDIT_EDITOR_SUBMISSION_SUCCESS\n    })\n};\n\n// Editor request author revision\nexport const requestAuthorRevision = (submissionId, reqBody) => (dispatch, getState) => {\n    dispatch(uploadStart());\n    const token = getState().auth.token;\n    axios.post('/reviews/request-author-revision/' + submissionId, reqBody, {\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    }).then(res => {\n        dispatch(requestAuthorRevisionSuccess(res.data.message));\n    }).catch(err => {\n        dispatch(reviewProcessError(err.response.data.error));\n    });\n};\n\nexport const resetRequestAuthorRevisionState = () => (dispatch) => {\n    dispatch({\n        type: actionTypes.RESET_REQUEST_AUTHOR_REVISION_STATE\n    })\n};\n\n// Editor and Author get Author Assignment by Submission\nexport const getAuthorAssignmentBySubmission = (submissionId) => (dispatch, getState) => {\n    ;\n    const token = getState().auth.token;\n    axios.get('/reviews/author-assignment/' + submissionId, {\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    }).then(res => {\n        dispatch(getAuthorAssignmentSuccess(res.data.authorAssignment));\n    }).catch(err => {\n        dispatch(reviewProcessError(err.message));\n    });\n};\n\n// Author Submit Revision of Submissison\nexport const authorCreateRevision = (submissionId, formData) => (dispatch, getState) => {\n    dispatch(uploadStart());\n    const token = getState().auth.token;\n    axios.put('/reviews/author-assignment/' + submissionId, formData, {\n        headers: {\n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'multipart/form-data'\n        }\n    }).then(res => {\n        dispatch(createAuthorRevisionSuccess(res.data.message));\n    }).catch(err => {\n        dispatch(reviewProcessError(err.response.data.error));\n    });\n};\n\nexport const resetAuthorRevisionState = () => (dispatch) => {\n    dispatch({\n        type: actionTypes.RESET_SUBMIT_REVISION_STATE\n    })\n};\n\n// Chief Editor Accept or Decline Submisison\nexport const acceptSubmisison = (submissionId, content, authorEmail, htmlContent) => (dispatch, getState) => {\n    const token = getState().auth.token;\n    const reqBody = {\n        content: content,\n        authorEmail: authorEmail,\n        htmlContent: htmlContent\n    };\n    axios.put('/reviews/accept-submission/' + submissionId, reqBody, {\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    }).then(res => {\n        dispatch(acceptSubmissionSuccess(res.data.message));\n    }).catch(err => {\n        dispatch(reviewProcessError(err.response.data.error));\n    });\n};\n\nexport const resetAcceptSubmissionState = () => (dispatch) => {\n    dispatch({\n        type: actionTypes.RESET_ACCEPT_SUBMISSION_STATE\n    });\n};\n\nexport const declineSubmisison = (submissionId, content, authorEmail, htmlContent) => (dispatch, getState) => {\n    const token = getState().auth.token;\n    const reqBody = {\n        content: content,\n        authorEmail: authorEmail,\n        htmlContent: htmlContent\n    };\n    axios.put('/reviews/decline-submission/' + submissionId, reqBody, {\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    }).then(res => {\n        dispatch(declineSubmissionSuccess(res.data.message));\n    }).catch(err => {\n        dispatch(reviewProcessError(err.response.data.error));\n    });\n};\n\nexport const resetDeclineSubmissionState = () => (dispatch) => {\n    dispatch({\n        type: actionTypes.RESET_DECLINE_SUBMISSION_STATE\n    });\n};\n\n// All: Get Chief Editor Submission\nexport const getChiefEditorSubmission = (submissionId) => (dispatch, getState) => {\n    ;\n    const token = getState().auth.token;\n    axios.get('/reviews/chief-editor-submission/' + submissionId, {\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    }).then(res => {\n        dispatch(getChiefEditorSubmissionSuccess(res.data.chiefEditorSubmission));\n    }).catch(err => {\n        dispatch(reviewProcessError(err.message));\n    });\n};","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport ContentHeader from '../../Dashboard/Shared/ContentHeader';\nimport Aux from '../../../hoc/Auxiliary/Auxiliary';\nimport Spinner from '../../UI/Spinner/Spinner';\nimport { getMyNotifications } from '../../../store/actions/authActions';\nimport { getCategories, getStages, getSubmissionTypes } from '../../../store/actions/submissionActions';\nimport { getMyReviewerAssignments } from '../../../store/actions/reviewActions';\nimport { Link } from 'react-router-dom';\nimport { checkDueDate, getFormattedDate, getFormattedDateOnly, getStageBadgeClassname, updateObject } from '../../../utils/utility';\nimport Pagination from '../../UI/Pagination/Pagination';\nimport Filter from '../Filter/Filter';\n\nconst ITEMS_PER_PAGE = 8;\nclass Home extends Component {\n\n    state = {\n        selectedCategoryId: '',\n        selectedStageId: '',\n        selectedTypeId: '',\n        keyword: ''\n    }\n\n    init = () => {\n        if (this.props.location.search) {\n            const query = new URLSearchParams(this.props.location.search);\n            const page = query.get('page');\n            if (page) {\n                this.props.getMyReviewerAssignments(page, ITEMS_PER_PAGE, this.state.selectedCategoryId, this.state.selectedStageId, this.state.selectedTypeId);\n            }\n        } else {\n            this.props.getMyReviewerAssignments(1, ITEMS_PER_PAGE, this.state.selectedCategoryId, this.state.selectedStageId, this.state.selectedTypeId);\n        }\n    }\n\n    componentDidMount() {\n        this.props.getCategories();\n        this.props.getStages();\n        this.props.getSubmissionTypes();\n        this.init();\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.location.search !== prevProps.location.search) {\n            const prevQuery = new URLSearchParams(prevProps.location.search);\n            const query = new URLSearchParams(this.props.location.search);\n            const prevPage = prevQuery.get('page');\n            const page = query.get('page');\n            if (page !== prevPage) {\n                this.props.getMyReviewerAssignments(page, ITEMS_PER_PAGE, this.state.selectedCategoryId, this.state.selectedStageId, this.state.selectedTypeId);\n            }\n        }\n    }\n\n    refreshHandler = () => {\n        this.init();\n        this.props.getMyNotifications();\n    }\n\n    searchInputChangeHandler = (event) => {\n        const keyword = event.target.value;\n        this.setState(updateObject(this.state, { keyword }));\n        this.props.getMyReviewerAssignments(1, ITEMS_PER_PAGE, this.state.selectedCategoryId, this.state.selectedStageId, this.state.selectedTypeId, keyword);\n    }\n\n    categoryFilterHandler = (event) => {\n        this.setState(updateObject(this.state, { selectedCategoryId: event.target.value }));\n        this.props.getMyReviewerAssignments(1, ITEMS_PER_PAGE, event.target.value, this.state.selectedStageId, this.state.selectedTypeId, this.state.keyword);\n    }\n\n    stageFilterHandler = (event) => {\n        this.setState(updateObject(this.state, { selectedStageId: event.target.value }));\n        this.props.getMyReviewerAssignments(1, ITEMS_PER_PAGE, this.state.selectedCategoryId, event.target.value, this.state.selectedTypeId, this.state.keyword);\n    }\n\n    typeFilterHandler = (event) => {\n        this.setState(updateObject(this.state, { selectedTypeId: event.target.value }));\n        this.props.getMyReviewerAssignments(1, ITEMS_PER_PAGE, this.state.selectedCategoryId, this.state.selectedStageId, event.target.value, this.state.keyword);\n    }\n\n    render() {\n        return (\n            <div className=\"content-wrapper\">\n                {/* <!-- Content Header (Page header) --> */}\n                <section className=\"content-header\">\n                    <ContentHeader title=\"Trang thẩm định viên\">\n                        <li className=\"breadcrumb-item\">Trang thẩm định viên</li>\n                    </ContentHeader>\n                </section>\n\n                {/* <!-- Main content --> */}\n                <section className=\"content\">\n                    {!this.props.loading ? (\n                        <div className=\"card\">\n                            <div className=\"card-header\">\n                                <h3 className=\"card-title\">Danh mục bài báo được phân công thẩm định</h3>\n                                <div className=\"float-right mr-5\">\n                                    <button className=\"btn btn-tool\" onClick={this.refreshHandler}>\n                                        <i className=\"fas fa-sync-alt\" style={{ fontSize: '20px' }}></i>\n                                    </button>\n                                </div>\n                            </div>\n                            <Filter\n                                categories={this.props.categories.length > 0 ? this.props.categories : []}\n                                stages={this.props.stages.length > 0 ? this.props.stages : []}\n                                types={this.props.types.length > 0 ? this.props.types : []}\n                                typeFilterHandler={this.typeFilterHandler}\n                                categoryFilterHandler={this.categoryFilterHandler}\n                                stageFilterHandler={this.stageFilterHandler}\n                                searchInputChangeHandler={this.searchInputChangeHandler} />\n                            <div className=\"card-body p-0\">\n                                {this.props.reviewerAssignments.length > 0 ? (\n                                    <Aux>\n                                        <table className=\"table table-hover projects\" style={{ borderCollapse: 'collapse' }}>\n                                            <thead>\n                                                <tr>\n                                                    <th style={{ width: '1%' }}> #</th>\n                                                    <th style={{ width: '35%' }}> Bài Báo</th>\n                                                    <th style={{ width: '15%' }} className=\"text-center\"> Pha</th>\n                                                    <th style={{ width: '15%' }} className=\"text-center\"> Hạn xử lý</th>\n                                                    <th style={{ width: '10%' }} className=\"text-center\"> Trạng thái</th>\n                                                    <th style={{ width: '15%' }} className=\"text-center\"> Xử lý</th>\n                                                </tr>\n                                            </thead>\n                                            <tbody>\n                                                {this.props.reviewerAssignments.map(ra => (\n                                                    <Aux key={ra._id}>\n                                                        <tr data-toggle=\"collapse\" data-target={`#aaa${ra._id}`} className=\"accordion-toggle\" aria-expanded=\"true\" aria-controls=\"collapseOne\">\n                                                            <td style={{ cursor: 'pointer' }}><i className=\"fas fa-caret-down\"></i></td>\n                                                            <td>\n                                                                <b>{ra.submissionId.title}</b>\n                                                                <br />\n                                                                <small style={{ fontSize: '13px', color: 'red' }}><b className=\"text-dark\">Thể loại:</b> {ra.submissionId.typeId.name}</small>\n                                                            </td>\n                                                            <td className=\"project-state\">\n                                                                <span className={\"badge \" + getStageBadgeClassname(ra.submissionId.stageId.value)}>{ra.submissionId.stageId.name}</span>\n                                                            </td>\n                                                            <td className=\"text-center\">\n                                                                <span>{getFormattedDateOnly(ra.dueDate)}</span>\n                                                                {!checkDueDate(ra.dueDate) ? (\n                                                                    <div className=\"badge-ol badge-ol-danger mb-1\">Hết hạn xử lý</div>\n                                                                ) : null}\n                                                            </td>\n                                                            <td className=\"text-center\">\n                                                                {ra.reviewerSubmissionId ? (\n                                                                    <span className=\"badge-ol badge-ol-success badge-outlined pt-2 pb-2 pl-3 pr-3\"> Đã nộp ý kiến</span>\n                                                                ) : (\n                                                                        <span className=\"badge-ol badge-ol-danger badge-outlined p-2\">Chưa nộp ý kiến</span>\n                                                                    )}\n                                                            </td>\n                                                            <td className=\"project-actions text-center\">\n                                                                {ra.reviewerSubmissionId ? (\n                                                                    <Link to={`/dashboard/reviewer/assignment/${ra.submissionId._id}`} className=\"btn btn-outline-dark btn-sm mr-1 btn-flat\">\n                                                                        <i className=\"fas fa-eye\"></i> Xem\n                                                                    </Link>\n                                                                ) : (\n                                                                        <Aux>\n                                                                            {!checkDueDate(ra.dueDate) ? (\n                                                                                <Link to={`/dashboard/reviewer/assignment/${ra.submissionId._id}`} className=\"btn btn-outline-dark btn-flat btn-sm mr-1\">\n                                                                                    <i className=\"fas fa-eye\"></i> Xem\n                                                                                </Link>\n                                                                            ) : (\n                                                                                    <Link to={`/dashboard/reviewer/assignment/${ra.submissionId._id}`} className=\"btn btn-outline-dark btn-flat btn-sm mr-1\">\n                                                                                        <i className=\"fas fa-tasks\"></i> Xử lý\n                                                                                    </Link>\n                                                                                )}\n                                                                        </Aux>\n                                                                    )}\n                                                            </td>\n                                                        </tr>\n                                                        <tr><td colSpan=\"6\" className=\"hiddenRow\">\n                                                            <div id={`aaa${ra._id}`} className=\"accordian-body collapse\">\n                                                                <div className=\"col-lg-12\">\n                                                                    <div className=\"row pl-5\">\n                                                                        <div className=\"col-lg-4 pt-2\">\n                                                                            <div className=\"mr-2 mb-3\">\n                                                                                <div className=\"font-weight-bold mb-1\">Nguời giao</div>\n                                                                                <div className=\"ml-3\">\n                                                                                    <Link to=\"#\">\n                                                                                        <div className=\"text-primary\"><i className=\"fas fa-user text-dark\"></i> {\" \"}\n                                                                                            {ra.editorId.lastname} {ra.editorId.firstname}\n                                                                                        </div>\n                                                                                    </Link>\n                                                                                </div>\n                                                                            </div>\n                                                                            <div className=\"mr-2\">\n                                                                                <div className=\"font-weight-bold\">Ngày giao</div>\n                                                                                <p className=\"ml-3\">{getFormattedDate(ra.createdAt)}</p>\n                                                                            </div>\n                                                                            <div className=\"mr-2\">\n                                                                                <div className=\"font-weight-bold\">Hạn xử lý</div>\n                                                                                <p className=\"ml-3\">{getFormattedDate(ra.dueDate)}</p>\n                                                                            </div>\n                                                                            <div className=\"mr-2\">\n                                                                                <div className=\"font-weight-bold\">Lời nhắn</div>\n                                                                                <p className=\"ml-3\">{ra.message}</p>\n                                                                            </div>\n                                                                        </div>\n                                                                        <div className=\"col-lg-4 border rounded pt-2\">\n\n                                                                        </div>\n                                                                        <div className=\"col-lg-4 border rounded pt-2 pb-2\">\n\n                                                                        </div>\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                        </td></tr>\n                                                    </Aux>\n                                                ))}\n                                            </tbody>\n                                        </table>\n\n                                        <div className=\"mt-2\">\n                                            <Pagination\n                                                currentPage={this.props.currentPage}\n                                                hasNextPage={ITEMS_PER_PAGE * this.props.currentPage < this.props.total}\n                                                hasPrevPage={this.props.currentPage > 1}\n                                                nextPage={this.props.currentPage + 1}\n                                                prevPage={this.props.currentPage - 1}\n                                                lastPage={Math.ceil(this.props.total / ITEMS_PER_PAGE)}\n                                                location={this.props.location} />\n                                        </div>\n                                    </Aux>\n                                ) : (<div className=\"card-text ml-4\">Không tìm thấy bài báo nào.</div>)}\n                            </div>\n                        </div>\n                    ) : <Spinner />}\n                </section>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        categories: state.submission.categories,\n        types: state.submission.types,\n        stages: state.submission.stages,\n        reviewerAssignments: state.review.reviewerAssignments,\n        loading: state.review.loading,\n        error: state.review.error,\n        total: state.review.total_items,\n        currentPage: state.review.currentPage\n    }\n};\n\nconst mapDispatchToProps = {\n    getCategories,\n    getStages,\n    getSubmissionTypes,\n    getMyReviewerAssignments,\n    getMyNotifications\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport ContentHeader from '../../Dashboard/Shared/ContentHeader';\nimport Aux from '../../../hoc/Auxiliary/Auxiliary';\nimport Spinner from '../../UI/Spinner/Spinner';\nimport { getMyNotifications } from '../../../store/actions/authActions';\nimport { getCategories, getStages, getSubmissionTypes } from '../../../store/actions/submissionActions';\nimport { getMyEditorAssignments } from '../../../store/actions/reviewActions';\nimport { Link } from 'react-router-dom';\nimport { checkDueDate, getDoughnutData, getFormattedDate, getFormattedDateOnly, getStageBadgeClassname, updateObject } from '../../../utils/utility';\nimport { Doughnut } from 'react-chartjs-2';\nimport Pagination from '../../UI/Pagination/Pagination';\nimport { SUBMISSION_TYPES } from '../../../utils/constant';\nimport Filter from '../Filter/Filter';\n\nconst ITEMS_PER_PAGE = 8;\nclass Home extends Component {\n\n    state = {\n        selectedCategoryId: '',\n        selectedStageId: '',\n        selectedTypeId: '',\n        keyword: ''\n    }\n\n    init = () => {\n        if (this.props.location.search) {\n            const query = new URLSearchParams(this.props.location.search);\n            const page = query.get('page');\n            if (page) {\n                this.props.getMyEditorAssignments(page, ITEMS_PER_PAGE, this.state.selectedCategoryId, this.state.selectedStageId, this.state.selectedTypeId);\n            }\n        } else {\n            this.props.getMyEditorAssignments(1, ITEMS_PER_PAGE, this.state.selectedCategoryId, this.state.selectedStageId, this.state.selectedTypeId);\n        }\n    }\n\n    componentDidMount() {\n        this.props.getCategories();\n        this.props.getStages();\n        this.props.getSubmissionTypes();\n        this.init();\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.location.search !== prevProps.location.search) {\n            const prevQuery = new URLSearchParams(prevProps.location.search);\n            const query = new URLSearchParams(this.props.location.search);\n            const prevPage = prevQuery.get('page');\n            const page = query.get('page');\n            if (page !== prevPage) {\n                this.props.getMyEditorAssignments(page, ITEMS_PER_PAGE, this.state.selectedCategoryId, this.state.selectedStageId, this.state.selectedTypeId);\n            }\n        }\n    }\n\n    refreshHandler = () => {\n        this.init();\n        this.props.getMyNotifications();\n    }\n\n    fetchDoughnutData = (reviewerAssignments) => {\n        const data = getDoughnutData(reviewerAssignments);\n        return data;\n    }\n\n    searchInputChangeHandler = (event) => {\n        const keyword = event.target.value;\n        this.setState(updateObject(this.state, { keyword }));\n        this.props.getMyEditorAssignments(1, ITEMS_PER_PAGE, this.state.selectedCategoryId, this.state.selectedStageId, this.state.selectedTypeId, keyword);\n    }\n\n    categoryFilterHandler = (event) => {\n        this.setState(updateObject(this.state, { selectedCategoryId: event.target.value }));\n        this.props.getMyEditorAssignments(1, ITEMS_PER_PAGE, event.target.value, this.state.selectedStageId, this.state.selectedTypeId, this.state.keyword);\n    }\n\n    stageFilterHandler = (event) => {\n        this.setState(updateObject(this.state, { selectedStageId: event.target.value }));\n        this.props.getMyEditorAssignments(1, ITEMS_PER_PAGE, this.state.selectedCategoryId, event.target.value, this.state.selectedTypeId, this.state.keyword);\n    }\n\n    typeFilterHandler = (event) => {\n        this.setState(updateObject(this.state, { selectedTypeId: event.target.value }));\n        this.props.getMyEditorAssignments(1, ITEMS_PER_PAGE, this.state.selectedCategoryId, this.state.selectedStageId, event.target.value, this.state.keyword);\n    }\n\n    render() {\n        return (\n            <div className=\"content-wrapper\">\n                {/* <!-- Content Header (Page header) --> */}\n                <section className=\"content-header\">\n                    <ContentHeader title=\"Trang biên tập viên\">\n                        <li className=\"breadcrumb-item\">Trang biên tập viên</li>\n                    </ContentHeader>\n                </section>\n\n                {/* <!-- Main content --> */}\n                <section className=\"content\">\n                    {!this.props.loading ? (\n                        <div className=\"card\">\n                            <div className=\"card-header\">\n                                <h3 className=\"card-title\">Danh mục bài báo được phân công thẩm định</h3>\n                                <div className=\"float-right mr-5\">\n                                    <button className=\"btn btn-tool\" onClick={this.refreshHandler}>\n                                        <i className=\"fas fa-sync-alt\" style={{ fontSize: '20px' }}></i>\n                                    </button>\n                                </div>\n                            </div>\n                            <Filter\n                                categories={this.props.categories.length > 0 ? this.props.categories : []}\n                                stages={this.props.stages.length > 0 ? this.props.stages : []}\n                                types={this.props.types.length > 0 ? this.props.types : []}\n                                typeFilterHandler={this.typeFilterHandler}\n                                categoryFilterHandler={this.categoryFilterHandler}\n                                stageFilterHandler={this.stageFilterHandler}\n                                searchInputChangeHandler={this.searchInputChangeHandler} />\n                            <div className=\"card-body p-0\">\n                                {this.props.editorAssignments.length > 0 ? (\n                                    <Aux>\n                                        <table className=\"table table-hover projects\" style={{ borderCollapse: 'collapse' }}>\n                                            <thead>\n                                                <tr>\n                                                    <th style={{ width: '1%' }}> #</th>\n                                                    <th style={{ width: '35%' }}> Bài Báo</th>\n                                                    <th style={{ width: '10%' }} className=\"text-center\"> Pha</th>\n                                                    <th style={{ width: '15%' }} className=\"text-center\"> Thẩm định viên</th>\n                                                    <th style={{ width: '10%' }} className=\"text-center\"> Hạn xử lý</th>\n                                                    <th style={{ width: '15%' }} className=\"text-center\"> Trạng thái</th>\n                                                    <th style={{ width: '15%' }} className=\"text-center\"> Xử lý</th>\n                                                </tr>\n                                            </thead>\n                                            <tbody>\n                                                {this.props.editorAssignments.map(ea => (\n                                                    <Aux key={ea._id}>\n                                                        <tr data-toggle=\"collapse\" data-target={`#aaa${ea._id}`} className=\"accordion-toggle\" aria-expanded=\"true\" aria-controls=\"collapseOne\">\n                                                            <td style={{ cursor: 'pointer' }}><i className=\"fas fa-caret-down\"></i></td>\n                                                            <td>\n                                                                <b>{ea.submissionId.title}</b>\n                                                                <br />\n                                                                {/* <div className=\"badge-ol badge-ol-danger badge-outlined mb-1 pt-1 pb-1 pl-2 pr-2\">\n                                                                    {ea.submissionId.typeId.name}\n                                                                </div> */}\n                                                                <small style={{ fontSize: '13px', color: 'red' }}><b className=\"text-dark\">Thể loại:</b> {ea.submissionId.typeId.name}</small>\n                                                            </td>\n                                                            <td className=\"project-state\">\n                                                                <span className={\"badge \" + getStageBadgeClassname(ea.submissionId.stageId.value)}>{ea.submissionId.stageId.name}</span>\n                                                            </td>\n                                                            <td className=\"text-center\">\n                                                                {ea.submissionId.typeId.name === SUBMISSION_TYPES.PEER_REVIEW_RESEARCH.name ? (\n                                                                    <Aux>\n                                                                        <i className=\"fas fa-user\"></i> {\" \"}\n                                                                        <span>{ea.reviewerAssignmentId.length}/3</span>\n                                                                    </Aux>\n                                                                ) : (\n                                                                        <span>Không yêu cầu</span>\n                                                                    )}\n                                                            </td>\n                                                            <td className=\"text-center\">\n                                                                <span>{getFormattedDateOnly(ea.dueDate)}</span>\n                                                                {!checkDueDate(ea.dueDate) ? (\n                                                                    <div className=\"badge-ol badge-ol-danger mb-1\">Hết hạn xử lý</div>\n                                                                ) : null}\n                                                            </td>\n                                                            <td className=\"text-center\">\n                                                                {ea.editorSubmissionId ? (\n                                                                    <span className=\"badge-ol badge-ol-success badge-outlined pt-2 pb-2 pl-3 pr-3\"> Đã nộp ý kiến</span>\n                                                                ) : (\n                                                                        <span className=\"badge-ol badge-ol-danger badge-outlined p-2\">Chưa nộp ý kiến</span>\n                                                                    )}\n                                                            </td>\n                                                            <td className=\"project-actions text-center\">\n                                                                {!checkDueDate(ea.dueDate) ? (\n                                                                    <Link to={`/dashboard/editor/assignment/${ea.submissionId._id}`} className=\"btn btn-outline-dark btn-flat btn-sm mr-1\">\n                                                                        <i className=\"fas fa-eye\"></i> Xem\n                                                                    </Link>\n                                                                ) : (\n                                                                        <Link to={`/dashboard/editor/assignment/${ea.submissionId._id}`} className=\"btn btn-outline-dark btn-flat btn-sm mr-1\">\n                                                                            <i className=\"fas fa-tasks\"></i> Xử lý\n                                                                        </Link>\n                                                                    )}\n                                                            </td>\n                                                        </tr>\n                                                        {/* sub tab */}\n                                                        <tr><td colSpan=\"8\" className=\"hiddenRow\">\n                                                            <div id={`aaa${ea._id}`} className=\"accordian-body collapse\">\n                                                                <div className=\"col-lg-12\">\n                                                                    <div className=\"row pl-5\">\n                                                                        <div className=\"col-lg-4 pt-2\">\n                                                                            <div className=\"mr-2\">\n                                                                                <div className=\"font-weight-bold\">Nguời giao</div>\n                                                                                <div className=\"ml-3 pb-2\">\n                                                                                    <Link to=\"#\">\n                                                                                        <div className=\"text-primary mt-2 mb-2\"><i className=\"fas fa-user text-dark\"></i> {\" \"}\n                                                                                            {ea.chiefEditorId.lastname} {ea.chiefEditorId.firstname}\n                                                                                        </div>\n                                                                                    </Link>\n                                                                                </div>\n                                                                            </div>\n                                                                            <div className=\"mr-2\">\n                                                                                <div className=\"font-weight-bold\">Ngày giao</div>\n                                                                                <p className=\"ml-3\">{getFormattedDate(ea.createdAt)}</p>\n                                                                            </div>\n                                                                            <div className=\"mr-2\">\n                                                                                <div className=\"font-weight-bold\">Hạn xử lý</div>\n                                                                                <p className=\"ml-3\">{getFormattedDate(ea.dueDate)}</p>\n                                                                            </div>\n                                                                            <div className=\"mr-2\">\n                                                                                <div className=\"font-weight-bold\">Lời nhắn</div>\n                                                                                <p className=\"ml-3\">{ea.message}</p>\n                                                                            </div>\n                                                                        </div>\n                                                                        <div className=\"col-lg-4 border rounded pt-2\">\n                                                                            <div className=\"form-group\">\n                                                                                <label>Tác giả</label>\n                                                                                <div className=\"ml-4\">\n                                                                                    <Link to=\"#\">\n                                                                                        <div className=\"text-primary\"><i className=\"fas fa-user text-dark\"></i> {\" \"}\n                                                                                            {ea.submissionId.authorId.lastname} {ea.submissionId.authorId.firstname}\n                                                                                        </div>\n                                                                                    </Link>\n                                                                                </div>\n                                                                            </div>\n                                                                            <div className=\"form-group\">\n                                                                                <label>Biên tập viên</label>\n                                                                                <div className=\"ml-4\">\n                                                                                    <Link to=\"#\">\n                                                                                        <div className=\"text-primary\"><i className=\"fas fa-user text-dark\"></i> {\" \"}\n                                                                                            {ea.editorId.lastname} {ea.editorId.firstname}\n                                                                                        </div>\n                                                                                    </Link>\n                                                                                </div>\n                                                                            </div>\n                                                                            <div className=\"form-group\">\n                                                                                {ea.submissionId.typeId.name === SUBMISSION_TYPES.PEER_REVIEW_RESEARCH.name ? (\n                                                                                    <Aux>\n                                                                                        <label>Thẩm định viên ({ea.reviewerAssignmentId.length}/3)</label>\n                                                                                        {ea.reviewerAssignmentId.length > 0 ? (\n                                                                                            <div className=\"ml-4\">\n                                                                                                {ea.reviewerAssignmentId.map(ra => (\n                                                                                                    <Link to=\"#\" key={ra._id}>\n                                                                                                        <div className=\"text-primary\"><i className=\"fas fa-user text-dark\"></i> {\" \"}\n                                                                                                            {ra.reviewerId.lastname} {ra.reviewerId.firstname}\n                                                                                                        </div>\n                                                                                                    </Link>\n                                                                                                ))}\n                                                                                            </div>\n                                                                                        ) : (\n                                                                                                <div className=\"ml-4\">\n                                                                                                    <div>Thẩm định viên chưa được chỉ định</div>\n                                                                                                </div>\n                                                                                            )}\n                                                                                    </Aux>\n                                                                                ) : (\n                                                                                        <Aux>\n                                                                                            <label>Thẩm định viên</label>\n                                                                                            <div className=\"ml-4\">Khong yêu cầu</div>\n                                                                                        </Aux>\n                                                                                    )}\n                                                                            </div>\n                                                                        </div>\n                                                                        <div className=\"col-lg-4 border rounded pt-2 pb-2\">\n                                                                            <label>Trạng thái bài báo</label>\n                                                                            <div className=\"form-group ml-4\">{ea.submissionId ? ea.submissionId.submissionLogs[ea.submissionId.submissionLogs.length - 1].event : \"\"}</div>\n                                                                            <label>Ý kiến thẩm định viên</label>\n                                                                            <div className=\"form-group\">\n                                                                                {ea.submissionId.typeId.name === SUBMISSION_TYPES.PEER_REVIEW_RESEARCH.name ? (\n                                                                                    <Aux>\n                                                                                        {ea.reviewerAssignmentId.length > 0 ? (\n                                                                                            <Aux>\n                                                                                                <Doughnut\n                                                                                                    // data={data}\n                                                                                                    data={this.fetchDoughnutData(ea.reviewerAssignmentId)}\n                                                                                                    options={{\n                                                                                                        responsive: true,\n                                                                                                        maintainAspectRatio: true,\n                                                                                                        legend: {\n                                                                                                            labels: {\n                                                                                                                fontSize: 10,\n                                                                                                                fontFamily: 'Roboto Slab'\n                                                                                                            }\n                                                                                                        }\n                                                                                                    }}\n                                                                                                />\n                                                                                                <Link to={`/dashboard/editor/assignment/${ea.submissionId._id}`} className=\"text-primary\"><u>Xem chi tiết</u></Link>\n                                                                                            </Aux>\n                                                                                        ) : (\n                                                                                                <div className=\"ml-4\">\n                                                                                                    <div>Thẩm định viên chưa được chỉ định</div>\n                                                                                                </div>\n                                                                                            )}\n                                                                                    </Aux>\n                                                                                ) : (\n                                                                                        <Aux>\n                                                                                            <div className=\"ml-4\">\n                                                                                                <div>Không yêu cầu</div>\n                                                                                            </div>\n                                                                                        </Aux>\n                                                                                    )}\n\n                                                                            </div>\n                                                                        </div>\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                        </td></tr>\n                                                    </Aux>\n                                                ))}\n                                            </tbody>\n                                        </table>\n                                        <div className=\"mt-2\">\n                                            <Pagination\n                                                currentPage={this.props.currentPage}\n                                                hasNextPage={ITEMS_PER_PAGE * this.props.currentPage < this.props.total}\n                                                hasPrevPage={this.props.currentPage > 1}\n                                                nextPage={this.props.currentPage + 1}\n                                                prevPage={this.props.currentPage - 1}\n                                                lastPage={Math.ceil(this.props.total / ITEMS_PER_PAGE)}\n                                                location={this.props.location} />\n                                        </div>\n                                    </Aux>\n                                ) : (<div className=\"card-text ml-4\">Không tìm thấy bài báo nào.</div>)}\n                            </div>\n                        </div>\n                    ) : <Spinner />}\n                </section>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        token: state.auth.token,\n        categories: state.submission.categories,\n        types: state.submission.types,\n        stages: state.submission.stages,\n        editorAssignments: state.review.editorAssignments,\n        loading: state.review.loading,\n        error: state.review.error,\n        total: state.review.total_items,\n        currentPage: state.review.currentPage\n    }\n};\n\nconst mapDispatchToProps = {\n    getCategories,\n    getStages,\n    getSubmissionTypes,\n    getMyEditorAssignments,\n    getMyNotifications\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { getAllSubmissions, searchSubmissions, getStages, getCategories, getSubmissionTypes } from '../../../store/actions/submissionActions';\nimport { getMyNotifications } from '../../../store/actions/authActions';\nimport { getFormattedDate, getStageBadgeClassname, updateObject } from '../../../utils/utility';\nimport Spinner from '../../UI/Spinner/Spinner';\nimport ContentHeader from '../../Dashboard/Shared/ContentHeader';\nimport { STAGE } from '../../../utils/constant';\nimport Aux from '../../../hoc/Auxiliary/Auxiliary';\nimport Pagination from '../../UI/Pagination/Pagination';\nimport Filter from '../Filter/Filter';\n\nconst ITEMS_PER_PAGE = 8;\nclass Home extends Component {\n\n    state = {\n        selectedCategoryId: '',\n        selectedStageId: '',\n        selectedTypeId: ''\n    }\n\n    init = () => {\n        if (this.props.location.search) {\n            const query = new URLSearchParams(this.props.location.search);\n            const page = query.get('page');\n            if (page) {\n                this.props.getAllSubmissions(page, ITEMS_PER_PAGE, this.state.selectedCategoryId, this.state.selectedStageId, this.state.selectedTypeId);\n            }\n        } else {\n            this.props.getAllSubmissions(1, ITEMS_PER_PAGE, this.state.selectedCategoryId, this.state.selectedStageId, this.state.selectedTypeId);\n        }\n    }\n\n    componentDidMount() {\n        this.props.getCategories();\n        this.props.getStages();\n        this.props.getSubmissionTypes();\n        this.init();\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.location.search !== prevProps.location.search) {\n            const prevQuery = new URLSearchParams(prevProps.location.search);\n            const query = new URLSearchParams(this.props.location.search);\n            const prevPage = prevQuery.get('page');\n            const page = query.get('page');\n            if (page !== prevPage) {\n                this.props.getAllSubmissions(page, ITEMS_PER_PAGE, this.state.selectedCategoryId, this.state.selectedStageId, this.state.selectedTypeId);\n            }\n        }\n    }\n\n    refreshHandler = () => {\n        this.init();\n        this.props.getMyNotifications();\n    }\n\n    searchInputChangeHandler = (event) => {\n        const keyword = event.target.value;\n        this.props.searchSubmissions(1, ITEMS_PER_PAGE, keyword);\n    }\n\n    categoryFilterHandler = (event) => {\n        this.setState(updateObject(this.state, { selectedCategoryId: event.target.value }));\n        this.props.getAllSubmissions(1, ITEMS_PER_PAGE, event.target.value, this.state.selectedStageId, this.state.selectedTypeId);\n    }\n\n    stageFilterHandler = (event) => {\n        this.setState(updateObject(this.state, { selectedStageId: event.target.value }));\n        this.props.getAllSubmissions(1, ITEMS_PER_PAGE, this.state.selectedCategoryId, event.target.value, this.state.selectedTypeId);\n    }\n\n    typeFilterHandler = (event) => {\n        this.setState(updateObject(this.state, { selectedTypeId: event.target.value }));\n        this.props.getAllSubmissions(1, ITEMS_PER_PAGE, this.state.selectedCategoryId, this.state.selectedStageId, event.target.value);\n    }\n\n    render() {\n\n        const contentWrapper = (\n            <div className=\"content-wrapper\">\n                {/* <!-- Content Header (Page header) --> */}\n                <section className=\"content-header\">\n                    <ContentHeader title=\"Trang tổng biên tập\">\n                        <li className=\"breadcrumb-item\">Trang tổng biên tập</li>\n                    </ContentHeader>\n                </section>\n\n                {/* <!-- Main content --> */}\n                <section className=\"content\">\n                    {!this.props.loading ? (\n                        <div className=\"card\">\n                            <div className=\"card-header\">\n                                <h3 className=\"card-title\">Quản lý bài báo trên hệ thống</h3>\n                                <div className=\"float-right\">\n                                    <button className=\"btn btn-tool\" onClick={this.refreshHandler}>\n                                        <i className=\"fas fa-sync-alt\" style={{ fontSize: '20px' }}></i>\n                                    </button>\n                                </div>\n                            </div>\n                            <Filter\n                                categories={this.props.categories.length > 0 ? this.props.categories : []}\n                                stages={this.props.stages.length > 0 ? this.props.stages : []}\n                                types={this.props.types.length > 0 ? this.props.types : []}\n                                categoryFilterHandler={this.categoryFilterHandler}\n                                typeFilterHandler={this.typeFilterHandler}\n                                stageFilterHandler={this.stageFilterHandler}\n                                searchInputChangeHandler={this.searchInputChangeHandler} />\n                            <div className=\"card-body p-0\">\n                                {this.props.submissions.length > 0 ? (\n                                    <Aux>\n                                        <table className=\"table table-hover projects\">\n                                            <thead>\n                                                <tr>\n                                                    <th style={{ width: '1%' }}> #</th>\n                                                    <th style={{ width: '30%' }}> Bài Báo</th>\n                                                    <th style={{ width: '15%' }}> Thể loại</th>\n                                                    <th style={{ width: '15%' }} className=\"text-center\"> Tác giả</th>\n                                                    <th style={{ width: '10%' }} className=\"text-center\"> Pha</th>\n                                                    <th style={{ width: '15%' }} className=\"text-center\"> Trạng thái</th>\n                                                    <th style={{ width: '20%' }} className=\"text-center\"> Action</th>\n                                                </tr>\n                                            </thead>\n                                            <tbody>\n                                                {this.props.submissions.map(submission => (\n                                                    <Aux key={submission._id}>\n                                                        <tr data-toggle=\"collapse\" data-target={`#aaa${submission._id}`} className=\"accordion-toggle\" aria-expanded=\"true\" aria-controls=\"collapseOne\">\n                                                            <td style={{ cursor: 'pointer' }}><i className=\"fas fa-caret-down\"></i></td>\n                                                            <td>\n                                                                <Link to=\"#\">{submission.title}</Link>\n                                                                <br />\n                                                                <small style={{ fontSize: '12px' }}><b>Ngày đăng:</b> {getFormattedDate(submission.createdAt)}</small>\n                                                            </td>\n                                                            <td className=\"text-danger\">\n                                                                {submission.typeId.name}\n                                                            </td>\n                                                            <td className=\"text-center\">\n                                                                <Link to=\"#\" className=\"text-primary\">{submission.authorId.lastname} {submission.authorId.firstname}</Link>\n                                                            </td>\n                                                            <td className=\"project-state text-center\">\n                                                                <span className={\"badge \" + getStageBadgeClassname(submission.stageId.value)}>{submission.stageId.name}</span>\n                                                            </td>\n                                                            <td className=\"text-center\">\n                                                                {JSON.stringify(submission.stageId) === JSON.stringify(STAGE.SUBMISSION) ? (\n                                                                    <span><i className=\"fa fa-exclamation-triangle\"></i> Chưa có Biên tập viên</span>\n                                                                ) : (\n                                                                        <span>{submission.submissionLogs[submission.submissionLogs.length - 1].event}</span>\n                                                                    )}\n                                                            </td>\n                                                            <td className=\"project-actions text-center\">\n                                                                <Link to={`/dashboard/submission/${submission._id}`} className=\"btn btn-outline-dark btn-sm mr-1 btn-flat\">\n                                                                    <i className=\"fas fa-eye\"></i> Xử lý\n                                                                </Link>\n                                                            </td>\n                                                        </tr>\n                                                        {/* sub tab */}\n                                                        <tr>\n                                                            <td colSpan=\"8\" className=\"hiddenRow\">\n                                                                <div id={`aaa${submission._id}`} className=\"accordian-body collapse\">\n                                                                    <div className=\"col-lg-12\">\n                                                                        <div className=\"row pl-5\">\n                                                                            <div className=\"col-lg-4 pt-2\">\n\n                                                                            </div>\n                                                                            <div className=\"col-lg-4 border rounded pt-2\">\n\n                                                                            </div>\n                                                                            <div className=\"col-lg-4 border rounded pt-2 pb-2\">\n\n                                                                            </div>\n                                                                        </div>\n                                                                    </div>\n                                                                </div>\n                                                            </td>\n                                                        </tr>\n                                                    </Aux>\n                                                ))}\n                                            </tbody>\n                                        </table>\n                                        <div className=\"mt-2\">\n                                            <Pagination\n                                                currentPage={this.props.currentPage}\n                                                hasNextPage={ITEMS_PER_PAGE * this.props.currentPage < this.props.total}\n                                                hasPrevPage={this.props.currentPage > 1}\n                                                nextPage={this.props.currentPage + 1}\n                                                prevPage={this.props.currentPage - 1}\n                                                lastPage={Math.ceil(this.props.total / ITEMS_PER_PAGE)}\n                                                location={this.props.location} />\n                                        </div>\n                                    </Aux>\n                                ) : (<div className=\"card-text ml-4\">Không tìm thấy bài báo nào.</div>)}\n                            </div>\n                        </div>\n                    ) : <Spinner />}\n                </section>\n            </div>\n        );\n\n        return (\n            <Aux>\n                { contentWrapper}\n            </Aux>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        categories: state.submission.categories,\n        stages: state.submission.stages,\n        types: state.submission.types,\n        submissions: state.submission.submissions,\n        loading: state.submission.loading,\n        total: state.submission.total_items,\n        currentPage: state.submission.currentPage,\n    }\n};\n\nconst mapDispatchToProps = {\n    getAllSubmissions,\n    getMyNotifications,\n    searchSubmissions,\n    getCategories,\n    getStages,\n    getSubmissionTypes\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","import axios from '../../utils/axios';\nimport * as actionTypes from './actionTypes';\n\nconst userStart = () => {\n    return {\n        type: actionTypes.USERS_START\n    };\n};\n\n// const uploadStart = () => {\n//     return {\n//         type: actionTypes.UPLOAD_START\n//     }\n// };\n\nconst getMyUserInforSuccess = (data) => {\n    return {\n        type: actionTypes.GET_MY_USER_INFOR_SUCCESS,\n        user: data.user\n    }\n};\n\nconst updateUserInforSuccess = (data) => {\n    return {\n        type: actionTypes.UPDATE_USER_INFOR_SUCCESS,\n        message: data.message,\n        user: data.user\n    }\n}\n\nconst changePasswordSuccess = (data) => {\n    return {\n        type: actionTypes.CHANGE_PASSWORD_SUCCESS,\n        message: data.message,\n    }\n}\n\nconst changeAvatarSuccess = (data) => {\n    localStorage.setItem('avatar', data.avatar);\n    return {\n        type: actionTypes.CHANGE_AVATAR_SUCCESS,\n        message: data.message,\n        avatar: data.avatar\n    }\n}\n\n// Admin\nconst getAllUserInforSuccess = (data) => {\n    return {\n        type: actionTypes.GET_ALL_USERS_INFOR_SUCCESS,\n        users: data.users,\n        total: data.total,\n        currentPage: data.currentPage\n    }\n};\n\nconst getUserInforSuccess = (data) => {\n    return {\n        type: actionTypes.GET_USER_INFOR_SUCCESS,\n        user: data.user\n    }\n};\n\nconst getAllUserRoleSuccess = (data) => {\n    return {\n        type: actionTypes.GET_ALL_USER_ROLES_SUCCESS,\n        roles: data.roles\n    }\n};\n\nconst changeUserRoleSuccess = (data) => {\n    return {\n        type: actionTypes.CHANGE_USER_ROLE_SUCCESS,\n        // user: data.updatedUser,\n        message: data.message\n    }\n};\n\n// Error\nconst userError = (error) => {\n    return {\n        type: actionTypes.USERS_ERROR,\n        error: error\n    }\n};\n\nexport const getMyUserInfor = () => (dispatch, getState) => {\n    const token = getState().auth.token;\n    dispatch(userStart());\n    axios.get('users/my', {\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    }).then(res => {\n        dispatch(getMyUserInforSuccess(res.data));\n    }).catch(err => {\n        dispatch(userError(err.message));\n    });\n};\n\nconst getPreferenceCategoriesSuccess = (categories) => {\n    return {\n        type: actionTypes.GET_PREFERENCE_CATEGORIES_SUCCESS,\n        categories: categories\n    }\n};\n\nexport const updateUserInfor = (body) => (dispatch, getState) => {\n    const token = getState().auth.token;\n    axios.put('users/update-infor', body, {\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    }).then(res => {\n        dispatch(updateUserInforSuccess(res.data));\n    }).catch(err => {\n        dispatch(userError(err.response.data.error));\n    });\n};\n\nexport const resetUpdateUserInforState = () => (dispatch) => {\n    dispatch({\n        type: actionTypes.RESET_UPDATE_USER_INFOR_STATE\n    })\n};\n\nexport const changePassword = (body) => (dispatch, getState) => {\n    const token = getState().auth.token;\n    axios.put('users/change-password', body, {\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    }).then(res => {\n        dispatch(changePasswordSuccess(res.data));\n    }).catch(err => {\n        dispatch(userError(err.response.data.error));\n    });\n};\n\nexport const resetChangePasswordState = () => (dispatch) => {\n    dispatch({\n        type: actionTypes.RESET_CHANGE_PASSWORD_STATE\n    })\n};\n\nexport const changeAvatar = (formData) => (dispatch, getState) => {\n    const token = getState().auth.token;\n    axios.put('users/change-avatar', formData, {\n        headers: {\n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'multipart/form-data'\n        }\n    }).then(res => {\n        dispatch(changeAvatarSuccess(res.data));\n    }).catch(err => {\n        dispatch(userError(err.response.data.error));\n    });\n};\n\nexport const resetChangeAvatarState = () => (dispatch) => {\n    dispatch({\n        type: actionTypes.RESET_CHANGE_AVATAR_STATE\n    })\n};\n\nexport const getPreferenceCategories = () => (dispatch) => {\n    axios.get('users/all/preference-categories')\n        .then(res => {\n            dispatch(getPreferenceCategoriesSuccess(res.data.categories));\n        })\n        .catch(err => {\n            dispatch(userError(err.message));\n        });\n};\n\n// Admin\nexport const getAllUsers = (page = 1, limit = 8) => (dispatch, getState) => {\n    const token = getState().auth.token;\n    dispatch(userStart());\n    axios.get(`users/infor/all?page=${page}&limit=${limit}`, {\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    }).then(res => {\n        dispatch(getAllUserInforSuccess(res.data));\n    }).catch(err => {\n        dispatch(userError(err.message));\n    });\n};\n\nexport const getUserInfor = (userId) => (dispatch, getState) => {\n    const token = getState().auth.token;\n    dispatch(userStart());\n    axios.get(`users/${userId}`, {\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    }).then(res => {\n        dispatch(getUserInforSuccess(res.data));\n    }).catch(err => {\n        dispatch(userError(err.message));\n    });\n};\n\nexport const getAllRoles = () => (dispatch, getState) => {\n    const token = getState().auth.token;\n    axios.get('roles', {\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    }).then(res => {\n        dispatch(getAllUserRoleSuccess(res.data));\n    }).catch(err => {\n        dispatch(userError(err.message));\n    });\n};\n\nexport const changeUserRole = (userId, roleId) => (dispatch, getState) => {\n    const token = getState().auth.token;\n    axios.put(`users/role/${userId}`, { roleId: roleId }, {\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    }).then(res => {\n        dispatch(changeUserRoleSuccess(res.data));\n    }).catch(err => {\n        dispatch(userError(err.message));\n    });\n};\n\nexport const resetchangeUserRoleState = () => (dispatch) => {\n    dispatch({\n        type: actionTypes.RESET_CHANGE_USER_ROLE_STATE\n    })\n};","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { getAllUsers } from '../../../store/actions/userActions';\nimport { getMyNotifications } from '../../../store/actions/authActions';\nimport ContentHeader from '../Shared/ContentHeader';\nimport Spinner from '../../UI/Spinner/Spinner';\nimport Aux from '../../../hoc/Auxiliary/Auxiliary';\nimport { Link } from 'react-router-dom';\nimport Pagination from '../../UI/Pagination/Pagination';\n\nconst ITEMS_PER_PAGE = 8;\nclass Home extends Component {\n\n    componentDidMount() {\n        this.props.getAllUsers();\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.location.search !== prevProps.location.search) {\n            const prevQuery = new URLSearchParams(prevProps.location.search);\n            const query = new URLSearchParams(this.props.location.search);\n            const prevPage = prevQuery.get('page');\n            const page = query.get('page');\n            if (page !== prevPage) {\n                this.props.getAllUsers(page, ITEMS_PER_PAGE);\n            }\n        }\n    }\n\n    refreshHandler = () => {\n        this.props.getAllUsers();\n        this.props.getAllRoles();\n        this.props.getMyNotifications();\n    }\n\n    render() {\n        return (\n            <div className=\"content-wrapper\">\n                <section className=\"content-header\">\n                    <ContentHeader title=\"Quản lý người dùng\">\n                        <li className=\"breadcrumb-item\">Quản lý người dùng</li>\n                    </ContentHeader>\n                </section>\n\n                <section className=\"content\">\n                    {!this.props.loading ? (\n                        <div className=\"card\">\n                            <div className=\"card-header\">\n                                <h3 className=\"card-title\">Thông tin người dùng</h3>\n                                <div className=\"float-right mr-5\">\n                                    <button className=\"btn btn-tool\" onClick={this.refreshHandler}>\n                                        <i className=\"fas fa-sync-alt\" style={{ fontSize: '20px' }}></i>\n                                    </button>\n                                </div>\n                            </div>\n\n                            <div className=\"card-body p-0\">\n                                {this.props.users.length > 0 ? (\n                                    <Aux>\n                                        <table className=\"table table-hover projects\">\n                                            <thead>\n                                                <tr>\n                                                    <th style={{ width: '1%' }}> #</th>\n                                                    <th style={{ width: '29%' }}> Họ tên </th>\n                                                    <th style={{ width: '15%' }}> Username</th>\n                                                    <th style={{ width: '20%' }}> Email</th>\n                                                    <th style={{ width: '15%' }}> Vai trò</th>\n                                                    <th style={{ width: '20%' }} className=\"text-center\"> Xem chi tiết</th>\n                                                </tr>\n                                            </thead>\n                                            <tbody>\n                                                {this.props.users.map(user => (\n                                                    <Aux key={user._id}>\n                                                        <tr data-toggle=\"collapse\" data-target={`#aaa${user._id}`} className=\"accordion-toggle\" aria-expanded=\"true\" aria-controls=\"collapseOne\">\n                                                            <td style={{ cursor: 'pointer' }}><i className=\"fas fa-caret-down\"></i></td>\n                                                            <td><b>{user.lastname} {user.firstname}</b></td>\n                                                            <td>{user.username}</td>\n                                                            <td>{user.email}</td>\n                                                            <td>{user.role.name}</td>\n                                                            <td className=\"project-actions text-center\">\n                                                                <Link to={`/dashboard/users/${user._id}`} className=\"btn btn-outline-dark btn-sm mr-1 btn-flat\">\n                                                                    <i className=\"fas fa-eye\"></i> Xem chi tiết\n                                                                </Link>\n                                                            </td>\n                                                        </tr>\n                                                        {/* sub tab */}\n                                                        <tr>\n                                                            <td colSpan=\"8\" className=\"hiddenRow\">\n                                                                <div id={`aaa${user._id}`} className=\"accordian-body collapse\">\n                                                                    <div className=\"col-lg-12\">\n                                                                        <div className=\"row pl-5\">\n                                                                            <div className=\"col-lg-4 pt-2\">\n\n                                                                            </div>\n                                                                            <div className=\"col-lg-4 border rounded pt-2\">\n\n                                                                            </div>\n                                                                            <div className=\"col-lg-4 border rounded pt-2 pb-2\">\n\n                                                                            </div>\n                                                                        </div>\n                                                                    </div>\n                                                                </div>\n                                                            </td>\n                                                        </tr>\n                                                    </Aux>\n                                                ))}\n                                            </tbody>\n                                        </table>\n                                        <div className=\"mt-2\">\n                                            <Pagination\n                                                currentPage={this.props.currentPage}\n                                                hasNextPage={ITEMS_PER_PAGE * this.props.currentPage < this.props.total}\n                                                hasPrevPage={this.props.currentPage > 1}\n                                                nextPage={this.props.currentPage + 1}\n                                                prevPage={this.props.currentPage - 1}\n                                                lastPage={Math.ceil(this.props.total / ITEMS_PER_PAGE)}\n                                                location={this.props.location} />\n                                        </div>\n                                    </Aux>\n                                ) : <div>Không tìm thấy thông tin người dùng.</div>}\n                            </div>\n                        </div>\n                    ) : <Spinner />}\n                </section>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        users: state.user.users,\n        roles: state.user.roles,\n        loading: state.user.loading,\n        error: state.user.error,\n        total: state.user.total_items,\n        currentPage: state.user.currentPage,\n    };\n};\n\nconst mapDispatchToProps = {\n    getAllUsers,\n    getMyNotifications\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link, NavLink } from 'react-router-dom';\nimport Aux from '../../../hoc/Auxiliary/Auxiliary';\nimport { getFormattedDate } from '../../../utils/utility';\n\nclass Navigation extends Component {\n    render() {\n        return (\n            <div>\n                {/* <!-- Navbar --> */}\n                <nav className=\"main-header navbar navbar-expand navbar-dark\">\n                    {/* <!-- Left navbar links --> */}\n                    <ul className=\"navbar-nav\">\n                        <li className=\"nav-item d-none d-sm-inline-block\">\n                            <NavLink to=\"/dashboard\" className=\"nav-link\">Dashboard</NavLink>\n                        </li>\n                    </ul>\n\n                    {/* <!-- SEARCH FORM --> */}\n                    <form className=\"form-inline ml-3\">\n                        <div className=\"input-group input-group-sm\">\n                            <input className=\"form-control form-control-navbar\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\" />\n                            <div className=\"input-group-append\">\n                                <button className=\"btn btn-navbar btn-flat\" type=\"submit\">\n                                    <i className=\"fas fa-search\"></i>\n                                </button>\n                            </div>\n                        </div>\n                    </form>\n\n                    {/* <!-- Right navbar links --> */}\n                    <ul className=\"navbar-nav ml-auto\">\n                        {/* <!-- Notifications Dropdown Menu --> */}\n                        <li className=\"nav-item dropdown\">\n                            <a className=\"nav-link\" data-toggle=\"dropdown\" href=\"#a\">\n                                <i className=\"far fa-bell\"></i>\n                                <span className=\"badge badge-secondary navbar-badge font-weight-bold\" style={{ fontSize: '12px' }}>{this.props.notifications.length}</span>\n                            </a>\n                            <div className=\"dropdown-menu dropdown-menu-lg dropdown-menu-right\" style={{ minWidth: '450px' }}>\n                                <div className=\"text-center p-2\" style={{ fontSize: '14px' }}>\n                                    {this.props.notifications.length} thông báo mới\n                                </div>\n                                <div className=\"dropdown-divider\"></div>\n                                {this.props.notifications.length > 0 ? (\n                                    <Aux>\n                                        {this.props.notifications.map(noti => (\n                                            <Aux key={noti._id}>\n                                                <Link to={noti.link} className=\"dropdown-item\">\n                                                    <div className=\"media\">\n                                                        <img src={noti.senderId.avatar} alt=\"User Avatar\" className=\"img-size-50 mr-3 img-circle\" />\n                                                        <div className=\"media-body\">\n                                                            <h3 className=\"dropdown-item-title\">\n                                                                {noti.title}\n                                                                <span className=\"float-right text-sm text-danger\"><i className=\"fas fa-star\"></i></span>\n                                                            </h3>\n                                                            <p className=\"text-sm\">{noti.content}</p>\n                                                            <p className=\"text-sm text-muted\"><i className=\"far fa-clock mr-1\"></i>{getFormattedDate(noti.createdAt)}</p>\n                                                        </div>\n                                                    </div>\n                                                </Link>\n                                                <div className=\"dropdown-divider\"></div>\n                                            </Aux>\n                                        ))}\n                                    </Aux>\n                                ) : null}\n                                <Link to=\"/dashboard/notifications\" className=\"dropdown-item dropdown-footer\">Xem tất cả thông báo</Link>\n                            </div>\n                        </li>\n                        <li className=\"nav-item\">\n                            <a className=\"nav-link\" data-toggle=\"dropdown\" href=\"#a\">\n                                <i className=\"fas fa-user\"></i> {\" \"} {this.props.fullname}\n                            </a>\n                            <div className=\"dropdown-menu dropdown-menu-right mr-2\">\n                                <NavLink to=\"/dashboard/profile\" className=\"dropdown-item\">\n                                    <i className=\"far fa-id-badge\"></i> Trang cá nhân\n                                </NavLink>\n                                <div className=\"dropdown-divider\"></div>\n                                <NavLink to=\"/logout\" className=\"dropdown-item\">\n                                    <i className=\"fa fa-sign-out\"></i> Đăng xuất\n                                </NavLink>\n                            </div>\n                        </li>\n                    </ul>\n                </nav>\n                {/* <!-- /.navbar --> */}\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        isAuth: state.auth.token != null,\n        userId: state.auth.userId,\n        fullname: state.auth.fullname,\n        notifications: state.auth.notifications\n    };\n};\n\nexport default connect(mapStateToProps, null)(Navigation);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Aux from '../../../hoc/Auxiliary/Auxiliary';\nimport { Link, NavLink } from 'react-router-dom';\nimport { USER_ROLES } from '../../../utils/constant';\n\nclass Sidebar extends Component {\n\n    render() {\n        return (\n            <div>\n                {/* <!-- Main Sidebar Container --> */}\n                <aside className=\"main-sidebar sidebar-dark-primary elevation-4\">\n                    <div className=\"brand-link p-2\">\n                        <NavLink to=\"/\">\n                            <img src={require(\"../../../resources/core-imgs/logo3_admin.png\")} className=\"logo-admin\" alt=\"\" style={{ width: '50%', height: '50%' }} />\n                        </NavLink>\n                    </div>\n\n                    {/* <!-- Sidebar --> */}\n                    <div className=\"sidebar\">\n                        <div className=\"user-panel mt-3 pb-3 mb-3 d-flex\">\n                            <div className=\"image mt-2\">\n                                {this.props.changed_avatar ? (\n                                    <img src={this.props.changed_avatar} className=\"rounded-circle\" alt=\"UserImage\" />\n                                ) : (\n                                        <img src={this.props.avatar} className=\"rounded-circle\" alt=\"UserImage\" />\n                                    )}\n                            </div>\n                            <div className=\"info\">\n                                <Link to=\"#\" className=\"d-block\">{this.props.fullname}</Link>\n                                <div className=\"d-block text-success\">{this.props.roleName}</div>\n                            </div>\n                        </div>\n\n                        {/* <!-- SidebarSearch Form --> */}\n                        <div className=\"form-inline\">\n                            <div className=\"input-group\" data-widget=\"sidebar-search\">\n                                <input className=\"form-control form-control-sidebar\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\" />\n                                <div className=\"input-group-append\">\n                                    <button className=\"btn btn-sidebar btn-flat\">\n                                        <i className=\"fas fa-search fa-fw\"></i>\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n\n                        {/* <!-- Sidebar Menu --> */}\n                        <nav className=\"mt-2\">\n                            <ul className=\"nav nav-pills nav-sidebar flex-column\" data-widget=\"treeview\" role=\"menu\" data-accordion=\"false\">\n                                <li className=\"nav-item menu-open\">\n                                    <ul className=\"nav nav-treeview\">\n                                        {this.props.roleId === USER_ROLES.CHIEF_EDITOR.roleId ? (\n                                            <li className=\"nav-item\">\n                                                <NavLink to=\"/dashboard/chief-editor\" className=\"nav-link\">\n                                                    <i className=\"nav-icon fas fa-edit\"></i>\n                                                    <p>Trang tổng biên tập</p>\n                                                </NavLink>\n                                                <NavLink to=\"/dashboard/vast/statistics\" className=\"nav-link\">\n                                                    <i className=\"nav-icon fas fa-chart-bar\"></i>\n                                                    <p>Thống kê NCKH</p>\n                                                </NavLink>\n                                            </li>\n                                        ) : this.props.roleId === USER_ROLES.EDITOR.roleId ? (\n                                            <Aux>\n                                                <li className=\"nav-item\">\n                                                    <NavLink to=\"/dashboard/author\" className=\"nav-link\">\n                                                        <i className=\"nav-icon fas fa-edit\"></i>\n                                                        <p>Trang tác giả</p>\n                                                    </NavLink>\n                                                </li>\n                                                <li className=\"nav-item\">\n                                                    <NavLink to=\"/dashboard/editor\" className=\"nav-link\">\n                                                        <i className=\"nav-icon fas fa-edit\"></i>\n                                                        <p>Trang biên tập viên</p>\n                                                    </NavLink>\n                                                </li>\n                                            </Aux>\n                                        ) : this.props.roleId === USER_ROLES.REVIEWER.roleId ? (\n                                            <Aux>\n                                                <li className=\"nav-item\">\n                                                    <NavLink to=\"/dashboard/author\" className=\"nav-link\">\n                                                        <i className=\"nav-icon fas fa-edit\"></i>\n                                                        <p>Trang tác giả</p>\n                                                    </NavLink>\n                                                </li>\n                                                <li className=\"nav-item\">\n                                                    <NavLink to=\"/dashboard/reviewer\" className=\"nav-link\">\n                                                        <i className=\"nav-icon fas fa-edit\"></i>\n                                                        <p>Trang thẩm định viên</p>\n                                                    </NavLink>\n                                                </li>\n                                            </Aux>\n                                        ) : this.props.roleId === USER_ROLES.AUTHOR.roleId ? (\n                                            <li className=\"nav-item\">\n                                                <NavLink to=\"/dashboard/author\" className=\"nav-link\">\n                                                    <i className=\"nav-icon fas fa-edit\"></i>\n                                                    <p>Trang tác giả</p>\n                                                </NavLink>\n                                                <NavLink to=\"/dashboard/home\" className=\"nav-link\">\n                                                    <i className=\"nav-icon fas fa-edit\"></i>\n                                                    <p>Quản lý bài báo</p>\n                                                </NavLink>\n                                            </li>\n                                        ) : this.props.roleId === USER_ROLES.ADMIN.roleId ? (\n                                            <li className=\"nav-item\">\n                                                <NavLink to=\"/dashboard/admin\" className=\"nav-link\">\n                                                    <i className=\"nav-icon fas fa-edit\"></i>\n                                                    <p>Trang quản trị viên</p>\n                                                </NavLink>\n                                                <NavLink to=\"/dashboard/vast/statistics\" className=\"nav-link\">\n                                                    <i className=\"nav-icon fas fa-chart-bar\"></i>\n                                                    <p>Thống kê NCKH</p>\n                                                </NavLink>\n                                            </li>\n                                        ) : null}\n                                    </ul>\n                                </li>\n                            </ul>\n                        </nav>\n                        {/* <!-- /.sidebar-menu --> */}\n                    </div>\n                    {/* <!-- /.sidebar --> */}\n                </aside>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        isAuth: state.auth.token != null,\n        userId: state.auth.userId,\n        fullname: state.auth.fullname,\n        roleName: state.auth.role.name,\n        roleId: state.auth.role._id,\n        avatar: state.auth.avatar,\n        changed_avatar: state.user.avatar\n    };\n};\n\nexport default connect(mapStateToProps, null)(Sidebar);","import React from 'react';\nimport Aux from '../../../hoc/Auxiliary/Auxiliary';\n\nconst ConfirmDialog = (props) => {\n    return (\n        <Aux>\n            <div className=\"modal fade\" id=\"confirmDialogModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                <div className=\"modal-dialog\" role=\"document\">\n                    <div className=\"modal-content\">\n                        <div className=\"modal-header\">\n                            <h5 className=\"modal-title\" id=\"exampleModalLabel\">{props.title}</h5>\n                            <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                <span aria-hidden=\"true\">&times;</span>\n                            </button>\n                        </div>\n                        <div className=\"modal-body\">\n                            <div className=\"mb-2\">\n                                {props.message}\n                            </div>\n                        </div>\n                        <div className=\"modal-footer\">\n                            <button type=\"button\"\n                                className=\"btn btn-outline-primary btn-flat\"\n                                data-dismiss=\"modal\"\n                                onClick={props.confirm}>Đồng ý</button>\n                            <button\n                                type=\"button\"\n                                className=\"btn btn-outline-danger btn-flat\"\n                                data-dismiss=\"modal\">Hủy</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </Aux>\n    );\n};\n\nexport default ConfirmDialog;","export const registerInputControls = {\n    username: {\n        elementConfig: {\n            type: 'username',\n            placeholder: 'Tên đăng nhập*'\n        },\n        value: '',\n        validation: {\n            required: true,\n            minLength: 3,\n            usernameValid: true\n        },\n        valid: false,\n        touched: false\n    },\n    email: {\n        elementConfig: {\n            type: 'email',\n            placeholder: 'Địa chỉ email*'\n        },\n        value: '',\n        validation: {\n            required: true,\n            isEmail: true\n        },\n        valid: false,\n        touched: false\n    },\n    password: {\n        elementConfig: {\n            type: 'password',\n            placeholder: 'Mật khẩu*'\n        },\n        value: '',\n        validation: {\n            required: true,\n            minLength: 6\n        },\n        valid: false,\n        touched: false\n    },\n    confirm_password: {\n        elementConfig: {\n            type: 'password',\n            placeholder: 'Xác nhận mật khẩu*'\n        },\n        value: '',\n        validation: {\n            required: true,\n            minLength: 6\n        },\n        valid: false,\n        touched: false\n    },\n    firstname: {\n        elementConfig: {\n            type: 'text',\n            placeholder: 'Nhập tên của bạn*'\n        },\n        value: '',\n        validation: {\n            required: true,\n            minLength: 2\n        },\n        valid: false,\n        touched: false\n    },\n    lastname: {\n        elementConfig: {\n            type: 'text',\n            placeholder: 'Nhập họ của bạn*'\n        },\n        value: '',\n        validation: {\n            required: true,\n            minLength: 2\n        },\n        valid: false,\n        touched: false\n    },\n    affiliation: {\n        elementConfig: {\n            type: 'text',\n            placeholder: 'Địa chỉ công tác'\n        },\n        value: '',\n        validation: {\n            required: false,\n            maxLength: 255\n        },\n        valid: false,\n        touched: false\n    },\n    biography: {\n        elementConfig: {\n            type: 'text',\n            placeholder: 'Giới thiệu bản thân'\n        },\n        value: '',\n        validation: {\n            required: false,\n            maxLength: 10000\n        },\n        valid: false,\n        touched: false\n    }\n};\n\nexport const loginInputControls = {\n    username: {\n        elementConfig: {\n            type: 'username',\n            placeholder: 'Tên đăng nhập*'\n        },\n        value: '',\n        validation: {\n            required: true,\n            minLength: 3,\n            usernameValid: true\n        },\n        valid: false,\n        touched: false\n    },\n    password: {\n        elementConfig: {\n            type: 'password',\n            placeholder: 'Mật khẩu*'\n        },\n        value: '',\n        validation: {\n            required: true,\n            minLength: 6\n        },\n        valid: false,\n        touched: false\n    }\n};\n\nexport const submitArticleInputControls = {\n    categoryId: {\n        elementConfig: {\n            type: 'text',\n            placeholder: 'Chọn lĩnh vực nghiên cứu'\n        },\n        value: '',\n        validation: {\n            required: true\n        },\n        valid: true,\n        touched: false\n    },\n    typeId: {\n        elementConfig: {\n            type: 'text',\n            placeholder: 'Chọn thể loại'\n        },\n        value: '',\n        validation: {\n            required: true\n        },\n        valid: true,\n        touched: false\n    },\n    title: {\n        elementConfig: {\n            type: 'text',\n            placeholder: 'Nhập tiêu đề'\n        },\n        value: '',\n        validation: {\n            required: true,\n            minLength: 5\n        },\n        valid: false,\n        touched: false\n    },\n    abstract: {\n        elementConfig: {\n            type: 'text',\n            placeholder: 'Nhập mô tả'\n        },\n        value: '',\n        validation: {\n            required: true,\n            minLength: 5\n        },\n        valid: false,\n        touched: false\n    },\n    attachment: {\n        elementConfig: {\n            type: 'file',\n            placeholder: 'Chọn File'\n        },\n        filename: 'Chọn File',\n        file: null,\n        validation: {\n            required: true,\n            minLength: 5\n        },\n        valid: false,\n        touched: false\n    },\n};\n\n// With Published Research\nexport const publishedResearchInputControls = {\n    magazineName: {\n        elementConfig: {\n            type: 'text',\n            placeholder: 'Tên tạp chí'\n        },\n        value: '',\n        validation: {\n            required: true,\n            minLength: 5\n        },\n        valid: false,\n        touched: false\n    },\n    DOI: {\n        elementConfig: {\n            type: 'text',\n            placeholder: 'DOI'\n        },\n        value: '',\n        validation: {\n            required: true,\n            minLength: 5\n        },\n        valid: false,\n        touched: false\n    },\n    url: {\n        elementConfig: {\n            type: 'text',\n            placeholder: 'url'\n        },\n        value: '',\n        validation: {\n            required: true,\n            minLength: 5\n        },\n        valid: false,\n        touched: false\n    },\n};\n\nexport const editSubmissionInputControls = {\n    categoryId: {\n        elementConfig: {\n            type: 'text',\n            placeholder: 'Chọn thể loại'\n        },\n        value: '',\n        categoryName: '',\n        validation: {\n            required: true\n        },\n        valid: true,\n        touched: false\n    },\n    typeId: {\n        elementConfig: {\n            type: 'text',\n            placeholder: 'Chọn thể loại'\n        },\n        value: '',\n        typeName: '',\n        validation: {\n            required: true\n        },\n        valid: true,\n        touched: false\n    },\n    title: {\n        elementConfig: {\n            type: 'text',\n            placeholder: 'Nhập tiêu đề'\n        },\n        value: '',\n        validation: {\n            required: true,\n            minLength: 5\n        },\n        valid: true,\n        touched: false\n    },\n    abstract: {\n        elementConfig: {\n            type: 'text',\n            placeholder: 'Nhập mô tả'\n        },\n        value: '',\n        validation: {\n            required: true,\n            minLength: 5\n        },\n        valid: true,\n        touched: false\n    },\n    attachment: {\n        elementConfig: {\n            type: 'file',\n            placeholder: 'Chọn File'\n        },\n        filename: 'Chọn File',\n        file: null,\n        validation: {\n            required: true,\n            minLength: 5\n        },\n        valid: true,\n        touched: false\n    }\n};\n\nexport const createReviewInputControls = {\n    decisionId: {\n        elementConfig: {\n            type: 'text',\n            placeholder: 'Quyết định'\n        },\n        value: '',\n        decisionName: '',\n        validation: {\n            required: true\n        },\n        valid: true,\n        touched: false\n    },\n    content: {\n        elementConfig: {\n            type: 'text',\n            placeholder: 'Ý kiến nhận xét của bạn'\n        },\n        value: '',\n        validation: {\n            required: true,\n            minLength: 5\n        },\n        valid: false,\n        touched: false\n    },\n    attachment: {\n        elementConfig: {\n            type: 'file',\n            placeholder: 'Chọn File'\n        },\n        filename: 'Chọn File',\n        file: null,\n        validation: {\n            required: true,\n            minLength: 5\n        },\n        valid: true,\n        touched: false\n    }\n};\n\nexport const editReviewInputControls = {\n    decisionId: {\n        elementConfig: {\n            type: 'text',\n            placeholder: 'Quyết định'\n        },\n        value: '',\n        decisionName: '',\n        validation: {\n            required: true\n        },\n        valid: true,\n        touched: false\n    },\n    content: {\n        elementConfig: {\n            type: 'text',\n            placeholder: 'Ý kiến nhận xét của bạn'\n        },\n        value: '',\n        validation: {\n            required: true,\n            minLength: 5\n        },\n        valid: true,\n        touched: false\n    },\n    attachment: {\n        elementConfig: {\n            type: 'file',\n            placeholder: 'Chọn File'\n        },\n        filename: 'Chọn File',\n        file: null,\n        validation: {\n            required: true,\n            minLength: 5\n        },\n        valid: true,\n        touched: false\n    }\n};\n\nexport const acceptSubmissionInputControls = {\n    content: {\n        elementConfig: {\n            type: 'text',\n            placeholder: 'Nhận xét của bạn'\n        },\n        value: '',\n        validation: {\n            required: true,\n            minLength: 5\n        },\n        valid: false,\n        touched: false\n    }\n};\n\nexport const updateUserInforInputControls = {\n    username: {\n        elementConfig: {\n            type: 'username',\n            placeholder: 'Tên đăng nhập*'\n        },\n        value: '',\n        validation: {\n            required: true,\n            minLength: 3,\n            usernameValid: true\n        },\n        valid: true,\n        touched: false\n    },\n    email: {\n        elementConfig: {\n            type: 'email',\n            placeholder: 'Địa chỉ email*'\n        },\n        value: '',\n        validation: {\n            required: true,\n            isEmail: true\n        },\n        valid: true,\n        touched: false\n    },\n    firstname: {\n        elementConfig: {\n            type: 'text',\n            placeholder: 'Nhập tên của bạn*'\n        },\n        value: '',\n        validation: {\n            required: true,\n            minLength: 2\n        },\n        valid: true,\n        touched: false\n    },\n    lastname: {\n        elementConfig: {\n            type: 'text',\n            placeholder: 'Nhập họ của bạn*'\n        },\n        value: '',\n        validation: {\n            required: true,\n            minLength: 2\n        },\n        valid: true,\n        touched: false\n    },\n    affiliation: {\n        elementConfig: {\n            type: 'text',\n            placeholder: 'Tổ chức'\n        },\n        value: '',\n        validation: {\n            required: false,\n            maxLength: 255\n        },\n        valid: true,\n        touched: false\n    },\n    biography: {\n        elementConfig: {\n            type: 'text',\n            placeholder: 'Giới thiệu bản thân'\n        },\n        value: '',\n        validation: {\n            required: false,\n            maxLength: 10000\n        },\n        valid: true,\n        touched: false\n    }\n};\n\nexport const changePasswordInputControls = {\n    old_password: {\n        elementConfig: {\n            type: 'password',\n            placeholder: 'Mật khẩu cũ*'\n        },\n        value: '',\n        validation: {\n            required: true,\n            minLength: 6\n        },\n        valid: false,\n        touched: false\n    },\n    new_password: {\n        elementConfig: {\n            type: 'password',\n            placeholder: 'Mật khẩu mới*'\n        },\n        value: '',\n        validation: {\n            required: true,\n            minLength: 6\n        },\n        valid: false,\n        touched: false\n    },\n    confirm_password: {\n        elementConfig: {\n            type: 'password',\n            placeholder: 'Xác nhận mật khẩu*'\n        },\n        value: '',\n        validation: {\n            required: true,\n            minLength: 6\n        },\n        valid: false,\n        touched: false\n    },\n};\n\nexport const commentAndReplyInput = {\n    comment: {\n        value: '',\n        validation: {\n            required: true,\n            minLength: 10,\n        },\n        valid: false,\n        touched: false\n    },\n    reply: {\n        value: '',\n        validation: {\n            required: true,\n            minLength: 10,\n        },\n        valid: false,\n        touched: false\n    },\n    commentToReplyId: ''\n};","import { checkValidity, updateObject } from \"./utility\";\n\nexport const loginInputChangeHandler = (event, state) => {\n    let controlName = event.target.name;\n\n    const updatedControls = updateObject(state.controls, {\n        [controlName]: updateObject(state.controls[controlName], {\n            value: event.target.value,\n            valid: checkValidity(event.target.value, state.controls[controlName].validation),\n            touched: true\n        })\n    });\n\n    let formIsValid = true;\n    for (let controlName in updatedControls) {\n        formIsValid = updatedControls[controlName].valid && formIsValid;\n    }\n\n    return { updatedControls, formIsValid };\n};\n\nexport const registerInputChangeHandler = (event, state) => {\n    let controlName = event.target.name;\n    const updatedControls = updateObject(state.controls, {\n        [controlName]: updateObject(state.controls[controlName], {\n            value: event.target.value,\n            valid: checkValidity(event.target.value, state.controls[controlName].validation),\n            touched: true\n        })\n    });\n\n    let passwordEquals = true;\n    if (updatedControls['password'].value !== updatedControls['confirm_password'].value) {\n        passwordEquals = false;\n    }\n\n    let formIsValid = true;\n    for (let controlName in updatedControls) {\n        formIsValid = updatedControls[controlName].valid && formIsValid;\n    }\n\n    const eq = formIsValid && passwordEquals;\n    return { updatedControls, eq };\n};\n\n\nexport const submitArticleInputChangeHandler = (event, state) => {\n    let controlName = event.target.name;\n\n    let updatedControls = null;\n    if (controlName === 'attachment') {\n        updatedControls = updateObject(state.controls, {\n            [controlName]: updateObject(state.controls[controlName], {\n                filename: event.target.files[0].name,\n                file: event.target.files[0],\n                valid: checkValidity(event.target.value, state.controls[controlName].validation),\n                touched: true\n            })\n        });\n    } else {\n        updatedControls = updateObject(state.controls, {\n            [controlName]: updateObject(state.controls[controlName], {\n                value: event.target.value,\n                valid: checkValidity(event.target.value, state.controls[controlName].validation),\n                touched: true\n            })\n        });\n    }\n\n    let formIsValid = true;\n    for (let controlName in updatedControls) {\n        formIsValid = updatedControls[controlName].valid && formIsValid;\n    }\n\n    return { updatedControls, formIsValid };\n};\n\n// With Published Research\nexport const publishedResearchInputChangeHandler = (event, state) => {\n    let controlName = event.target.name;\n    const updatedControls = updateObject(state.controls_published, {\n        [controlName]: updateObject(state.controls_published[controlName], {\n            value: event.target.value,\n            valid: checkValidity(event.target.value, state.controls_published[controlName].validation),\n            touched: true\n        })\n    });\n\n    let formIsValid = true;\n    for (let controlName in updatedControls) {\n        formIsValid = updatedControls[controlName].valid && formIsValid;\n    }\n\n    return { updatedControls, formIsValid };\n};\n\n// Seek Published Article Update Controls\nexport const crawlPublishedArticleHandler = (publishedArticle, state) => {\n    const updatedControls = updateObject(state.controls, {\n        title: updateObject(state.controls.title, {\n            value: publishedArticle.title,\n            valid: publishedArticle.title !== '' ? true : false,\n            touched: true\n        }),\n        abstract: updateObject(state.controls.abstract, {\n            value: publishedArticle.abstract,\n            valid: publishedArticle.abstract !== '' ? true : false,\n            touched: true\n        }),\n    });\n    const updatedControls_published = updateObject(state.controls_published, {\n        magazineName: updateObject(state.controls_published.magazineName, {\n            value: publishedArticle.magazineName,\n            valid: publishedArticle.magazineName !== '' ? true : false,\n            touched: true\n        })\n    });\n\n    let formIsValid = true;\n    for (let controlName in updatedControls) {\n        formIsValid = updatedControls[controlName].valid && formIsValid;\n    }\n\n    let formIsValid_published = true;\n    for (let controlName in updatedControls_published) {\n        formIsValid = updatedControls_published[controlName].valid && formIsValid_published;\n    }\n\n    return { updatedControls, formIsValid, updatedControls_published, formIsValid_published };\n};\n\nexport const createReviewInputChangeHandler = (event, state) => {\n    let controlName = event.target.name;\n    let updatedControls = null;\n    if (controlName === 'attachment') {\n        updatedControls = updateObject(state.controls, {\n            [controlName]: updateObject(state.controls[controlName], {\n                filename: event.target.files[0].name,\n                file: event.target.files[0],\n                valid: checkValidity(event.target.value, state.controls[controlName].validation),\n                touched: true\n            })\n        });\n    } else {\n        updatedControls = updateObject(state.controls, {\n            [controlName]: updateObject(state.controls[controlName], {\n                value: event.target.value,\n                valid: checkValidity(event.target.value, state.controls[controlName].validation),\n                touched: true\n            })\n        });\n    }\n\n    let formIsValid = true;\n    for (let controlName in updatedControls) {\n        formIsValid = updatedControls[controlName].valid && formIsValid;\n    }\n\n    return { updatedControls, formIsValid };\n};\n\nexport const editReviewInnputChangeHandler = (event, state) => {\n    let controlName = event.target.name;\n    let updatedControls = null;\n    if (controlName === 'attachment') {\n        updatedControls = updateObject(state.controls_edit, {\n            [controlName]: updateObject(state.controls_edit[controlName], {\n                filename: event.target.files[0].name,\n                file: event.target.files[0],\n                valid: checkValidity(event.target.value, state.controls_edit[controlName].validation),\n                touched: true\n            })\n        });\n    } else {\n        updatedControls = updateObject(state.controls_edit, {\n            [controlName]: updateObject(state.controls_edit[controlName], {\n                value: event.target.value,\n                valid: checkValidity(event.target.value, state.controls_edit[controlName].validation),\n                touched: true\n            })\n        });\n    }\n\n    let formIsValid = true;\n    for (let controlName in updatedControls) {\n        formIsValid = updatedControls[controlName].valid && formIsValid;\n    }\n\n    return { updatedControls, formIsValid };\n};\n\nexport const acceptSubmissionInputChangeHandler = (event, state) => {\n    let controlName = event.target.name;\n    const updatedControls = updateObject(state.controls, {\n        [controlName]: updateObject(state.controls[controlName], {\n            value: event.target.value,\n            valid: checkValidity(event.target.value, state.controls[controlName].validation),\n            touched: true\n        })\n    });\n\n    let formIsValid = true;\n    for (let controlName in updatedControls) {\n        formIsValid = updatedControls[controlName].valid && formIsValid;\n    }\n\n    return { updatedControls, formIsValid };\n};\n\nexport const updateUserInforInputChangeHandler = (event, state) => {\n    let controlName = event.target.name;\n    const updatedControls = updateObject(state.controls, {\n        [controlName]: updateObject(state.controls[controlName], {\n            value: event.target.value,\n            valid: checkValidity(event.target.value, state.controls[controlName].validation),\n            touched: true\n        })\n    });\n\n    let formIsValid = true;\n    for (let controlName in updatedControls) {\n        formIsValid = updatedControls[controlName].valid && formIsValid;\n    }\n\n    return { updatedControls, formIsValid };\n};\n\nexport const changePasswordInputChangeHandler = (event, state) => {\n    let controlName = event.target.name;\n    const updatedControls = updateObject(state.controls_change_pwd, {\n        [controlName]: updateObject(state.controls_change_pwd[controlName], {\n            value: event.target.value,\n            valid: checkValidity(event.target.value, state.controls_change_pwd[controlName].validation),\n            touched: true\n        })\n    });\n\n    let passwordEquals = true;\n    if (updatedControls['new_password'].value !== updatedControls['confirm_password'].value) {\n        passwordEquals = false;\n    }\n\n    let formIsValid = true;\n    for (let controlName in updatedControls) {\n        formIsValid = updatedControls[controlName].valid && formIsValid;\n    }\n\n    const eq = formIsValid && passwordEquals;\n    return { updatedControls, eq };\n};","import React from 'react';\nimport Aux from '../../../../hoc/Auxiliary/Auxiliary';\n\nconst AddContributor = (props) => {\n    return (\n        <Aux>\n            <div className=\"modal fade\" id=\"addContributorModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                <div className=\"modal-dialog\" role=\"document\">\n                    <div className=\"modal-content\">\n                        <div className=\"modal-header\">\n                            <h5 className=\"modal-title\" id=\"exampleModalLabel\">{props.title}</h5>\n                            <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                <span aria-hidden=\"true\">&times;</span>\n                            </button>\n                        </div>\n                        <div className=\"modal-body\">\n                            <div className=\"form-group\">\n                                <label>Họ tên*</label>\n                                <input\n                                    type=\"text\"\n                                    name=\"fullname\"\n                                    className=\"form-control\"\n                                    value={props.fullname}\n                                    onChange={props.inputChange} />\n                                <label>Đơn vị công tác*</label>\n                                <input\n                                    type=\"text\"\n                                    name=\"affiliation\"\n                                    className=\"form-control\"\n                                    value={props.affiliation}\n                                    onChange={props.inputChange} />\n                            </div>\n                        </div>\n                        <div className=\"modal-footer\">\n                            <button type=\"button\"\n                                className=\"btn btn-outline-primary btn-flat\"\n                                data-dismiss=\"modal\"\n                                onClick={props.confirm}>Thêm mới</button>\n                            <button\n                                type=\"button\"\n                                className=\"btn btn-outline-danger btn-flat\"\n                                data-dismiss=\"modal\">Hủy</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </Aux>\n    );\n};\n\nexport default AddContributor;","import axios from 'axios';\nimport { getFormattedDateVAST } from '../../utils/utility';\nimport * as actionTypes from './actionTypes';\nconst ITEMS_PER_PAGE = 10;\n\n// const url = 'https://api.crossref.org/works?select=publisher,DOI,type,title,author,container-title,published-print,ISSN,subject,link&filter=from-pub-date:2020-12-01,until-pub-date:2021-01-01&query.affiliation=Vietnam%20Academy%20of%20Science%20and%20Technology&offset=1&rows=10';\n\nconst getUrl = (startDate, endDate, page, limit) => {\n    let offset = (page - 1) * limit;\n    if (offset === 0) {\n        offset = 1;\n    }\n    const affiliation = 'Vietnam Academy of Science and Technology';\n    const url = 'https://api.crossref.org/works?select=publisher,DOI,type,title,author,container-title,published-print,ISSN,subject,link&filter=from-pub-date:' + startDate + ',until-pub-date:' + endDate + '&query.affiliation=' + affiliation + '&offset=' + offset + '&rows=' + limit;\n    return url;\n}\n\nconst articlesCrawlStart = () => {\n    return {\n        type: actionTypes.ARTICLES_CRAWL_START\n    };\n};\n\nconst articlesCrawlSuccess = (data) => {\n    const affiliation = 'Vietnam Academy of Science and Technology';\n    const allArticles = data.message.items.filter(item => {\n        let isValid = false;\n        if (item.author) {\n            item.author.forEach(author => {\n                const dataOrg = author.affiliation.length > 0 ? author.affiliation[0].name.split(/,(.+)/) : '';\n                const org = dataOrg[1] ? dataOrg[1] : ' ';\n                if (org.includes(affiliation)) {\n                    isValid = true;\n                }\n            })\n        }\n        return isValid === true;\n    });\n\n    const skip = 0;\n    const limit = ITEMS_PER_PAGE;\n    const articles = allArticles.slice(skip, limit);\n\n    return {\n        type: actionTypes.ARTICLES_CRAWL_SUCCESS,\n        allArticles: allArticles,\n        articles: articles,\n        total: allArticles.length,\n        currentPage: 1,\n    }\n};\n\nconst getPublishedArticleByDOISuccess = (data) => {\n    const publishedArticle = {\n        magazineName: data.message.publisher || \"\",\n        title: data.message.title[0] || \"\",\n        abstract: data.message.abstract || \"\",\n        // link: data.message.link[0] || \"\"\n    };\n    return {\n        type: actionTypes.GET_PUBLISHED_ARTICLE_BY_DOI_SUCCESS,\n        publishedArticle: publishedArticle\n    }\n};\n\nconst articlesCrawlError = (error) => {\n    return {\n        type: actionTypes.ARTICLES_CRAWL_ERROR,\n        error: error,\n        publishedArticle: null\n    }\n};\n\nexport const vastArticlesCrawl = (startDate, endDate, page, limit) => (dispatch) => {\n    const start = getFormattedDateVAST(startDate);\n    const end = getFormattedDateVAST(endDate);\n    dispatch(articlesCrawlStart());\n    const url = getUrl(start, end, page, limit);\n    axios.get(url)\n        .then(res => {\n            dispatch(articlesCrawlSuccess(res.data));\n        })\n        .catch(err => {\n            dispatch(articlesCrawlError(err.message));\n        });\n};\n\nexport const junmpToPage = (page) => (dispatch) => {\n    dispatch({\n        type: actionTypes.JUMP_TO_PAGE_SUCCESS,\n        currentPage: page\n    });\n}\n\nexport const getPublishedArticle = (DOI) => (dispatch) => {\n    dispatch(articlesCrawlStart());\n    axios.get(\"https://api.crossref.org/works/\" + DOI)\n        .then(res => {\n            dispatch(getPublishedArticleByDOISuccess(res.data));\n        })\n        .catch(err => {\n            dispatch(articlesCrawlError(\"Không tìm thấy bài báo ứng với DOI này!\"));\n        });\n};","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Aux from '../../../hoc/Auxiliary/Auxiliary';\nimport ContentHeader from '../Shared/ContentHeader';\nimport { toast } from 'react-toastify';\nimport ConfirmDialog from '../../UI/ConfirmDialog/ConfirmDialog';\nimport { connect } from 'react-redux';\nimport { updateObject } from '../../../utils/utility';\nimport { getCategories, getSubmissionTypes, createSubmission, resetCreateSubmissionState } from '../../../store/actions/submissionActions';\nimport { submitArticleInputControls, publishedResearchInputControls } from '../../../utils/input-controls';\nimport { submitArticleInputChangeHandler, publishedResearchInputChangeHandler, crawlPublishedArticleHandler } from '../../../utils/input-change';\nimport AddContributor from './AddContributor/AddContributor';\nimport { SUBMISSION_TYPES } from '../../../utils/constant';\nimport { getPublishedArticle } from '../../../store/actions/vastActions';\nclass SubmitArticle extends Component {\n\n    state = {\n        step1Active: true,\n        step2Active: false,\n        step3Active: false,\n        step4Active: false,\n        requirement1: false,\n        requirement2: false,\n        requirement3: false,\n        requirement4: false,\n        controls: submitArticleInputControls,\n        controls_published: publishedResearchInputControls,\n        formIsValid: false,\n        formIsValid_published: false,\n        metadata: [],\n        contributors: [],\n        fullname: '',\n        affiliation: '',\n        submissionType: 'Peer-review Research'\n    }\n\n    componentDidMount() {\n        this.props.getCategories();\n        this.props.getSubmissionTypes();\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        if (!this.props.crawlError && nextProps.crawlError) {\n            toast.error(nextProps.crawlError);\n        }\n        if (nextProps.publishedArticle && !nextProps.crawlError) {\n            const { updatedControls, formIsValid,\n                updatedControls_published, formIsValid_published } = crawlPublishedArticleHandler(nextProps.publishedArticle, this.state);\n            this.setState(updateObject(this.state, {\n                controls: updatedControls,\n                controls_published: updatedControls_published,\n                formIsValid: formIsValid,\n                formIsValid_published: formIsValid_published\n            }));\n        }\n        if (nextProps.error) {\n            this.props.resetCreateSubmissionState();\n        }\n        if (nextProps.isSubmissionCreated && !nextProps.error) {\n            this.props.resetCreateSubmissionState();\n            toast.success(\"Đăng tải bài báo lên hệ thống thành công!\");\n            this.setState(updateObject(this.state, {\n                step1Active: false, step2Active: false, step3Active: false, step4Active: true\n            }));\n        }\n    }\n\n    inputChangeHandler = (event) => {\n        event.preventDefault();\n        let submissionType = this.state.submissionType;\n        if (event.target.name === 'typeId') {\n            submissionType = event.target.selectedOptions[0].text;\n        }\n        const { updatedControls, formIsValid } = submitArticleInputChangeHandler(event, this.state);\n        this.setState({\n            controls: updatedControls,\n            formIsValid: formIsValid,\n            submissionType: submissionType\n        });\n    };\n\n    inputChangeHandler_published = (event) => {\n        event.preventDefault();\n        const { updatedControls, formIsValid } = publishedResearchInputChangeHandler(event, this.state);\n        this.setState({\n            controls_published: updatedControls,\n            formIsValid_published: formIsValid,\n        });\n    };\n\n    metaDataChangeHandler = (event) => {\n        event.preventDefault();\n        let controlName = event.target.name;\n        if (controlName === 'metadata') {\n            let newState = updateObject(this.state, {\n                metadata: event.target.files\n            });\n            this.setState(newState);\n        }\n    }\n\n    contributorInputChangeHandler = (event) => {\n        event.preventDefault();\n        let controlName = event.target.name;\n        if (controlName === 'fullname') {\n            this.setState(updateObject(this.state, { fullname: event.target.value }));\n        } else {\n            this.setState(updateObject(this.state, { affiliation: event.target.value }));\n        }\n    }\n\n    addContributorHandler = () => {\n        const contributor = {\n            fullname: this.state.fullname,\n            affiliation: this.state.affiliation\n        };\n        const contributors = this.state.contributors;\n        contributors.push(contributor);\n        this.setState(updateObject(this.state, {\n            contributors: contributors,\n            fullname: '',\n            affiliation: ''\n        }));\n    }\n\n    removeContributorHandler = (idx) => {\n        const contributors = this.state.contributors;\n        contributors.splice(idx, 1);\n        this.setState(updateObject(this.state, { contributors: contributors }));\n    }\n\n    step1ActiveHandler = (event) => {\n        event.preventDefault();\n        let newState = updateObject(this.state, {\n            step1Active: true, step2Active: false, step3Active: false, step4Active: false,\n        });\n        this.setState(newState);\n    }\n\n    step2ActiveHandler = () => {\n        let newState = updateObject(this.state, {\n            step1Active: false, step2Active: true, step3Active: false, step4Active: false,\n        });\n        this.setState(newState);\n    }\n\n    step3ActiveHandler = () => {\n        let newState = updateObject(this.state, {\n            step1Active: false, step2Active: false, step3Active: true, step4Active: false,\n        });\n        this.setState(newState);\n    }\n\n    confirmRequirementHandler = (event) => {\n        let name = event.target.name;\n        if (event.target.checked) {\n            this.setState(updateObject(this.state, { [name]: true }));\n        } else {\n            this.setState(updateObject(this.state, { [name]: false }));\n        }\n    }\n\n    confirmSubmitHandler = () => {\n        const formData = new FormData();\n        formData.append('title', this.state.controls.title.value);\n        formData.append('abstract', this.state.controls.abstract.value);\n        formData.append('attachment', this.state.controls.attachment.file);\n        formData.append('categoryId', this.state.controls.categoryId.value);\n        formData.append('typeId', this.state.controls.typeId.value);\n        // with published research\n        if (this.state.submissionType === SUBMISSION_TYPES.PUBLISHED_RESEARCH.name) {\n            formData.append('magazineName', this.state.controls_published.magazineName.value);\n            formData.append('DOI', this.state.controls_published.DOI.value);\n        }\n        // metadata\n        const data = JSON.stringify({ data: this.state.contributors });\n        formData.append('contributors', data);\n        for (const file of this.state.metadata) {\n            formData.append('metadata', file);\n        }\n        this.props.createSubmission(formData);\n    }\n\n    fetchPublishedArticle = () => {\n        const DOI = this.state.controls_published.DOI.value;\n        this.props.getPublishedArticle(DOI);\n    }\n\n    render() {\n        const submitArticle = (\n            <div className=\"content-wrapper\">\n                <section className=\"content-header\">\n                    <ContentHeader title=\"Đăng tải bài báo lên hệ thống\">\n                        <li className=\"breadcrumb-item active\">Đăng tải bài báo</li>\n                    </ContentHeader>\n                </section>\n                <section className=\"content\">\n                    <div className=\"container-fluid\">\n                        <div className=\"col-md-12\">\n                            <div className=\"card card-dark card-tabs\">\n                                <div className=\"card-header p-0 pt-1\">\n                                    <ul className=\"nav nav-tabs\" id=\"custom-tabs-one-tab\" role=\"tablist\">\n                                        <li className=\"nav-item\">\n                                            <div className={this.state.step1Active ? 'nav-link active' : 'nav-link'}>\n                                                1. Chọn loại bài báo\n                                            </div>\n                                        </li>\n                                        <li className=\"nav-item\">\n                                            <div className={this.state.step2Active ? 'nav-link active' : 'nav-link'}>\n                                                2. Thông tin chi tiết\n                                            </div>\n                                        </li>\n                                        <li className=\"nav-item\">\n                                            <div className={this.state.step3Active ? 'nav-link active' : 'nav-link'}>\n                                                3. Metadata\n                                            </div>\n                                        </li>\n                                        <li className=\"nav-item\">\n                                            <div className={this.state.step4Active ? 'nav-link active' : 'nav-link'}>\n                                                4. Hoàn thành\n                                            </div>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div className=\"card-body\">\n                                    <div className=\"tab-content\" id=\"custom-tabs-one-tabContent\">\n                                        {/* ------------------Tab 1----------------- */}\n                                        <div className={this.state.step1Active ? 'tab-pane show active' : 'tab-pane'}>\n                                            {this.props.types.length > 0 && (\n                                                <div className=\"form-group\">\n                                                    <h6>Loại bài báo*</h6>\n                                                    <select\n                                                        name=\"typeId\"\n                                                        className=\"custom-select form-control\"\n                                                        onChange={this.inputChangeHandler}\n                                                    >\n                                                        {this.props.types.map(type => (\n                                                            <option key={type._id} value={type._id}>\n                                                                {type.name}\n                                                            </option>\n                                                        ))}\n                                                    </select>\n                                                </div>\n                                            )}\n\n                                            {this.state.submissionType === SUBMISSION_TYPES.PEER_REVIEW_RESEARCH.name ? (\n                                                <Aux>\n                                                    <h6>Yêu cầu chung</h6>\n                                                    <div className=\"text-secondary mb-1\">Bạn cần đọc và chấp nhận các yêu cầu dưới đây\n                                                    trước khi tiến hành đăng tải bài báo lên hệ thống.\n                                                    </div>\n                                                    <div className=\"form-check pt-1 pb-1\">\n                                                        <input className=\"form-check-input\" type=\"checkbox\" name=\"requirement1\"\n                                                            checked={this.state.requirement1} onChange={event => this.confirmRequirementHandler(event)} />\n                                                        <label className=\"form-check-label\">\n                                                            Bài báo chưa từng được xuất bản trên hệ thống, cũng như trên các tạp chí khác.\n                                                        </label>\n                                                    </div>\n                                                    <div className=\"form-check pt-1 pb-1\">\n                                                        <input className=\"form-check-input\" type=\"checkbox\" name=\"requirement2\"\n                                                            checked={this.state.requirement2} onChange={event => this.confirmRequirementHandler(event)} />\n                                                        <label className=\"form-check-label\">\n                                                            Các tài liệu liên quan như file đính kèm bài báo phải ở dạng doc, docx hoặc pdf.\n                                                        </label>\n                                                    </div>\n                                                    <div className=\"form-check pt-1 pb-1\">\n                                                        <input className=\"form-check-input\" type=\"checkbox\" name=\"requirement3\"\n                                                            checked={this.state.requirement3} onChange={event => this.confirmRequirementHandler(event)} />\n                                                        <label className=\"form-check-label\">\n                                                            Văn bản có khoảng cách chữ bằng một dấu cách; font chữ 12;\n                                                            sử dụng chữ nghiêng thay vì gạch chân (ngoại trừ các địa chỉ URL);\n                                                            và tất cả các hình minh họa, mô phỏng và bảng biểu được đặt trong văn bản\n                                                            ở những vị trí thích hợp, thay vì ở cuối.\n                                                        </label>\n                                                    </div>\n                                                    <div className=\"form-check pt-1 pb-1\">\n                                                        <input className=\"form-check-input\" type=\"checkbox\" name=\"requirement4\"\n                                                            checked={this.state.requirement4} onChange={event => this.confirmRequirementHandler(event)} />\n                                                        <label className=\"form-check-label\">\n                                                            Văn bản tuân thủ các yêu cầu về  văn phong của một bài báo khoa học.\n                                                        </label>\n                                                    </div>\n                                                    <button\n                                                        className=\"btn btn-outline-primary mt-2 btn-flat\"\n                                                        disabled={!(this.state.requirement1 && this.state.requirement2 && this.state.requirement3 && this.state.requirement4)}\n                                                        onClick={this.step2ActiveHandler}>Tiếp tục</button>\n                                                </Aux>\n                                            ) : (\n                                                    <button className=\"btn btn-outline-primary mt-2 btn-flat\"\n                                                        onClick={this.step2ActiveHandler}>Tiếp tục</button>\n                                                )}\n                                        </div>\n                                        {/* ------------------Tab 2----------------- */}\n                                        <div className={this.state.step2Active ? 'tab-pane show active' : 'tab-pane'}>\n                                            <div className=\"card-body\">\n\n                                                {/* With Published Research */}\n                                                {this.state.submissionType === SUBMISSION_TYPES.PUBLISHED_RESEARCH.name && (\n                                                    <Aux>\n                                                        <div className=\"form-group\">\n                                                            <label>DOI*</label>\n                                                            <input\n                                                                type=\"text\"\n                                                                name=\"DOI\"\n                                                                className={!this.state.controls_published.DOI.valid && this.state.controls_published.DOI.touched ? \"form-control-error\" : \"form-control\"}\n                                                                placeholder={this.state.controls_published.DOI.elementConfig.placeholder}\n                                                                defaultValue={this.state.controls_published.DOI.value}\n                                                                onChange={this.inputChangeHandler_published} />\n                                                            {!this.state.controls_published.DOI.valid && this.state.controls_published.DOI.touched ?\n                                                                <p className=\"form-control-error-msg\">Giá trị DOI không hợp lệ!</p> : null}\n\n                                                            <div className=\"row pl-2\">\n                                                                <button\n                                                                    className=\"btn btn-dark btn-flat btn-sm\"\n                                                                    disabled={this.state.controls_published.DOI.value === ''}\n                                                                    onClick={this.fetchPublishedArticle}>Kiểm tra</button>\n                                                                {this.props.crawlLoading ? (\n                                                                    <div className=\"spinner-border text-primary ml-2 mt-1\" role=\"status\" style={{ width: '25px', height: '25px' }}></div>\n                                                                ) : null}\n                                                            </div>\n                                                        </div>\n\n\n\n                                                        <div className=\"form-group\">\n                                                            <label>Tên tạp chí*</label>\n                                                            <input\n                                                                type=\"text\"\n                                                                name=\"magazineName\"\n                                                                className={!this.state.controls_published.magazineName.valid && this.state.controls_published.magazineName.touched ? \"form-control-error\" : \"form-control\"}\n                                                                placeholder={this.state.controls_published.magazineName.elementConfig.placeholder}\n                                                                defaultValue={this.state.controls_published.magazineName.value}\n                                                                onChange={this.inputChangeHandler_published} />\n                                                            {!this.state.controls_published.magazineName.valid && this.state.controls_published.magazineName.touched ?\n                                                                <p className=\"form-control-error-msg\">Tên tạp chí không hợp lệ!</p> : null}\n                                                        </div>\n                                                    </Aux>\n                                                )}\n\n                                                {this.props.categories.length > 0 ? (\n                                                    <div className=\"form-group\">\n                                                        <label>Lĩnh vực nghiên cứu*</label>\n                                                        <select\n                                                            name=\"categoryId\"\n                                                            className=\"custom-select form-control\"\n                                                            onChange={this.inputChangeHandler}\n                                                        >\n                                                            {this.props.categories.map(category => (\n                                                                <option key={category._id} value={category._id}>\n                                                                    {category.name}\n                                                                </option>\n                                                            ))}\n                                                        </select>\n                                                    </div>\n                                                ) : null}\n\n                                                <div className=\"form-group\">\n                                                    <label>Tiêu để*</label>\n                                                    <input\n                                                        type=\"text\"\n                                                        name=\"title\"\n                                                        className={!this.state.controls.title.valid && this.state.controls.title.touched ? \"form-control-error\" : \"form-control\"}\n                                                        placeholder={this.state.controls.title.elementConfig.placeholder}\n                                                        defaultValue={this.state.controls.title.value}\n                                                        onChange={this.inputChangeHandler} />\n                                                    {!this.state.controls.title.valid && this.state.controls.title.touched ?\n                                                        <p className=\"form-control-error-msg\">Tiêu đề không hợp lệ!</p> : null}\n                                                </div>\n                                                <div className=\"form-group\">\n                                                    <label>Mô tả*</label>\n                                                    <textarea\n                                                        type=\"text\"\n                                                        name=\"abstract\"\n                                                        className={!this.state.controls.abstract.valid && this.state.controls.abstract.touched ? \"form-control-error\" : \"form-control\"}\n                                                        placeholder={this.state.controls.abstract.elementConfig.placeholder}\n                                                        defaultValue={this.state.controls.abstract.value}\n                                                        onChange={this.inputChangeHandler} />\n                                                    {!this.state.controls.abstract.valid && this.state.controls.abstract.touched ?\n                                                        <p className=\"form-control-error-msg\">Mô tả không hợp lệ!</p> : null}\n                                                </div>\n                                                <div className=\"form-group\">\n                                                    <label>File bài báo*</label>\n                                                    <div className=\"input-group\">\n                                                        <div className=\"custom-file\">\n                                                            <input\n                                                                type=\"file\"\n                                                                name=\"attachment\"\n                                                                className=\"custom-file-input\"\n                                                                onChange={this.inputChangeHandler} />\n                                                            {!this.state.controls.attachment.valid && this.state.controls.attachment.touched ?\n                                                                <p className=\"form-control-error-msg\">File tải lên không hợp lệ!</p> : null}\n                                                            <label className=\"custom-file-label\" htmlFor=\"coverImage\">{this.state.controls.attachment.filename}</label>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n\n                                            <div className=\"card-footer\">\n                                                <button\n                                                    type=\"button\"\n                                                    className=\"btn btn-outline-primary btn-flat\"\n                                                    disabled={\n                                                        this.state.submissionType === SUBMISSION_TYPES.PUBLISHED_RESEARCH.name ?\n                                                            (!(this.state.formIsValid && this.state.formIsValid_published)) : (!this.state.formIsValid)}\n                                                    onClick={this.step3ActiveHandler}>Tiếp tục</button>\n                                                <button\n                                                    className=\"btn btn-outline-danger ml-2 btn-flat\"\n                                                    onClick={this.step1ActiveHandler}>Quay lại</button>\n                                            </div>\n                                        </div>\n                                        {/* ------------------Tab 3----------------- */}\n                                        <div className={this.state.step3Active ? 'tab-pane show active' : 'tab-pane'}>\n                                            <div className=\"card-body\">\n                                                <div className=\"form-group\">\n                                                    <label>Tài liệu kèm theo</label>\n                                                    <div className=\"input-group\">\n                                                        <div className=\"custom-file\">\n                                                            <input\n                                                                type=\"file\"\n                                                                name=\"metadata\"\n                                                                multiple\n                                                                className=\"custom-file-input\"\n                                                                onChange={this.metaDataChangeHandler} />\n                                                            <label className=\"custom-file-label\" htmlFor=\"coverImage\">{this.state.metadata.length} file đã chọn</label>\n                                                        </div>\n                                                    </div>\n                                                    <div>\n                                                        {this.state.metadata.length > 0 && (\n                                                            <Aux>\n                                                                {Array.from(this.state.metadata).map(file => {\n                                                                    const iden = Math.floor(Math.random() * 111111);\n                                                                    return (\n                                                                        <div className=\"ml-2\" key={iden}>\n                                                                            <i className=\"fa fa-paperclip fa-lg\"></i> {\" \"}\n                                                                            <Link to=\"#\" className=\"text-primary\">{file.name}</Link>\n                                                                        </div>\n                                                                    );\n                                                                })}\n                                                            </Aux>\n                                                        )}\n                                                    </div>\n                                                    {this.props.fileUploading ? (\n                                                        <div className=\"input-group\">\n                                                            <div className=\"spinner-border text-primary mt-2\" role=\"status\" style={{ width: '25px', height: '25px' }}></div>\n                                                            <div className=\"mt-2 ml-2 text-secondary\" style={{ fontStyle: 'italic' }}>Đang tải lên...</div>\n                                                        </div>\n                                                    ) : null}\n                                                </div>\n                                                <div className=\"form-group\">\n                                                    <label>Đồng tác giả ({this.state.contributors.length})</label><br />\n                                                    <button\n                                                        type=\"button\"\n                                                        className=\"btn btn-outline-dark btn-flat\"\n                                                        data-toggle=\"modal\"\n                                                        data-target=\"#addContributorModal\">\n                                                        <i className=\"fas fa-plus\"></i>{\" \"}Thêm mới\n                                                    </button>\n                                                </div>\n                                                <div>\n                                                    {this.state.contributors.length > 0 && (\n                                                        <Aux>\n                                                            {this.state.contributors.map((contributor, idx) => {\n                                                                const iden = idx;\n                                                                return (\n                                                                    <div className=\"ml-2\" key={iden}>\n                                                                        <i className=\"fas fa-user\"></i> {\" \"}\n                                                                        <Link to=\"#\" className=\"text-primary\">{contributor.fullname}</Link>{\"\"}\n                                                                        - <b>{contributor.affiliation}</b>\n                                                                        <i className=\"far fa-trash-alt text-danger pl-3\"\n                                                                            style={{ cursor: 'pointer' }}\n                                                                            onClick={() => this.removeContributorHandler(iden)}></i>\n                                                                    </div>\n                                                                );\n                                                            })}\n                                                        </Aux>\n                                                    )}\n                                                </div>\n                                            </div>\n\n                                            <div className=\"card-footer\">\n                                                <button\n                                                    type=\"button\"\n                                                    className=\"btn btn-outline-primary btn-flat\"\n                                                    data-toggle=\"modal\"\n                                                    data-target=\"#confirmDialogModal\">Xác nhận</button>\n                                                <button\n                                                    className=\"btn btn-outline-danger ml-2 btn-flat\"\n                                                    onClick={this.step2ActiveHandler}>Quay lại</button>\n                                            </div>\n                                        </div>\n                                        {/* ------------------Tab 4----------------- */}\n                                        <div className={this.state.step4Active ? 'tab-pane show active' : 'tab-pane'}>\n                                            <h4>Đăng tải bài báo lên hệ thống thành công.</h4>\n                                            <div className=\"ml-2\">Cảm ơn bạn đã đăng tải bài báo lên hệ thống. Chúng tôi đã\n                                            tiếp nhận và sẽ tiến hành thẩm định bài báo của bạn trước khi quyết định đăng tải.</div>\n                                            <div className=\"ml-2 mt-2\">Trong quá trình thẩm định, bạn vui lòng kiểm tra email và thông\n                                            báo trên hệ thống thường xuyên để thuận tiện trong việc trao đổi với ban biên tập các vấn đề liên quan.</div>\n                                            <h4 className=\"mt-3\">Bây giờ, bạn có thể:</h4>\n                                            {this.props.submission ? (\n                                                <Aux>\n                                                    <div className=\"ml-2\">\n                                                        <i className=\"fa fa-eye\"></i>\n                                                        {\" \"}<Link to={`/dashboard/submission/${this.props.submission._id}`} className=\"text-primary\">\n                                                            Xem chi tiết bài báo.\n                                                    </Link>.\n                                                    </div>\n                                                    <div className=\"ml-2\">\n                                                        <i className=\"fa fa-edit\"></i>\n                                                        {\" \"}<Link to={`/dashboard/edit-submission/${this.props.submission._id}`} className=\"text-primary\">Chỉnh sửa bài báo</Link> (Trước khi bước vào pha Thẩm định).\n                                                    </div>\n                                                </Aux>\n                                            ) : null}\n                                            <div className=\"ml-2\">\n                                                <i className=\"fa fa-home\"></i>\n                                                {\" \"} <Link to=\"/dashboard\" className=\"text-primary\">Trở về trang chủ.</Link>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n            </div>\n        );\n\n        return (\n            <Aux>\n                {submitArticle}\n                <ConfirmDialog\n                    title=\"Xác nhận\"\n                    message=\"Đăng tải bài báo lên hệ thống?\"\n                    confirm={this.confirmSubmitHandler} />\n\n                <AddContributor\n                    title=\"Thêm đồng tác giả\"\n                    fullname={this.state.fullname}\n                    affiliation={this.state.affiliation}\n                    inputChange={this.contributorInputChangeHandler}\n                    confirm={this.addContributorHandler} />\n                {this.props.error ? toast.error('Error: ' + this.props.error) : null}\n            </Aux>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        categories: state.submission.categories,\n        types: state.submission.types,\n        isSubmissionCreated: state.submission.isSubmissionCreated,\n        submission: state.submission.submission,\n        fileUploading: state.submission.fileUploading,\n        error: state.submission.error,\n        crawlError: state.vast.error,\n        crawlLoading: state.vast.loading,\n        publishedArticle: state.vast.publishedArticle\n    };\n};\n\nconst mapDispatchToProps = {\n    getCategories,\n    getSubmissionTypes,\n    createSubmission,\n    resetCreateSubmissionState,\n    getPublishedArticle\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SubmitArticle);","import React, { Component } from 'react';\nimport Aux from '../../../hoc/Auxiliary/Auxiliary';\nimport ConfirmDialog from '../../UI/ConfirmDialog/ConfirmDialog';\nimport Spinner from '../../UI/Spinner/Spinner';\nimport { connect } from 'react-redux';\nimport { updateObject } from '../../../utils/utility';\nimport { getCategories, getSubmissionTypes, getSubmissionDetail, editSubmission, resetEditSubmissionState } from '../../../store/actions/submissionActions';\nimport { Link } from 'react-router-dom';\nimport ContentHeader from '../Shared/ContentHeader';\nimport { toast } from 'react-toastify';\nimport { editSubmissionInputControls, publishedResearchInputControls } from '../../../utils/input-controls';\nimport { submitArticleInputChangeHandler, publishedResearchInputChangeHandler } from '../../../utils/input-change';\nimport AddContributor from './AddContributor/AddContributor';\nimport { SUBMISSION_TYPES } from '../../../utils/constant';\n\nclass EditSubmission extends Component {\n\n    state = {\n        step1Active: true,\n        step2Active: false,\n        step3Active: false,\n        controls: editSubmissionInputControls,\n        controls_published: publishedResearchInputControls,\n        formIsValid: true,\n        formIsValid_published: false,\n        oldMetadata: [],\n        metadata: [],\n        contributors: [],\n        fullname: '',\n        affiliation: '',\n        submissionType: 'Peer-review Research'\n    }\n\n    componentDidMount() {\n        this.props.getCategories();\n        this.props.getSubmissionTypes();\n        if (this.props.match.params.submissionId) {\n            this.props.getSubmissionDetail(this.props.match.params.submissionId);\n        }\n    }\n\n    initControlValues = (submission) => {\n        const updatedControls = updateObject(this.state.controls, {\n            categoryId: updateObject(this.state.controls.categoryId, { value: submission.categoryId._id, categoryName: submission.categoryId.name }),\n            typeId: updateObject(this.state.controls.typeId, { value: submission.typeId._id, typeName: submission.typeId.name }),\n            title: updateObject(this.state.controls.title, { value: submission.title }),\n            abstract: updateObject(this.state.controls.abstract, { value: submission.abstract }),\n            attachment: updateObject(this.state.controls.attachment, { filename: submission.attachmentFile })\n        });\n        const oldMetadata = submission.metadata;\n        const contributors = submission.contributors;\n        this.setState(updateObject(this.state, {\n            controls: updatedControls,\n            oldMetadata: oldMetadata,\n            contributors: contributors\n        }));\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        if (nextProps.error) {\n            this.props.resetEditSubmissionState();\n        }\n        if (nextProps.submission && nextProps.submission !== this.props.submission) {\n            this.initControlValues(nextProps.submission);\n        }\n        if (nextProps.isSubmissionEdited) {\n            this.props.resetEditSubmissionState();\n            toast.success(\"Chỉnh sửa thông tin bài báo thành công!\");\n            this.setState(updateObject(this.state, {\n                step1Active: false, step2Active: false, step3Active: true,\n            }));\n        }\n    }\n\n    inputChangeHandler = (event) => {\n        event.preventDefault();\n        let submissionType = this.state.submissionType;\n        if (event.target.name === 'typeId') {\n            submissionType = event.target.selectedOptions[0].text;\n        }\n        const { updatedControls, formIsValid } = submitArticleInputChangeHandler(event, this.state);\n        this.setState({\n            controls: updatedControls,\n            formIsValid: formIsValid,\n            submissionType: submissionType\n        });\n    };\n\n    inputChangeHandler_published = (event) => {\n        event.preventDefault();\n        const { updatedControls, formIsValid } = publishedResearchInputChangeHandler(event, this.state);\n        this.setState({\n            controls_published: updatedControls,\n            formIsValid_published: formIsValid,\n        });\n    };\n\n    metaDataChangeHandler = (event) => {\n        event.preventDefault();\n        let controlName = event.target.name;\n        if (controlName === 'metadata') {\n            let newState = updateObject(this.state, {\n                metadata: event.target.files\n            });\n            this.setState(newState);\n        }\n    }\n\n    contributorInputChangeHandler = (event) => {\n        event.preventDefault();\n        let controlName = event.target.name;\n        if (controlName === 'fullname') {\n            this.setState(updateObject(this.state, { fullname: event.target.value }));\n        } else {\n            this.setState(updateObject(this.state, { affiliation: event.target.value }));\n        }\n    }\n\n    addContributorHandler = () => {\n        const contributor = {\n            fullname: this.state.fullname,\n            affiliation: this.state.affiliation\n        };\n        const contributors = this.state.contributors;\n        contributors.push(contributor);\n        this.setState(updateObject(this.state, {\n            contributors: contributors,\n            fullname: '',\n            affiliation: ''\n        }));\n    }\n\n    removeContributorHandler = (idx) => {\n        const contributors = this.state.contributors;\n        contributors.splice(idx, 1);\n        this.setState(updateObject(this.state, { contributors: contributors }));\n    }\n\n    step1ActiveHandler = (event) => {\n        event.preventDefault();\n        let newState = updateObject(this.state, {\n            step1Active: true, step2Active: false, step3Active: false,\n        });\n        this.setState(newState);\n    }\n\n    step2ActiveHandler = () => {\n        let newState = updateObject(this.state, {\n            step1Active: false, step2Active: true, step3Active: false,\n        });\n        this.setState(newState);\n    }\n\n    confirmSubmitHandler = () => {\n        const formData = new FormData();\n        formData.append('title', this.state.controls.title.value);\n        formData.append('abstract', this.state.controls.abstract.value);\n        formData.append('attachment', this.state.controls.attachment.file);\n        formData.append('categoryId', this.state.controls.categoryId.value);\n        formData.append('typeId', this.state.controls.typeId.value);\n        // with published research\n        if (this.state.submissionType === SUBMISSION_TYPES.PUBLISHED_RESEARCH.name) {\n            formData.append('magazineName', this.state.controls_published.magazineName.value);\n            formData.append('DOI', this.state.controls_published.DOI.value);\n        }\n        // metadata\n        const data = JSON.stringify({ data: this.state.contributors });\n        formData.append('contributors', data);\n        for (const file of this.state.metadata) {\n            formData.append('metadata', file);\n        }\n        this.props.editSubmission(this.props.submission._id, formData);\n    }\n\n    cancelHandler = () => {\n        this.props.resetEditSubmissionState();\n        this.props.history.push('/dashboard');\n    }\n\n    render() {\n        const editArticle = (\n            <div className=\"content-wrapper\">\n                <section className=\"content-header\">\n                    <ContentHeader title=\"Chỉnh sửa bài báo\" />\n                </section>\n                <section className=\"content\">\n                    <div className=\"container-fluid\">\n                        <div className=\"col-md-12\">\n                            {!this.props.loading ? (\n                                <div className=\"card card-dark card-tabs\">\n                                    <div className=\"card-header p-0 pt-1\">\n                                        <ul className=\"nav nav-tabs\" id=\"custom-tabs-one-tab\" role=\"tablist\">\n                                            <li className=\"nav-item\">\n                                                <div className={this.state.step1Active ? 'nav-link active' : 'nav-link'}>\n                                                    1. Thông tin chi tiết\n                                            </div>\n                                            </li>\n                                            <li className=\"nav-item\">\n                                                <div className={this.state.step2Active ? 'nav-link active' : 'nav-link'}>\n                                                    2. Metadata\n                                            </div>\n                                            </li>\n                                            <li className=\"nav-item\">\n                                                <div className={this.state.step3Active ? 'nav-link active' : 'nav-link'}>\n                                                    3. Hoàn thành\n                                            </div>\n                                            </li>\n                                        </ul>\n                                    </div>\n                                    <div className=\"card-body\">\n                                        <div className=\"tab-content\" id=\"custom-tabs-one-tabContent\">\n                                            {/* ------------------Tab 1----------------- */}\n                                            <div className={this.state.step1Active ? 'tab-pane show active' : 'tab-pane'}>\n                                                <div className=\"card-body\">\n                                                    {this.props.types.length > 0 ? (\n                                                        <div className=\"form-group\">\n                                                            <label>Loại bài báo*</label>\n                                                            <select\n                                                                name=\"typeId\"\n                                                                defaultValue={this.value}\n                                                                className=\"custom-select form-control\"\n                                                                onChange={this.inputChangeHandler}\n                                                            >\n                                                                <option value=\"\" hidden>{this.state.controls.typeId.typeName}</option>\n                                                                {this.props.types.map(type => (\n                                                                    <option key={type._id} value={type._id}>\n                                                                        {type.name}\n                                                                    </option>\n                                                                ))}\n                                                            </select>\n                                                        </div>\n                                                    ) : null}\n\n                                                    {this.props.categories.length > 0 ? (\n                                                        <div className=\"form-group\">\n                                                            <label>Lĩnh vực nghiên cứu*</label>\n                                                            <select\n                                                                name=\"categoryId\"\n                                                                defaultValue={this.value}\n                                                                className=\"custom-select form-control\"\n                                                                onChange={this.inputChangeHandler}\n                                                            >\n                                                                <option value=\"\" hidden>{this.state.controls.categoryId.categoryName}</option>\n                                                                {this.props.categories.map(category => (\n                                                                    <option key={category._id} value={category._id}>\n                                                                        {category.name}\n                                                                    </option>\n                                                                ))}\n                                                            </select>\n                                                        </div>\n                                                    ) : null}\n\n                                                    {/* With Published Research */}\n                                                    {this.state.submissionType === SUBMISSION_TYPES.PUBLISHED_RESEARCH.name && (\n                                                        <Aux>\n                                                            <div className=\"form-group\">\n                                                                <label>DOI*</label>\n                                                                <input\n                                                                    type=\"text\"\n                                                                    name=\"DOI\"\n                                                                    className={!this.state.controls_published.DOI.valid && this.state.controls_published.DOI.touched ? \"form-control-error\" : \"form-control\"}\n                                                                    placeholder={this.state.controls_published.DOI.elementConfig.placeholder}\n                                                                    defaultValue={this.state.controls_published.DOI.value}\n                                                                    onChange={this.inputChangeHandler_published} />\n                                                                {!this.state.controls_published.DOI.valid && this.state.controls_published.DOI.touched ?\n                                                                    <p className=\"form-control-error-msg\">Giá trị DOI không hợp lệ!</p> : null}\n                                                            </div>\n                                                            <div className=\"form-group\">\n                                                                <label>Tên tạp chí*</label>\n                                                                <input\n                                                                    type=\"text\"\n                                                                    name=\"magazineName\"\n                                                                    className={!this.state.controls_published.magazineName.valid && this.state.controls_published.magazineName.touched ? \"form-control-error\" : \"form-control\"}\n                                                                    placeholder={this.state.controls_published.magazineName.elementConfig.placeholder}\n                                                                    defaultValue={this.state.controls_published.magazineName.value}\n                                                                    onChange={this.inputChangeHandler_published} />\n                                                                {!this.state.controls_published.magazineName.valid && this.state.controls_published.magazineName.touched ?\n                                                                    <p className=\"form-control-error-msg\">Tên tạp chí không hợp lệ!</p> : null}\n                                                            </div>\n                                                        </Aux>\n                                                    )}\n\n                                                    <div className=\"form-group\">\n                                                        <label>Tiêu để*</label>\n                                                        <input\n                                                            type=\"text\"\n                                                            name=\"title\"\n                                                            className={!this.state.controls.title.valid && this.state.controls.title.touched ? \"form-control-error\" : \"form-control\"}\n                                                            defaultValue={this.state.controls.title.value}\n                                                            onChange={this.inputChangeHandler} />\n                                                        {!this.state.controls.title.valid && this.state.controls.title.touched ?\n                                                            <p className=\"form-control-error-msg\">Tiêu đề không hợp lệ!</p> : null}\n                                                    </div>\n                                                    <div className=\"form-group\">\n                                                        <label>Mô tả*</label>\n                                                        <textarea\n                                                            type=\"text\"\n                                                            name=\"abstract\"\n                                                            className={!this.state.controls.abstract.valid && this.state.controls.abstract.touched ? \"form-control-error\" : \"form-control\"}\n                                                            placeholder={this.state.controls.abstract.elementConfig.placeholder}\n                                                            defaultValue={this.state.controls.abstract.value}\n                                                            onChange={this.inputChangeHandler} />\n                                                        {!this.state.controls.abstract.valid && this.state.controls.abstract.touched ?\n                                                            <p className=\"form-control-error-msg\">Mô tả không hợp lệ!</p> : null}\n                                                    </div>\n                                                    <div className=\"form-group\">\n                                                        <label>File đính kèm*</label>\n                                                        <div className=\"input-group\">\n                                                            <div className=\"custom-file\">\n                                                                <input\n                                                                    type=\"file\"\n                                                                    name=\"attachment\"\n                                                                    className=\"custom-file-input\"\n                                                                    onChange={this.inputChangeHandler} />\n                                                                {!this.state.controls.attachment.valid && this.state.controls.attachment.touched ?\n                                                                    <p className=\"form-control-error-msg\">File tải lên không hợp lệ!</p> : null}\n                                                                <label className=\"custom-file-label\" htmlFor=\"coverImage\">{this.state.controls.attachment.filename}</label>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n\n                                                <div className=\"card-footer\">\n                                                    <button\n                                                        type=\"button\"\n                                                        className=\"btn btn-outline-primary btn-flat\"\n                                                        disabled={\n                                                            this.state.submissionType === SUBMISSION_TYPES.PUBLISHED_RESEARCH.name ?\n                                                                (!(this.state.formIsValid && this.state.formIsValid_published)) : (!this.state.formIsValid)}\n                                                        onClick={this.step2ActiveHandler}>Tiếp tục</button>\n                                                    <button\n                                                        type=\"button\"\n                                                        className=\"btn btn-outline-danger ml-1 btn-flat\"\n                                                        onClick={this.cancelHandler}>Hủy</button>\n                                                </div>\n                                            </div>\n                                            {/* ------------------Tab 2----------------- */}\n                                            <div className={this.state.step2Active ? 'tab-pane show active' : 'tab-pane'}>\n                                                <div className=\"card-body\">\n                                                    <div className=\"form-group\">\n                                                        <label>Tài liệu kèm theo</label>\n                                                        <div className=\"input-group\">\n                                                            <div className=\"custom-file mb-2\">\n                                                                <input\n                                                                    type=\"file\"\n                                                                    name=\"metadata\"\n                                                                    multiple\n                                                                    className=\"custom-file-input\"\n                                                                    onChange={this.metaDataChangeHandler} />\n                                                                <label className=\"custom-file-label\" htmlFor=\"coverImage\">{this.state.metadata.length} file đã chọn</label>\n                                                            </div>\n                                                        </div>\n                                                        <div>\n                                                            {this.state.metadata.length > 0 ? (\n                                                                <Aux>\n                                                                    {Array.from(this.state.metadata).map(file => {\n                                                                        const iden = Math.floor(Math.random() * 111111);\n                                                                        return (\n                                                                            <div className=\"ml-2\" key={iden}>\n                                                                                <i className=\"fa fa-paperclip fa-lg\"></i> {\" \"}\n                                                                                <Link to=\"#\" className=\"text-primary\">{file.name}</Link>\n                                                                            </div>\n                                                                        );\n                                                                    })}\n                                                                </Aux>\n                                                            ) : (\n                                                                    <Aux>\n                                                                        {this.state.oldMetadata.map(file => {\n                                                                            const iden = Math.floor(Math.random() * 111111);\n                                                                            return (\n                                                                                <div className=\"ml-2\" key={iden}>\n                                                                                    <i className=\"fa fa-paperclip fa-lg\"></i>\n                                                                                    <a href={file.url} className=\"text-primary\" target=\"_blank\" rel=\"noopener noreferrer\">\n                                                                                        {\" \"}{file.filename}\n                                                                                    </a>\n                                                                                </div>\n                                                                            );\n                                                                        })}\n                                                                    </Aux>\n                                                                )}\n                                                        </div>\n                                                        {this.props.fileUploading ? (\n                                                            <div className=\"input-group\">\n                                                                <div className=\"spinner-border text-primary mt-2\" role=\"status\" style={{ width: '25px', height: '25px' }}></div>\n                                                                <div className=\"mt-2 ml-2 text-secondary\" style={{ fontStyle: 'italic' }}>Đang tải lên...</div>\n                                                            </div>\n                                                        ) : null}\n                                                    </div>\n                                                    <div className=\"form-group\">\n                                                        <label>Đồng tác giả ({this.state.contributors.length})</label><br />\n                                                        <button\n                                                            type=\"button\"\n                                                            className=\"btn btn-outline-dark btn-flat\"\n                                                            data-toggle=\"modal\"\n                                                            data-target=\"#addContributorModal\">\n                                                            <i className=\"fas fa-plus\"></i>{\" \"}Thêm mới\n                                                    </button>\n                                                    </div>\n                                                    <div>\n                                                        {this.state.contributors.length > 0 && (\n                                                            <Aux>\n                                                                {this.state.contributors.map((contributor, idx) => {\n                                                                    const iden = idx;\n                                                                    return (\n                                                                        <div className=\"ml-2\" key={iden}>\n                                                                            <i className=\"fas fa-user\"></i> {\" \"}\n                                                                            <Link to=\"#\" className=\"text-primary\">{contributor.fullname}</Link>{\"\"}\n                                                                            - <b>{contributor.affiliation}</b>\n                                                                            <i className=\"far fa-trash-alt text-danger pl-3\"\n                                                                                style={{ cursor: 'pointer' }}\n                                                                                onClick={() => this.removeContributorHandler(iden)}></i>\n                                                                        </div>\n                                                                    );\n                                                                })}\n                                                            </Aux>\n                                                        )}\n                                                    </div>\n                                                </div>\n\n                                                <div className=\"card-footer\">\n                                                    <button\n                                                        type=\"button\"\n                                                        className=\"btn btn-outline-primary btn-flat\"\n                                                        data-toggle=\"modal\"\n                                                        data-target=\"#confirmDialogModal\">Xác nhận</button>\n                                                    <button\n                                                        className=\"btn btn-outline-danger ml-2 btn-flat\"\n                                                        onClick={this.step2ActiveHandler}>Quay lại</button>\n                                                </div>\n                                            </div>\n                                            {/* ------------------Tab 3----------------- */}\n                                            <div className={this.state.step3Active ? 'tab-pane show active' : 'tab-pane'}>\n                                                <h4>Chỉnh sửa bài báo thành công.</h4>\n                                                <div className=\"ml-2\">Bạn đã chỉnh sửa bài báo trước khi bước vào quá trình thẩm định. Chúng tôi đã\n                                                    tiếp nhận và sẽ tiến hành thẩm định bài báo của bạn trước khi quyết định đăng tải.</div>\n                                                <div className=\"ml-2 mt-2\">Trong quá trình thẩm định, bạn vui lòng kiểm tra email và thông\n                                                    báo trên hệ thống thường xuyên để thuận tiện trong việc trao đổi với ban biên tập các vấn đề liên quan.</div>\n                                                <h4 className=\"mt-3\">Bây giờ, bạn có thể:</h4>\n                                                {this.props.submission ? (\n                                                    <Aux>\n                                                        <div className=\"ml-2\">\n                                                            <i className=\"fa fa-eye\"></i>\n                                                            {\" \"}<Link to={`/dashboard/submission/${this.props.submission._id}`} className=\"text-primary\">\n                                                                Xem chi tiết bài báo.\n                                                                </Link>.\n                                                            </div>\n                                                        <div className=\"ml-2\">\n                                                            <i className=\"fa fa-edit\"></i>\n                                                            {\" \"}<Link to={`/dashboard/edit-submission/${this.props.submission._id}`} className=\"text-primary\">Chỉnh sửa bài báo</Link> (Trước khi bước vào pha Thẩm định).\n                                                        </div>\n                                                    </Aux>\n                                                ) : null}\n                                                <div className=\"ml-2\">\n                                                    <i className=\"fa fa-home\"></i>\n                                                    {\" \"} <Link to=\"/dashboard\" className=\"text-primary\">Trở về trang chủ.</Link>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            ) : <Spinner />}\n                        </div>\n                    </div>\n                </section>\n            </div>\n        );\n\n        return (\n            <Aux>\n                {editArticle}\n                <ConfirmDialog\n                    title=\"Xác nhận\"\n                    message=\"Chỉnh sửa thông tin bài báo?\"\n                    confirm={this.confirmSubmitHandler} />\n                <AddContributor\n                    title=\"Thêm đồng tác giả\"\n                    fullname={this.state.fullname}\n                    affiliation={this.state.affiliation}\n                    inputChange={this.contributorInputChangeHandler}\n                    confirm={this.addContributorHandler} />\n                {this.props.error ? toast.error('Error: ' + this.props.error) : null}\n            </Aux>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        categories: state.submission.categories,\n        types: state.submission.types,\n        isSubmissionEdited: state.submission.isSubmissionEdited,\n        submission: state.submission.submission,\n        loading: state.submission.loading,\n        fileUploading: state.submission.fileUploading,\n        error: state.submission.error\n    };\n};\n\nconst mapDispatchToProps = {\n    getCategories,\n    getSubmissionTypes,\n    getSubmissionDetail,\n    editSubmission,\n    resetEditSubmissionState\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EditSubmission);","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Aux from '../../../../hoc/Auxiliary/Auxiliary';\nimport { SUBMISSION_TYPES } from '../../../../utils/constant';\n\nconst SubmissionInfor = (props) => {\n    return (\n        <Aux>\n            <h6>\n                <i className=\"fas fa-info-circle\"></i> THÔNG TIN CHI TIẾT BÀI BÁO {\" \"}\n                {props.hasAuthorRevision && <div className=\"badge-ol badge-ol-secondary badge-outlined mb-1\"> Bản chỉnh sửa</div>}\n            </h6>\n            <div className=\"form-group ml-3\">\n                <label>Loại bài báo</label>\n                <Link to=\"#\">\n                    <div className=\"ml-4 text-danger\">\n                        <div className=\"badge-ol badge-ol-danger badge-outlined mb-1 pl-3 pr-3 pt-2 pb-2\">\n                            {props.submission.typeId.name}\n                        </div>\n                    </div>\n                </Link>\n            </div>\n            {props.submission.typeId.name === SUBMISSION_TYPES.PUBLISHED_RESEARCH.name && (\n                <Aux>\n                    <div className=\"form-group ml-3\">\n                        <label>Tạp chí xuất bản</label>\n                        <p className=\"ml-4\">{props.submission.magazineName}</p>\n                    </div>\n                    <div className=\"form-group ml-3\">\n                        <label>DOI</label>\n                        <p className=\"ml-4\">{props.submission.DOI}</p>\n                    </div>\n                </Aux>\n            )}\n            <div className=\"form-group ml-3\">\n                <label>Lĩnh vực nghiên cứu</label>\n                <Link to=\"#\">\n                    <div className=\"ml-4 text-danger\">{props.submission.categoryId.name}</div>\n                </Link>\n            </div>\n            <div className=\"form-group ml-3\">\n                <label>Tiêu đề</label>\n                <p className=\"ml-4\">{props.submission.title}</p>\n            </div>\n            <div className=\"form-group ml-3\">\n                <label>Tóm tắt</label>\n                <p className=\"ml-4\">\n                    {props.submission.abstract}\n                </p>\n            </div>\n            <div className=\"form-group ml-3\">\n                <label>File bài báo</label>\n                <p className=\"ml-4\">\n                    <i className=\"fa fa-paperclip fa-lg\"></i>\n                    <a href={props.submission.attachmentUrl} className=\"text-primary\" target=\"_blank\" rel=\"noopener noreferrer\">\n                        {\" \"}{props.submission.attachmentFile}\n                    </a>\n                </p>\n            </div>\n            {/* Metadata */}\n            <h6>\n                <i className=\"fas fa-tag\"></i> METADATA {\" \"}\n            </h6>\n            <div className=\"form-group ml-3\">\n                <label>Danh sách đồng tác giả</label>\n                {props.submission.contributors.length > 0 ? props.submission.contributors.map((contributor, idx) => (\n                    <div className=\"row\" key={idx}>\n                        <div className=\"text-primary ml-4 font-weight-bold\">\n                            <i className=\"fas fa-user text-dark\"></i> {\" \"}\n                            {contributor.fullname} - {\" \"}\n                        </div>\n                        <div>\n                            {contributor.affiliation}\n                        </div>\n                    </div>\n                )) : <div className=\"ml-4 text-secondary\">Không có đồng tác giả nào.</div>}\n                <label className=\"pt-3\">Tài liệu kèm theo</label>\n                {props.submission.metadata.length > 0 ? props.submission.metadata.map((file, idx) => (\n                    <div className=\"ml-4\" key={idx}>\n                        <i className=\"fa fa-paperclip fa-lg\"></i>\n                        <a href={file.url} className=\"text-primary\" target=\"_blank\" rel=\"noopener noreferrer\">\n                            {\" \"}{file.filename}\n                        </a>\n                    </div>\n                )) : <div className=\"ml-4 text-secondary\">Không có tài liệu kèm theo nào.</div>}\n            </div>\n        </Aux>\n    );\n};\n\nexport default SubmissionInfor;","import React from 'react';\nimport { getFormattedDateOnly, getFormattedTimeOnly } from '../../../utils/utility';\nimport Aux from '../../../hoc/Auxiliary/Auxiliary';\n\nconst SubmissionLogs = (props) => {\n    return (\n        <Aux>\n            <div className=\"modal fade\" id=\"submissionLogsModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                <div className=\"modal-dialog\" role=\"document\">\n                    <div className=\"modal-content\">\n                        <div className=\"modal-header\">\n                            <h5 className=\"modal-title\" id=\"exampleModalLabel\">Nhật ký hoạt động</h5>\n                            <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                <span aria-hidden=\"true\">&times;</span>\n                            </button>\n                        </div>\n                        <div className=\"modal-body\">\n                            <div className=\"timeline\">\n                                {props.logs.map(log => (\n                                    <Aux key={log.createdAt}>\n                                        <div className=\"time-label\">\n                                            <span className=\"bg-red\">{getFormattedDateOnly(log.createdAt)}</span>\n                                        </div>\n                                        <div>\n                                            <i className=\"fas fa-user bg-green\"></i>\n                                            <div className=\"timeline-item\">\n                                                <span className=\"time\"><i className=\"fas fa-clock\"></i> {getFormattedTimeOnly(log.createdAt)}</span>\n                                                <h3 className=\"timeline-header no-border\">{log.event}</h3>\n                                            </div>\n                                        </div>\n                                    </Aux>\n                                ))}\n                                <div>\n                                    <i className=\"fas fa-clock bg-gray\"></i>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </Aux>\n    );\n};\n\nexport default SubmissionLogs;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Aux from '../../../../hoc/Auxiliary/Auxiliary';\nimport { SUBMISSION_TYPES } from '../../../../utils/constant';\n\nconst EditorialBoard = (props) => {\n    return (\n        <Aux>\n            <h6><i className=\"fas fa-users\"></i> BAN BIÊN TẬP</h6>\n            <div className=\"row ml-2\">\n                <div className=\"col-lg-4\">\n                    <div className=\"form-group mr-2\">\n                        <label>Tác giả (Author)</label>\n                        <Link to=\"#\">\n                            <div className=\"text-primary ml-4\">\n                                <i className=\"fas fa-user text-dark\"></i> {\" \"}\n                                {props.submission.authorId.lastname} {props.submission.authorId.firstname}\n                            </div>\n                        </Link>\n                    </div>\n                </div>\n                <div className=\"col-lg-4\">\n                    <div className=\"form-group mr-2\">\n                        <label>Biên tập viên (Editor)</label>\n                        {props.reviewerAssignment ? (\n                            <Link to=\"#\">\n                                <div className=\"text-primary ml-4\">\n                                    <i className=\"fas fa-user text-dark\"></i> {\" \"}\n                                    {props.reviewerAssignment.editorId.lastname} {props.reviewerAssignment.editorId.firstname}\n                                </div>\n                            </Link>\n                        ) : props.editorAssignment ? (\n                            <Link to=\"#\">\n                                <div className=\"text-primary ml-4\">\n                                    <i className=\"fas fa-user text-dark\"></i> {\" \"}\n                                    {props.editorAssignment.editorId.lastname} {props.editorAssignment.editorId.firstname}\n                                </div>\n                            </Link>\n                        ) : (\n                                    <div className=\"ml-4\">\n                                        <div>Chưa được chỉ định</div>\n                                    </div>\n                                )}\n                    </div>\n                </div>\n                <div className=\"col-lg-4\">\n                    <div className=\"form-group mr-2\">\n                        {props.submission.typeId.name === SUBMISSION_TYPES.PEER_REVIEW_RESEARCH.name ? (\n                            <Aux>\n                                {props.reviewerAssignments ? (\n                                    <Aux>\n                                        <label>Thẩm định viên ({props.reviewerAssignments.length}/3)</label>\n                                        {props.reviewerAssignments.length > 0 ? (\n                                            <div className=\"ml-4\">\n                                                {props.reviewerAssignments.map(ra => (\n                                                    <Link to=\"#\" key={ra._id}>\n                                                        <div className=\"text-primary\"><i className=\"fas fa-user text-dark\"></i> {\" \"}\n                                                            {ra.reviewerId.lastname} {ra.reviewerId.firstname}\n                                                        </div>\n                                                    </Link>\n                                                ))}\n                                            </div>\n                                        ) : (\n                                                <div className=\"ml-4\">\n                                                    <div>Chưa được chỉ định</div>\n                                                </div>\n                                            )}\n                                    </Aux>\n                                ) : props.reviewerAssignment ? (\n                                    <Aux>\n                                        <label>Thẩm định viên</label>\n                                        <div className=\"ml-4\">\n                                            <Link to=\"#\">\n                                                <div className=\"text-primary\"><i className=\"fas fa-user text-dark\"></i> {\" \"}\n                                                    {props.reviewerAssignment.reviewerId.lastname} {props.reviewerAssignment.reviewerId.firstname}\n                                                </div>\n                                            </Link>\n                                        </div>\n                                    </Aux>\n                                ) : (\n                                    <Aux>\n                                        <label>Thẩm định viên</label>\n                                        <div className=\"ml-4\">\n                                            <div>Chưa được chỉ định</div>\n                                        </div>\n                                    </Aux>           \n                                )}\n                            </Aux>\n                        ) : (\n                            <Aux>\n                                <label>Thẩm định viên</label>\n                                <div className=\"ml-4\">Không yêu cầu </div>\n                            </Aux>\n                        )}\n                    </div>\n                </div>\n            </div>\n        </Aux>\n    );\n};\n\nexport default EditorialBoard;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Aux from '../../../../hoc/Auxiliary/Auxiliary';\nimport { getFormattedDate, getStageBadgeClassname2 } from '../../../../utils/utility';\n\nconst SubmissionFutherInfor = (props) => {\n    return (\n        <Aux>\n            <div className=\"form-group\">\n                <h6><i className=\"far fa-calendar-alt\"></i> TIẾN TRÌNH BÀI BÁO</h6>\n            </div>\n            <div className=\"form-group\">\n                <label>Ngày đăng:</label>\n                <p className=\"ml-4\">\n                    {getFormattedDate(props.submission.createdAt)}\n                </p>\n            </div>\n            <div className=\"form-group\">\n                <label>Cập nhật lần cuối:</label>\n                <p className=\"ml-4\">\n                    {getFormattedDate(props.submission.updatedAt)}\n                </p>\n            </div>\n            <div className=\"form-group\">\n                <label>Trạng thái</label><br />\n                <span className=\"ml-3\">{props.submission.submissionLogs[props.submission.submissionLogs.length - 1].event}</span>\n            </div>\n            <div className=\"form-group\">\n                <label>Nhật ký hoạt động</label><br />\n                <Link to=\"#\" className=\"ml-3 text-primary\" data-toggle=\"modal\" data-target=\"#submissionLogsModal\"><u>Xem chi tiết</u></Link>\n            </div>\n            <div className=\"form-group\">\n                <label>Pha</label><br />\n                <div className={\"badge-ol \" + getStageBadgeClassname2(props.submission.stageId.value) + \" pt-2 pb-2\"} style={{ width: '120px', fontSize: '14px' }}>\n                    {props.submission.stageId.name}\n                </div>\n            </div>\n        </Aux>\n    );\n};\n\nexport default SubmissionFutherInfor;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport Aux from '../../../../hoc/Auxiliary/Auxiliary';\nimport { STAGE } from '../../../../utils/constant';\n\nconst SubmissionActions = (props) => {\n    return (\n        <Aux>\n            {props.userId === props.submission.authorId._id ? (\n                <div className=\"form-group\">\n                    <label>Chỉnh sửa</label><br />\n                    {props.submission.stageId.value === STAGE.SUBMISSION.value ? (\n                        <Aux>\n                            <Link to={`/dashboard/edit-submission/${props.submission._id}`} className=\"btn btn-outline-secondary btn-sm mr-1\">\n                                <i className=\"fas fa-pencil-alt\"></i> Chỉnh sửa\n                            </Link>\n                            <button className=\"btn btn-outline-danger btn-flat btn-sm\" data-toggle=\"modal\" data-target=\"#deleteSubmissionModal\">\n                                <i className=\"fas fa-trash\"></i> Xóa bài báo\n                            </button>\n                        </Aux>\n                    ) : props.submission.stageId.value === STAGE.REVIEW.value && props.authorAssignment ? (\n                        <Aux>\n                            <Link to={`/dashboard/revise-submission/${props.submission._id}`} className=\"btn btn-outline-secondary btn-sm mr-1\">\n                                <i className=\"fas fa-pencil-alt\"></i> Nộp bản chỉnh sửa bài báo\n                            </Link>\n                        </Aux>\n                    ) : (\n                        <Aux>\n                            <button className=\"btn btn-outline-secondary btn-sm mr-1 btn-flat\"\n                                onClick={() => toast.error('Không thể chỉnh sửa bài báo khi chưa có yêu cầu.')}>\n                                        <i className=\"fas fa-pencil-alt\"></i> Chỉnh sửa\n                            </button>\n                            <button className=\"btn btn-outline-danger btn-sm btn-flat\"\n                                onClick={() => toast.error('Không thể xóa bài báo trong thời gian thẩm định.')}>\n                                        <i className=\"fas fa-trash\"></i> Xóa bài báo\n                            </button>\n                        </Aux>\n                    )}\n                </div>\n            ) : null}\n        </Aux>\n    );\n};\n\nexport default SubmissionActions;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Aux from '../../../../hoc/Auxiliary/Auxiliary';\nimport { checkDueDate, getFormattedDate } from '../../../../utils/utility';\n\n\nconst AssignmentInfor = (props) => {\n    return (\n        <Aux>\n            <h6><i className=\"fas fa-tasks\"></i> CHI TIẾT YÊU CẦU</h6>\n            <div className=\"form-group ml-3\">\n                <label>Nguời giao</label>\n                <div className=\"ml-4\">\n                    <i className=\"fas fa-user text-dark\"></i> {\" \"}\n                    <Link to=\"#\" className=\"text-primary\">\n                        {props.authorAssignment.editorId.lastname} {props.authorAssignment.editorId.firstname}\n                    </Link>\n                    {\" \"}<div className=\"badge-ol badge-ol-danger badge-outlined mb-1\">Biên tập viên</div>\n                </div>\n            </div>\n            <div className=\"form-group ml-3\">\n                <label>Ngày giao</label>\n                <div className=\"ml-4\">\n                    {getFormattedDate(props.authorAssignment.createdAt)}\n                </div>\n            </div>\n            <div className=\"form-group ml-3\">\n                <label>Thời hạn xử lý</label>\n                <div className=\"ml-4\">\n                    {getFormattedDate(props.authorAssignment.dueDate)} {\" \"}\n                    {!checkDueDate(props.authorAssignment.dueDate) ? (\n                        <div className=\"badge-ol badge-ol-danger mb-1\">Hết hạn xử lý</div>\n                    ) : null}\n                </div>\n            </div>\n        </Aux>\n    );\n};\n\nexport default AssignmentInfor;","import React from 'react';\nimport Aux from '../../../../../hoc/Auxiliary/Auxiliary';\nimport { getFormattedDate } from '../../../../../utils/utility';\n\nconst RevisionDetail = (props) => {\n    return (\n        <Aux>\n            {props.authorRevision ? (\n                <Aux>\n                    <div className=\"form-group ml-3\">\n                        <label>Bản chỉnh sửa bài báo</label>\n                        <div className=\"text-primary ml-4\"\n                            style={{ cursor: 'pointer' }}\n                            onClick={props.step1Active}>\n                            <u>Xem chi tiết</u>\n                        </div>\n                    </div>\n                    <div className=\"form-group ml-3\">\n                        <label>Ngày nộp</label>\n                        <p className=\"ml-4\">{getFormattedDate(props.authorRevision.createdAt)}</p>\n                    </div>\n                    <div className=\"form-group ml-3\">\n                        <label>Trạng thái</label><br />\n                        {props.authorRevision.isAccepted ? (\n                            <span className=\"decision-success ml-4\">Biên tập viên đã tiếp nhận</span>\n                        ) : (\n                            <span className=\"decision-danger ml-4\">Biên tập viên chưa tiếp nhận</span>\n                        )}\n                    </div>\n                </Aux>\n            ) : null}\n        </Aux>\n    );\n};\n\nexport default RevisionDetail;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Aux from '../../../../hoc/Auxiliary/Auxiliary';\nimport { getStageBadgeClassname } from '../../../../utils/utility';\n\nconst SubmissionProcess = (props) => {\n    return (\n        <Aux>\n            <div className=\"form-group\">\n                <h6><i className=\"far fa-calendar-alt\"></i> TIẾN TRÌNH BÀI BÁO</h6>\n            </div>\n            <div className=\"form-group ml-3\">\n                <label>Trạng thái</label><br />\n                <span className=\"ml-3\">{props.submission.submissionLogs[props.submission.submissionLogs.length - 1].event}</span>\n            </div>\n            <div className=\"form-group ml-3\">\n                <label>Nhật ký hoạt động</label><br />\n                <Link to=\"#\" className=\"ml-3 text-primary\" data-toggle=\"modal\" data-target=\"#submissionLogsModal\"><u>Xem chi tiết</u></Link>\n            </div>\n            <div className=\"form-group ml-3\">\n                <label>Pha</label><br />\n                <div className={\"badge \" + getStageBadgeClassname(props.submission.stageId.value) + \" ml-3\"}>\n                    {props.submission.stageId.name}\n                </div>\n            </div>\n        </Aux>\n    );\n};\n\nexport default SubmissionProcess;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Aux from '../../../../hoc/Auxiliary/Auxiliary';\nimport { getDecisionBadgeClassname, getFormattedDate } from '../../../../utils/utility';\n\nconst CESubmissionDetail = (props) => {\n    return (\n        <Aux>\n            {props.chiefEditorSubmission ? (\n                <Aux>\n                    <div className=\"ml-2 mt-3\">\n                        <span className={getDecisionBadgeClassname(props.chiefEditorSubmission.chiefEditorDecisionId.value)}>\n                            {props.chiefEditorSubmission.chiefEditorDecisionId.decisionName}\n                        </span>\n                    </div>\n                    <div className=\"ml-2 mt-2\">\n                        <Link to=\"#\" className=\"text-primary\" data-toggle=\"modal\" data-target=\"#ceSubmisisonModal\"><u>Xem chi tiết</u></Link>\n                    </div>\n                </Aux>\n            ) : null}\n            <div className=\"modal fade\" id=\"ceSubmisisonModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                <div className=\"modal-dialog\" role=\"document\">\n                    <div className=\"modal-content\">\n                        <div className=\"modal-header\">\n                            <h5 className=\"modal-title\" id=\"exampleModalLabel\">Quyết định của tổng biên tập</h5>\n                            <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                <span aria-hidden=\"true\">&times;</span>\n                            </button>\n                        </div>\n                        <div className=\"modal-body\">\n                            <div className=\"form-group ml-3\">\n                                <label>Nguời gửi</label>\n                                <div className=\"ml-4\">\n                                    <i className=\"fas fa-user text-dark\"></i> {\" \"}\n                                    <Link to=\"#\" className=\"text-primary\">\n                                        {props.chiefEditorSubmission.chiefEditorId.lastname} {props.chiefEditorSubmission.chiefEditorId.firstname}\n                                    </Link>\n                                    {\" \"}<div className=\"badge-ol badge-ol-danger badge-outlined mb-1\">Tổng biên tập</div>\n                                </div>\n                            </div>\n                            <div className=\"form-group ml-3\">\n                                <label>Quyết định</label><br />\n                                <span className={getDecisionBadgeClassname(props.chiefEditorSubmission.chiefEditorDecisionId.value) + \" ml-4\"}>\n                                    {props.chiefEditorSubmission.chiefEditorDecisionId.decisionName}\n                                </span>\n                            </div>\n                            <div className=\"form-group ml-3\">\n                                <label>Nhận xét</label>\n                                <p className=\"ml-4\">{props.chiefEditorSubmission.content}</p>\n                            </div>\n                            <div className=\"form-group ml-3\">\n                                <label>Ngày gửi</label>\n                                <p className=\"ml-4\">{getFormattedDate(props.chiefEditorSubmission.createdAt)}</p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </Aux>\n    );\n};\n\nexport default CESubmissionDetail;","import React from 'react';\nimport Aux from '../../../../hoc/Auxiliary/Auxiliary';\nimport { getDecisionBadgeClassname, getFormattedDate } from '../../../../utils/utility';\n\nconst ReviewDetail = (props) => {\n    return (\n        <Aux>\n            {props.reviewerSubmission ? (\n                <Aux>\n                    <div className=\"form-group ml-3\">\n                        <label>Quyết định</label><br />\n                        <span className={getDecisionBadgeClassname(props.reviewerSubmission.reviewerDecisionId.value) + \" ml-4\"}>\n                            {props.reviewerSubmission.reviewerDecisionId.decisionName}\n                        </span>\n                    </div>\n                    <div className=\"form-group ml-3\">\n                        <label>Ý kiến</label>\n                        <p className=\"ml-4\">{props.reviewerSubmission.content}</p>\n                    </div>\n                    <div className=\"form-group ml-3\">\n                        <label>File đính kèm</label>\n                        <p className=\"ml-4\">\n                            <i className=\"fa fa-paperclip fa-lg\"></i>\n                            {props.reviewerSubmission.attachmentFile ? (\n                                <a href={props.reviewerSubmission.attachmentUrl} className=\"text-primary\" target=\"_blank\" rel=\"noopener noreferrer\">\n                                    {\" \"}{props.reviewerSubmission.attachmentFile}\n                                </a>\n                            ) : \" Không có file đính kèm.\"}\n                        </p>\n                    </div>\n                    <div className=\"form-group ml-3\">\n                        <label>Ngày gửi</label>\n                        <p className=\"ml-4\">{getFormattedDate(props.reviewerSubmission.createdAt)}</p>\n                    </div>\n                </Aux>\n            ) : null}\n        </Aux>\n    );\n};\n\nexport default ReviewDetail;","import React from 'react';\nimport Aux from '../../../../../hoc/Auxiliary/Auxiliary';\nimport ReviewDetail from '../../../Reviewer/ReviewSubmission/ReviewDetail';\n\nconst ReviewerSubmissionDetail = (props) => {\n    return (\n        <Aux>\n            <div className=\"modal fade\" id={\"aaa\"+props.reviewerSubmission._id} tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                <div className=\"modal-dialog\" role=\"document\">\n                    <div className=\"modal-content\">\n                        <div className=\"modal-header\">\n                            <h5 className=\"modal-title\" id=\"exampleModalLabel\">Ý kiến của thẩm định viên</h5>\n                            <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                <span aria-hidden=\"true\">&times;</span>\n                            </button>\n                        </div>\n                        <div className=\"modal-body\">\n                            <ReviewDetail\n                                reviewerSubmission={props.reviewerSubmission} />\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </Aux>\n    );\n};\n\nexport default ReviewerSubmissionDetail;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Aux from '../../../../hoc/Auxiliary/Auxiliary';\nimport { getDecisionBadgeClassname2 } from '../../../../utils/utility';\nimport ReviewerSubmissionDetail from './ReviewerSubmissionDetail/ReviewerSubmissionDetail';\n\nconst ReviewerSubmissions = (props) => {\n    let stt = 1;\n\n    return (\n        <Aux>\n            <h6><i className=\"fas fa-comments\"></i> Ý KIẾN CỦA THẨM ĐỊNH VIÊN</h6>\n            {props.reviewerAssignments.length > 0 ? (\n                <table className=\"table table-bordered table-sm mt-3\">\n                    <thead>\n                        <tr>\n                            <th style={{ width: '1%' }}>#</th>\n                            <th style={{ width: '30%' }}>Thẩm định viên</th>\n                            <th style={{ width: '25%' }} className=\"text-center\">Trạng thái</th>\n                            <th style={{ width: '25%' }} className=\"text-center\">Quyết định</th>\n                            <th style={{ width: '19%' }} className=\"text-center\">Ý kiến</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {props.reviewerAssignments.map(ra => (\n                            <Aux key={ra._id}>\n                                <tr>\n                                    <td>{stt++}</td>\n                                    <td>\n                                        <Link to=\"#\" className=\"text-primary\">{ra.reviewerId.lastname} {ra.reviewerId.firstname}</Link>\n                                    </td>\n                                    <td className=\"text-center\">{ra.reviewerSubmissionId ? \"Đã nộp ý kiến\" : \"Chưa nộp ý kiến\"}</td>\n                                    <td className=\"text-center\">\n                                        {ra.reviewerSubmissionId ? (\n                                            <span className={\"badge \" + getDecisionBadgeClassname2(ra.reviewerSubmissionId.reviewerDecisionId.value) + \" p1\"}>\n                                                {ra.reviewerSubmissionId.reviewerDecisionId.decisionName}\n                                            </span>\n                                        ) : (\n                                                <span className=\"badge bg-secondary p-1\">Chưa nộp ý kiến</span>\n                                            )}\n                                    </td>\n                                    <td className=\"text-center\">\n                                        {ra.reviewerSubmissionId ? (\n                                            <Link to=\"#\"\n                                                className=\"text-primary\"\n                                                data-toggle=\"modal\"\n                                                data-target={\"#aaa\" + ra.reviewerSubmissionId._id}>\n                                                <u>Xem</u>\n                                            </Link>\n                                        ) : (\n                                                <Link to=\"#\"\n                                                    className=\"link-disabled\">\n                                                    Chưa nộp\n                                                </Link>\n                                            )}\n                                    </td>\n                                    {ra.reviewerSubmissionId ? (\n                                        <td style={{border: '1px solid #fff'}}>\n                                            <ReviewerSubmissionDetail reviewerSubmission={ra.reviewerSubmissionId} />\n                                        </td>\n                                    ) : null}\n                                </tr>\n                            </Aux>\n                        ))}\n                    </tbody>\n                </table>\n            ) : <span className=\"p-1\">Chưa có thẩm định viên nào được chỉ định</span>}\n        </Aux>\n    );\n};\n\nexport default ReviewerSubmissions;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Aux from '../../../../hoc/Auxiliary/Auxiliary';\nimport { getDecisionBadgeClassname, getFormattedDate } from '../../../../utils/utility';\n\nconst EditorSubmissionDetail = (props) => {\n    return (\n        <Aux>\n            {props.editorSubmission ? (\n                <Aux>\n                    <div className=\"ml-2 mt-3\">\n                        <span className={getDecisionBadgeClassname(props.editorSubmission.editorDecisionId.value)}>\n                            {props.editorSubmission.editorDecisionId.decisionName}\n                        </span>\n                    </div>\n                    <div className=\"ml-2 mt-2\">\n                        <Link to=\"#\" className=\"text-primary\" data-toggle=\"modal\" data-target=\"#editorSubmisisonModal\"><u>Xem chi tiết</u></Link>\n                    </div>\n                </Aux>\n            ) : null}\n            <div className=\"modal fade\" id=\"editorSubmisisonModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                <div className=\"modal-dialog\" role=\"document\">\n                    <div className=\"modal-content\">\n                        <div className=\"modal-header\">\n                            <h5 className=\"modal-title\" id=\"exampleModalLabel\">Quyết định của biên tập viên</h5>\n                            <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                <span aria-hidden=\"true\">&times;</span>\n                            </button>\n                        </div>\n                        <div className=\"modal-body\">\n                            <div className=\"form-group ml-3\">\n                                <label>Nguời gửi</label>\n                                <div className=\"ml-4\">\n                                    <i className=\"fas fa-user text-dark\"></i> {\" \"}\n                                    <Link to=\"#\" className=\"text-primary\">\n                                        {props.editorAssignment.editorId.lastname} {props.editorAssignment.editorId.firstname}\n                                    </Link>\n                                    {\" \"}<div className=\"badge-ol badge-ol-danger badge-outlined mb-1\">Biên tập viên</div>\n                                </div>\n                            </div>\n                            <div className=\"form-group ml-3\">\n                                <label>Quyết định</label><br />\n                                <span className={getDecisionBadgeClassname(props.editorSubmission.editorDecisionId.value) + \" ml-4\"}>\n                                    {props.editorSubmission.editorDecisionId.decisionName}\n                                </span>\n                            </div>\n                            <div className=\"form-group ml-3\">\n                                <label>Ý kiến</label>\n                                <p className=\"ml-4\">{props.editorSubmission.content}</p>\n                            </div>\n                            <div className=\"form-group ml-3\">\n                                <label>File đính kèm</label>\n                                <p className=\"ml-4\">\n                                    <i className=\"fa fa-paperclip fa-lg\"></i>\n                                    {props.editorSubmission.attachmentFile ? (\n                                        <a href={props.editorSubmission.attachmentUrl} className=\"text-primary\" target=\"_blank\" rel=\"noopener noreferrer\">\n                                            {\" \"}{props.editorSubmission.attachmentFile}\n                                        </a>\n                                    ) : \" Không có file đính kèm.\"}\n                                </p>\n                            </div>\n                            <div className=\"form-group ml-3\">\n                                <label>Ngày gửi</label>\n                                <p className=\"ml-4\">{getFormattedDate(props.editorSubmission.createdAt)}</p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </Aux>\n    );\n};\n\nexport default EditorSubmissionDetail;","import React from 'react';\nimport { Doughnut } from 'react-chartjs-2';\nimport Aux from '../../../hoc/Auxiliary/Auxiliary';\nimport { SUBMISSION_TYPES } from '../../../utils/constant';\nimport CESubmissionDetail from '../ChiefEditor/EditorialBoardSubmissions/CESubmisisonDetail';\nimport ReviewerSubmissions from '../Editor/ReviewerSubmissions/ReviewerSubmissions';\nimport EditorSubmissionDetail from '../ChiefEditor/EditorialBoardSubmissions/EditorSubmissionDetail';\n\nconst ReviewProcessInfor = (props) => {\n    return (\n        <Aux>\n            {props.submission.typeId.name === SUBMISSION_TYPES.PEER_REVIEW_RESEARCH.name && (\n                <Aux>\n                    {props.editorAssignment ? (\n                        // Row\n                        <div className=\"row border rounded mt-2\" style={props.editorAssignment.reviewerAssignmentId.length > 0 ? { minHeight: '200px' } : null}>\n                            {/* Column */}\n                            <div className=\"p-2 col-lg-8\">\n                                <ReviewerSubmissions reviewerAssignments={props.editorAssignment.reviewerAssignmentId} />\n                            </div>\n                            {/* Column */}\n                            <div className=\"p-2 col-lg-4\">\n                                <Doughnut\n                                    data={props.fetchDoughnutData(props.editorAssignment.reviewerAssignmentId)}\n                                    options={{\n                                        responsive: true,\n                                        maintainAspectRatio: false,\n                                        legend: {\n                                            labels: {\n                                                fontSize: 12,\n                                                fontFamily: 'Roboto Slab'\n                                            }\n                                        }\n                                    }}\n                                />\n                            </div>\n                        </div>\n                    ) : (\n                            <div className=\"row border rounded mt-2\">\n                                <div className=\"p-2 col-lg-8\">\n                                    <h6><i className=\"fas fa-comments\"></i> Ý KIẾN CỦA THẨM ĐỊNH VIÊN</h6>\n                                    <div>Chưa có thông tin thẩm định của thẩm định viên.</div>\n                                </div>\n                            </div>\n                        )}\n                </Aux>\n            )}\n            {/* Row */}\n            <div className=\"row border rounded mt-2\">\n                <div className=\"p-2 col-lg-10\">\n                    <h6><i className=\"fas fa-comment\"></i> Ý KIẾN CỦA BIÊN TẬP VIÊN</h6>\n                    {props.editorAssignment && props.editorAssignment.editorSubmissionId ? (\n                        <EditorSubmissionDetail\n                            editorAssignment={props.editorAssignment}\n                            editorSubmission={props.editorAssignment.editorSubmissionId} />\n                    ) : (\n                            <div>Chưa có thông tin thẩm định của biên tập viên.</div>\n                        )}\n                </div>\n            </div>\n            {/* Row */}\n            {props.submission.typeId.name === SUBMISSION_TYPES.PEER_REVIEW_RESEARCH.name && (\n                <div className=\"row border rounded mt-2\">\n                    <div className=\"p-2 col-lg-10\">\n                        <h6><i className=\"fas fa-gavel\"></i> QUYẾT ĐỊNH CỦA TỔNG BIÊN TẬP</h6>\n                        {props.chiefEditorSubmission ? (\n                            <CESubmissionDetail chiefEditorSubmission={props.chiefEditorSubmission} />\n                        ) : (\n                                <div>Tổng biên tập chưa đưa ra quyết định.</div>\n                            )}\n                    </div>\n                </div>\n            )}\n        </Aux>\n    );\n};\n\nexport default ReviewProcessInfor;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport Aux from '../../../hoc/Auxiliary/Auxiliary';\nimport SubmissionInfor from './SubmissionInfor/SubmissionInfor';\nimport SubmissionLogs from './SubmissionLogs';\nimport DeleteSubmission from '../Author/DeleteSubmission';\nimport Spinner from '../../UI/Spinner/Spinner';\nimport ContentHeader from '../Shared/ContentHeader';\nimport { checkDueDate, getDoughnutData, updateObject } from '../../../utils/utility';\nimport { getMyNotifications } from '../../../store/actions/authActions';\nimport {\n    getSubmissionDetail,\n    deleteSubmission,\n    resetDeleteSubmissionState\n} from '../../../store/actions/submissionActions';\nimport {\n    getEditorAssignmentBySubmission,\n    getAuthorAssignmentBySubmission,\n    getChiefEditorSubmission\n} from '../../../store/actions/reviewActions';\nimport { toast } from 'react-toastify';\nimport EditorialBoard from './SubmissionInfor/EditorialBoard';\nimport SubmissionFutherInfor from './SubmissionInfor/SubmissionFutherInfor';\nimport SubmissionActions from './SubmissionActions/SubmissionActions';\nimport AssignmentInfor from '../Author/AuthorAssignment/AssignmentInfor';\nimport RevisionDetail from '../Author/AuthorAssignment/RevisionDetail/RevisionDetail';\nimport SubmissionProcess from './SubmissionProcess/SubmissionProcess';\nimport { SUBMISSION_TYPES } from '../../../utils/constant';\nimport ReviewProcessInfor from '../ReviewProcess/ReviewProcessInfor';\nclass SubmissionDetail extends Component {\n\n    state = {\n        step1Active: true,\n        step2Active: false,\n        step3Active: false,\n        deletionConfirmed: false\n    }\n\n    componentDidMount() {\n        if (this.props.match.params.submissionId) {\n            this.props.getSubmissionDetail(this.props.match.params.submissionId);\n            this.props.getEditorAssignmentBySubmission(this.props.match.params.submissionId);\n            this.props.getAuthorAssignmentBySubmission(this.props.match.params.submissionId);\n            this.props.getChiefEditorSubmission(this.props.match.params.submissionId);\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.match.params.submissionId !== prevProps.match.params.submissionId) {\n            this.props.getSubmissionDetail(this.props.match.params.submissionId);\n            this.props.getEditorAssignmentBySubmission(this.props.match.params.submissionId);\n            this.props.getAuthorAssignmentBySubmission(this.props.match.params.submissionId);\n            this.props.getChiefEditorSubmission(this.props.match.params.submissionId);\n        }\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        if (nextProps.isSubmissionDeleted) {\n            this.props.resetDeleteSubmissionState();\n            setTimeout(() => {\n                toast.success(\"Xóa bài báo khỏi hệ thống thành công!\");\n                this.props.history.push('/dashboard');\n            }, 500)\n        }\n    }\n\n    refreshHandler = () => {\n        if (this.props.match.params.submissionId) {\n            this.props.getSubmissionDetail(this.props.match.params.submissionId);\n            this.props.getEditorAssignmentBySubmission(this.props.match.params.submissionId);\n            this.props.getAuthorAssignmentBySubmission(this.props.match.params.submissionId);\n            this.props.getChiefEditorSubmission(this.props.match.params.submissionId);\n            this.props.getMyNotifications();\n        }\n    }\n\n    fetchDoughnutData = (reviewerAssignments) => {\n        const data = getDoughnutData(reviewerAssignments);\n        return data;\n    }\n\n    step1ActiveHandler = (event) => {\n        event.preventDefault();\n        let newState = updateObject(this.state, {\n            step1Active: true, step2Active: false, step3Active: false\n        });\n        this.setState(newState);\n    }\n\n    step2ActiveHandler = () => {\n        let newState = updateObject(this.state, {\n            step1Active: false, step2Active: true, step3Active: false\n        });\n        this.setState(newState);\n    }\n\n    step3ActiveHandler = () => {\n        let newState = updateObject(this.state, {\n            step1Active: false, step2Active: false, step3Active: true\n        });\n        this.setState(newState);\n    }\n\n    confirmDeleteHandler = (event) => {\n        if (event.target.checked) {\n            this.setState(updateObject(this.state, { deletionConfirmed: true }));\n        } else {\n            this.setState(updateObject(this.state, { deletionConfirmed: false }));\n        }\n    }\n\n    deleteSubmissionHandler = (event) => {\n        event.preventDefault();\n        this.props.deleteSubmission(this.props.submission._id);\n    }\n\n    render() {\n        return (\n            <div className=\"content-wrapper\">\n                <section className=\"content-header\">\n                    <ContentHeader title=\"Thông tin chi tiết bài báo\">\n                        <li className=\"breadcrumb-item active\">Thông tin chi tiết bài báo</li>\n                    </ContentHeader>\n                </section>\n\n                <section className=\"content\">\n                    {!this.props.loading ? (\n                        <div className=\"card\">\n                            <div className=\"card-header\">\n                                {this.props.submission ? <h3 className=\"card-title\">{this.props.submission.title}</h3> : null}\n                                <div className=\"float-right\">\n                                    <button className=\"btn btn-tool\" onClick={this.refreshHandler}>\n                                        <i className=\"fas fa-sync-alt\" style={{ fontSize: '20px' }}></i>\n                                    </button>\n                                </div>\n                            </div>\n\n                            <div className=\"card-header p-0\">\n                                <ul className=\"nav nav-tabs\" id=\"custom-tabs-one-tab\" role=\"tablist\">\n                                    <li className=\"nav-item\">\n                                        <div className={this.state.step1Active ? 'nav-link active' : 'nav-link'}\n                                            onClick={this.step1ActiveHandler}>\n                                            <div className={this.state.step1Active ? 'text-custom' : 'text-secondary'}><b>Thông tin bài báo</b></div>\n                                        </div>\n                                    </li>\n                                    <li className=\"nav-item\">\n                                        <div className={this.state.step2Active ? 'nav-link active' : 'nav-link'}\n                                            onClick={this.step2ActiveHandler}>\n                                            <div className={this.state.step2Active ? 'text-custom' : 'text-secondary'}><b>Thông tin thẩm định</b></div>\n                                        </div>\n                                    </li>\n                                    {this.props.submission && this.props.submission.typeId.name === SUBMISSION_TYPES.PEER_REVIEW_RESEARCH.name && (\n                                        <li className=\"nav-item\">\n                                            <div className={this.state.step3Active ? 'nav-link active' : 'nav-link'}\n                                                onClick={this.step3ActiveHandler}>\n                                                {this.props.authorAssignment ? (\n                                                    <div className={this.state.step3Active ? 'text-custom' : 'text-secondary'}><b>Yêu cầu chỉnh sửa (1)</b></div>\n                                                ) : (\n                                                        <div className={this.state.step3Active ? 'text-custom' : 'text-secondary'}><b>Yêu cầu chỉnh sửa (0)</b></div>\n                                                    )}\n                                            </div>\n                                        </li>\n                                    )}\n                                </ul>\n                            </div>\n\n                            {this.props.submission ? (\n                                <div className=\"card-body\">\n                                    <div className=\"tab-content\" id=\"custom-tabs-one-tabContent\">\n                                        {/* ------------------Tab 1----------------- */}\n                                        <div className={this.state.step1Active ? 'tab-pane show active' : 'tab-pane'}>\n                                            {/* Row */}\n                                            <div className=\"row pt-2 border rounded\">\n                                                <div className=\"p-2 col-lg-12\">\n                                                    {this.props.editorAssignment ? (\n                                                        <EditorialBoard\n                                                            submission={this.props.submission}\n                                                            editorAssignment={this.props.editorAssignment}\n                                                            reviewerAssignments={this.props.editorAssignment.reviewerAssignmentId} />\n                                                    ) : (\n                                                            <EditorialBoard submission={this.props.submission} />\n                                                        )}\n                                                </div>\n                                            </div>\n                                            {/* Row */}\n                                            <div className=\"row pt-2\">\n                                                <div className=\"p-2 col-lg-8 border rounded\">\n                                                    {this.props.authorAssignment ? (\n                                                        <SubmissionInfor\n                                                            submission={this.props.submission}\n                                                            hasAuthorRevision={this.props.authorAssignment.authorRevisionId ? true : false} />\n                                                    ) : (\n                                                            <SubmissionInfor submission={this.props.submission} />\n                                                        )}\n                                                </div>\n                                                <div className=\"p-2 col-lg-4 border rounded\">\n                                                    <SubmissionFutherInfor submission={this.props.submission} />\n                                                    <SubmissionActions\n                                                        userId={this.props.userId}\n                                                        submission={this.props.submission}\n                                                        authorAssignment={this.props.authorAssignment} />\n                                                </div>\n                                            </div>\n                                        </div>\n                                        {/* ------------------Tab 2----------------- */}\n                                        <div className={this.state.step2Active ? 'tab-pane show active' : 'tab-pane'}>\n                                            <ReviewProcessInfor\n                                                submission={this.props.submission}\n                                                editorAssignment={this.props.editorAssignment}\n                                                chiefEditorSubmission={this.props.chiefEditorSubmission}\n                                                fetchDoughnutData={this.fetchDoughnutData} />\n                                        </div>\n                                        {/* ------------------Tab 3----------------- */}\n                                        <div className={this.state.step3Active ? 'tab-pane show active' : 'tab-pane'}>\n                                            {this.props.editorAssignment && this.props.authorAssignment ? (\n                                                <Aux>\n                                                    {/* Row */}\n                                                    <div className=\"row mt-2\">\n                                                        {/* Column */}\n                                                        <div className=\"p-2 col-lg-8 border rounded\">\n                                                            {!checkDueDate(this.props.authorAssignment.dueDate) ? (\n                                                                <div className=\"form-group ml-1 text-danger font-weight-bold\">\n                                                                    <i className=\"fas fa-times-circle\"></i> Yêu cầu chỉnh sửa bài báo đã hết hạn!\n                                                                </div>\n                                                            ) : null}\n                                                            <h6><i className=\"fas fa-info-circle\"></i> THÔNG TIN BẢN CHỈNH SỬA BÀI BÁO</h6>\n                                                            {this.props.authorAssignment.authorRevisionId ? (\n                                                                <RevisionDetail\n                                                                    authorRevision={this.props.authorAssignment.authorRevisionId}\n                                                                    step1Active={this.step1ActiveHandler} />\n                                                            ) : (\n                                                                    <div className=\"form-group ml-3\">\n                                                                        <div>Bạn chưa nộp bản chỉnh sửa bài báo.</div>\n                                                                    </div>\n                                                                )}\n                                                        </div>\n                                                        {/* Column */}\n                                                        <div className=\"p-2 col-lg-4 border rounded\">\n                                                            <h6><i className=\"fas fa-stream\"></i> TRẠNG THÁI</h6>\n                                                            {!this.props.authorAssignment.authorRevisionId ? (\n                                                                <Aux>\n                                                                    <div className=\"form-group text-center\">\n                                                                        <div className=\"badge-ol badge-ol-danger badge-outlined p-2 pr-4 pl-4\" style={{ fontSize: '16px' }}>\n                                                                            <i className=\"fas fa-close\"></i> Chưa nộp bản chỉnh sửa bài báo\n                                                                        </div>\n                                                                    </div>\n                                                                    <div className=\"form-group\">\n                                                                        {checkDueDate(this.props.authorAssignment.dueDate) ? (\n                                                                            <Aux>\n                                                                                <Link to={`/dashboard/revise-submission/${this.props.submission._id}`}>\n                                                                                    <div className=\"btn btn-outline-primary btn-block btn-flat\">\n                                                                                        <i className=\"fas fa-edit\"></i> Nộp bản chỉnh sửa bài báo\n                                                                                    </div>\n                                                                                </Link>\n                                                                            </Aux>\n                                                                        ) : (\n                                                                                <button\n                                                                                    type=\"button\"\n                                                                                    className=\"btn btn-outline-primary btn-block btn-flat\"\n                                                                                    onClick={() => toast.error('Đã hết thời hạn nộp bản chỉnh sửa bài báo!')}>\n                                                                                    <i className=\"fas fa-edit\"></i> Nộp bản chỉnh sửa bài báo\n                                                                                </button>\n                                                                            )}\n                                                                    </div>\n                                                                </Aux>\n                                                            ) : (\n                                                                    <Aux>\n                                                                        <div className=\"form-group text-center\">\n                                                                            <div className=\"badge-ol badge-ol-success badge-outlined p-2 pr-4 pl-4\" style={{ fontSize: '16px' }}>\n                                                                                <i className=\"fas fa-check\"></i> Đã nộp bản chỉnh sửa bài báo\n                                                                        </div>\n                                                                        </div>\n                                                                    </Aux>\n                                                                )}\n\n                                                            <AssignmentInfor\n                                                                submission={this.props.submission}\n                                                                authorAssignment={this.props.authorAssignment} />\n                                                            <SubmissionProcess\n                                                                submission={this.props.submission} />\n                                                        </div>\n                                                    </div>\n                                                </Aux>\n                                            ) : (\n                                                    <div>Chưa có yêu cầu chỉnh sửa bài báo từ biên tập viên.</div>\n                                                )}\n                                        </div>\n                                    </div>\n                                </div>\n                            ) : null}\n                        </div>\n                    ) : <Spinner />}\n                </section>\n                { this.props.submission && <SubmissionLogs logs={this.props.submission.submissionLogs} />}\n                <DeleteSubmission\n                    confirmDelete={this.confirmDeleteHandler}\n                    deletionConfirmed={this.state.deletionConfirmed}\n                    deleteSubmission={this.deleteSubmissionHandler} />\n            </div >\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        userId: state.auth.userId,\n        roleId: state.auth.role._id,\n        submission: state.submission.submission,\n        loading: state.submission.loading,\n        isSubmissionDeleted: state.submission.isSubmissionDeleted,\n        editors: state.review.editors,\n        editorAssignment: state.review.editorAssignment,\n        reviewers: state.review.reviewers,\n        authorAssignment: state.review.authorAssignment,\n        chiefEditorSubmission: state.review.chiefEditorSubmission\n    }\n};\n\nconst mapDispatchToProps = {\n    getSubmissionDetail,\n    deleteSubmission,\n    resetDeleteSubmissionState,\n    getEditorAssignmentBySubmission,\n    getAuthorAssignmentBySubmission,\n    getChiefEditorSubmission,\n    getMyNotifications\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SubmissionDetail);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport SubmissionInfor from '../Submission/SubmissionInfor/SubmissionInfor';\nimport SubmissionLogs from '../Submission/SubmissionLogs';\nimport Spinner from '../../UI/Spinner/Spinner';\nimport ContentHeader from '../Shared/ContentHeader';\nimport { getMyNotifications } from '../../../store/actions/authActions';\nimport { getSubmissionDetail } from '../../../store/actions/submissionActions';\nimport { getEditorAssignmentBySubmission, getChiefEditorSubmission, getAuthorAssignmentBySubmission } from '../../../store/actions/reviewActions';\nimport EditorialBoard from '../Submission/SubmissionInfor/EditorialBoard';\nimport SubmissionFutherInfor from '../Submission/SubmissionInfor/SubmissionFutherInfor';\nimport { getDecisionBadgeClassname, getDoughnutData, updateObject } from '../../../utils/utility';\nimport Aux from '../../../hoc/Auxiliary/Auxiliary';\nimport { SUBMISSION_TYPES } from '../../../utils/constant';\nimport ReviewProcessInfor from '../ReviewProcess/ReviewProcessInfor';\nclass SubmissionDetail extends Component {\n\n    state = {\n        step1Active: true,\n        step2Active: false,\n    }\n\n    componentDidMount() {\n        if (this.props.match.params.submissionId) {\n            this.props.getSubmissionDetail(this.props.match.params.submissionId);\n            this.props.getEditorAssignmentBySubmission(this.props.match.params.submissionId);\n            this.props.getAuthorAssignmentBySubmission(this.props.match.params.submissionId);\n            this.props.getChiefEditorSubmission(this.props.match.params.submissionId);\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.match.params.submissionId !== prevProps.match.params.submissionId) {\n            this.props.getSubmissionDetail(this.props.match.params.submissionId);\n            this.props.getEditorAssignmentBySubmission(this.props.match.params.submissionId);\n            this.props.getAuthorAssignmentBySubmission(this.props.match.params.submissionId);\n            this.props.getChiefEditorSubmission(this.props.match.params.submissionId);\n        }\n    }\n\n    refreshHandler = () => {\n        if (this.props.match.params.submissionId) {\n            this.props.getSubmissionDetail(this.props.match.params.submissionId);\n            this.props.getEditorAssignmentBySubmission(this.props.match.params.submissionId);\n            this.props.getAuthorAssignmentBySubmission(this.props.match.params.submissionId);\n            this.props.getChiefEditorSubmission(this.props.match.params.submissionId);\n            this.props.getMyNotifications();\n        }\n    }\n\n    fetchDoughnutData = (reviewerAssignments) => {\n        const data = getDoughnutData(reviewerAssignments);\n        return data;\n    }\n\n    step1ActiveHandler = (event) => {\n        event.preventDefault();\n        let newState = updateObject(this.state, {\n            step1Active: true, step2Active: false,\n        });\n        this.setState(newState);\n    }\n\n    step2ActiveHandler = () => {\n        let newState = updateObject(this.state, {\n            step1Active: false, step2Active: true,\n        });\n        this.setState(newState);\n    }\n\n    render() {\n        return (\n            <div className=\"content-wrapper\">\n                <section className=\"content-header\">\n                    <ContentHeader title=\"Thông tin chi tiết bào báo\">\n                        <li className=\"breadcrumb-item active\">Thông tin chi tiết bào báo</li>\n                    </ContentHeader>\n                </section>\n\n                <section className=\"content\">\n                    {!this.props.loading ? (\n                        <div className=\"card\">\n                            <div className=\"card-header\">\n                                {this.props.submission ? <h3 className=\"card-title\">{this.props.submission.title}</h3> : null}\n                                <div className=\"float-right\">\n                                    <button className=\"btn btn-tool\" onClick={this.refreshHandler}>\n                                        <i className=\"fas fa-sync-alt\" style={{ fontSize: '20px' }}></i>\n                                    </button>\n                                </div>\n                            </div>\n\n                            <div className=\"card-header p-0\">\n                                <ul className=\"nav nav-tabs\" id=\"custom-tabs-one-tab\" role=\"tablist\">\n                                    <li className=\"nav-item\">\n                                        <div className={this.state.step1Active ? 'nav-link active' : 'nav-link'}\n                                            onClick={this.step1ActiveHandler}>\n                                            <div className={this.state.step1Active ? 'text-custom' : 'text-secondary'}><b>Thông tin bài báo</b></div>\n                                        </div>\n                                    </li>\n                                    <li className=\"nav-item\">\n                                        <div className={this.state.step2Active ? 'nav-link active' : 'nav-link'}\n                                            onClick={this.step2ActiveHandler}>\n                                            <div className={this.state.step2Active ? 'text-custom' : 'text-secondary'}><b>Thông tin thẩm định</b></div>\n                                        </div>\n                                    </li>\n                                </ul>\n                            </div>\n\n                            {this.props.submission ? (\n                                <div className=\"card-body\">\n                                    <div className=\"tab-content\" id=\"custom-tabs-one-tabContent\">\n                                        {/* ------------------Tab 1----------------- */}\n                                        <div className={this.state.step1Active ? 'tab-pane show active' : 'tab-pane'}>\n                                            {/* Row */}\n                                            <div className=\"row\">\n                                                <div className=\"p-2 col-lg-12 border rounded\">\n                                                    {this.props.editorAssignment ? (\n                                                        <EditorialBoard\n                                                            submission={this.props.submission}\n                                                            editorAssignment={this.props.editorAssignment}\n                                                            reviewerAssignments={this.props.editorAssignment.reviewerAssignmentId} />\n                                                    ) : (\n                                                            <EditorialBoard\n                                                                submission={this.props.submission}\n                                                                editorAssignment={this.props.editorAssignment} />\n                                                        )}\n                                                </div>\n                                            </div>\n                                            {/* Row */}\n                                            <div className=\"row pt-2\">\n                                                <div className=\"p-2 col-lg-8 border rounded\">\n                                                    {this.props.authorAssignment ? (\n                                                        <SubmissionInfor\n                                                            submission={this.props.submission}\n                                                            hasAuthorRevision={this.props.authorAssignment.authorRevisionId ? true : false} />\n                                                    ) : (\n                                                            <SubmissionInfor submission={this.props.submission} />\n                                                        )}\n                                                </div>\n                                                <div className=\"p-2 col-lg-4 border rounded\">\n                                                    {!this.props.editorAssignment ? (\n                                                        <Aux>\n                                                            <h6><i className=\"fas fa-user\"></i> Chỉ định biên tập viên</h6>\n                                                            <div className=\"form-group\">\n                                                                <Link to={`/dashboard/chief-editor/assign-editor?submissionId=${this.props.submission._id}`}>\n                                                                    <button className=\"btn btn-outline-dark btn-block btn-flat\">\n                                                                        <i className=\"fas fa-user\"></i> {\" \"}\n                                                                        Chỉ định biên tập viên\n                                                                    </button>\n                                                                </Link>\n                                                            </div>\n                                                        </Aux>\n                                                    ) : null}\n                                                    {this.props.submission.typeId.name === SUBMISSION_TYPES.PEER_REVIEW_RESEARCH.name ? (\n                                                        <Aux>\n                                                            <h6><i className=\"fas fa-gavel\"></i> QUYẾT ĐỊNH XUẤT BẢN</h6>\n                                                            {this.props.chiefEditorSubmission ? (\n                                                                <div className=\"form-group ml-3\">\n                                                                    <span className={getDecisionBadgeClassname(this.props.chiefEditorSubmission.chiefEditorDecisionId.value)}>\n                                                                        {this.props.chiefEditorSubmission.chiefEditorDecisionId.decisionName}\n                                                                    </span>\n                                                                </div>\n                                                            ) : (\n                                                                    <Aux>\n                                                                        <div className=\"form-group\">\n                                                                            <Link to={`/dashboard/chief-editor/accept-submission/${this.props.submission._id}`}>\n                                                                                <button className=\"btn btn-outline-primary btn-block btn-flat\">\n                                                                                    <i className=\"fas fa-check\"></i> {\" \"}\n                                                                                Chấp nhận xuất bản\n                                                                             </button>\n                                                                            </Link>\n                                                                        </div>\n                                                                        <div className=\"form-group\">\n                                                                            <Link to={`/dashboard/chief-editor/decline-submission/${this.props.submission._id}`}>\n                                                                                <button className=\"btn btn-outline-danger btn-block btn-flat\">\n                                                                                    <i className=\"fas fa-times\"></i>{\" \"}\n                                                                                Từ chối bài báo\n                                                                            </button>\n                                                                            </Link>\n                                                                        </div>\n                                                                    </Aux>\n                                                                )}\n                                                        </Aux>\n                                                    ) : null}\n                                                    <SubmissionFutherInfor submission={this.props.submission} />\n                                                </div>\n                                            </div>\n                                        </div>\n                                        {/* ------------------Tab 2----------------- */}\n                                        <div className={this.state.step2Active ? 'tab-pane show active' : 'tab-pane'}>\n                                            <ReviewProcessInfor\n                                                submission={this.props.submission}\n                                                editorAssignment={this.props.editorAssignment}\n                                                chiefEditorSubmission={this.props.chiefEditorSubmission}\n                                                fetchDoughnutData={this.fetchDoughnutData} />\n                                        </div>\n                                    </div>\n                                </div>\n                            ) : null}\n                        </div>\n                    ) : <Spinner />}\n                </section>\n                {this.props.submission && <SubmissionLogs logs={this.props.submission.submissionLogs} />}\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        userId: state.auth.userId,\n        roleId: state.auth.role._id,\n        submission: state.submission.submission,\n        loading: state.submission.loading,\n        isSubmissionDeleted: state.submission.isSubmissionDeleted,\n        editors: state.review.editors,\n        editorAssignment: state.review.editorAssignment,\n        reviewers: state.review.reviewers,\n        authorAssignment: state.review.authorAssignment,\n        chiefEditorSubmission: state.review.chiefEditorSubmission\n    }\n};\n\nconst mapDispatchToProps = {\n    getSubmissionDetail,\n    getEditorAssignmentBySubmission,\n    getChiefEditorSubmission,\n    getAuthorAssignmentBySubmission,\n    getMyNotifications\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SubmissionDetail);","const getNameFromNameAndEmail = (nameAndEmail) => {\n    const fileds = nameAndEmail.split(\"|\");\n    const fullname = fileds[0];\n    return fullname\n}\n\nexport const assignEditorTemplate = (submisisonName, chiefEditorName, editorName) => {\n    const email =\n        '<p>Xin chào <strong>' + getNameFromNameAndEmail(editorName) + '</strong>.</p>' +\n        '<p>Ban biên tập tạp chí truy cập mở VNOJS xin được thông báo rằng bạn đã được chỉ định ' +\n        'vào vị trí biên tập viên chủ trì thẩm định bài báo <strong>' + submisisonName + '</strong></>' +\n        '. Bạn vui lòng truy cập vào hệ thống để xem chi tiết yêu cầu và chủ trì quá trình thẩm định.' +\n        ' Tiến trình thẩm định sẽ bắt đầu khi bạn xác nhận trên hệ thống.</p>' +\n        '<p>Chúng tôi tin rằng bạn là người phù hợp với vị trí biên tập viên cho bài báo này.</p>' +\n        '<p>Trân trọng <br/>Tổng biên tập</p>' +\n        '<p><strong>' + chiefEditorName + '</strong></p>';\n    return email;\n}\n\nexport const assignReviewerTemplate = (submisisonName, editorName, reviewerName) => {\n    const email =\n        '<p>Xin chào <strong>' + getNameFromNameAndEmail(reviewerName) + '</strong>.</p>' +\n        '<p>Ban biên tập tạp chí truy cập mở VNOJS xin được thông báo rằng bạn đã được chỉ định ' +\n        'vào vị trí thẩm định viên cho bài báo <strong>' + submisisonName + '</strong></>' +\n        '. Bạn vui lòng truy cập vào hệ thống để xem chi tiết yêu cầu và chủ trì quá trình thẩm định. Tiến' +\n        ' trình thẩm định sẽ bắt đầu khi bạn xác nhận trên hệ thống.</p>' +\n        '<p>Chúng tôi tin rằng bạn là người phù hợp với vị trí thẩm định viên cho bài báo này.</p>' +\n        '<p>Trân trọng <br/>Biên tập viên</p>' +\n        '<p><strong>' + editorName + '</strong></p>';\n    return email;\n}\n\nexport const requestRevisionTemplate = (submisisonName, url, editorName, authorName) => {\n    const email =\n        '<p>Xin chào <strong>' + authorName + '</strong>.</p>' +\n        '<p>Ban biên tập tạp chí truy cập mở VNOJS xin được thông báo rằng bạn nhận được yêu cầu chỉnh sửa bài báo ' +\n        '<strong>' + submisisonName + '</strong></>. Bạn có thể xem ý kiến đánh giá của ban biên tập về bài báo' +\n        ' <a href=\"' + url + '\"a> tại đây.</a></p>' +\n        '<p>Bạn vui lòng truy cập vào hệ thống để xem chi tiết yêu cầu và nộp lại bản chỉnh sửa bài báo ' +\n        'theo yêu cầu và nhận xét từ ban biên tập</p>' +\n        '<p>Trân trọng <br/>Biên tập viên</p>' +\n        '<p><strong>' + editorName + '</strong></p>';\n    return email;\n}\n\nexport const acceptSubmissionTemplate = (submisisonName, editorName, authorName) => {\n    const email =\n        '<p>Xin chào <strong>' + authorName + '</strong>.</p>' +\n        '<p>Ban biên tập tạp chí truy cập mở VNOJS xin trân trọng thông báo rằng bài báo ' +\n        '<strong>' + submisisonName + '</strong></> của bạn đã được chấp nhận xuất bản' +\n        '<p>Chúng tôi xin được chúc mừng và cảm ơn bạn. Hi vọng bạn sẽ có nhiều bài báo ' +\n        'nghiên cứu khoa học chất lượng hơn trong tương lai, đóng góp vào sự phát triển ' +\n        'chung của tạp chí.' +\n        '<p>Trân trọng <br/>Tổng biên tập</p>' +\n        '<p><strong>' + editorName + '</strong></p>';\n    return email;\n}\n\nexport const declineSubmissionTemplate = (submisisonName, url, editorName, authorName) => {\n    const email =\n        '<p>Xin chào <strong>' + authorName + '</strong>.</p>' +\n        '<p>Ban biên tập tạp chí truy cập mở VNOJS xin thông báo tới bạn rằng bài báo ' +\n        '<strong>' + submisisonName + '</strong></> của bạn đã bị từ chối xuất bản. ' +\n        'Bạn có thể xem lại nhận xét của ban biên tập tại <a href=\"' + url + '\"a>đây.</a></p>' +\n        '<p>Chúng tôi rất lấy làm tiếc vì quyết định này. Hi vọng bạn sẽ có nhiều bài báo ' +\n        'nghiên cứu khoa học chất lượng hơn trong tương lai, đóng góp vào sự phát triển ' +\n        'chung của tạp chí.' +\n        '<p>Trân trọng <br/>Tổng biên tập</p>' +\n        '<p><strong>' + editorName + '</strong></p>';\n    return email;\n}\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport ContentHeader from '../Shared/ContentHeader';\nimport DatePicker from 'react-datepicker';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { toast } from 'react-toastify';\nimport ConfirmDialog from '../../UI/ConfirmDialog/ConfirmDialog';\nimport Spinner from '../../UI/Spinner/Spinner';\nimport { updateObject, getDeadlineDate } from '../../../utils/utility';\nimport { connect } from 'react-redux';\nimport { getSubmissionDetail } from '../../../store/actions/submissionActions';\nimport { getAllEditors, assignEditor, resetEditorAssignmentState } from '../../../store/actions/reviewActions';\nimport Aux from '../../../hoc/Auxiliary/Auxiliary';\nimport { EditorState, ContentState } from 'draft-js';\nimport { Editor } from 'react-draft-wysiwyg';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nimport htmlToDraft from 'html-to-draftjs';\nimport { stateToHTML } from 'draft-js-export-html';\nimport { assignEditorTemplate } from '../../../utils/email-template';\nclass AssignEditor extends Component {\n\n    state = {\n        step1Active: true,\n        step2Active: false,\n        step3Active: false,\n        submissionId: '',\n        selectedEditorId: '',\n        selectedEditorName: '',\n        selectedEditorEmail: '',\n        dueDate: getDeadlineDate(7),\n        messageToEditor: 'Nội dung lời nhắn',\n        editorState: null\n    };\n\n    componentDidMount() {\n        if (this.props.location.search) {\n            const query = new URLSearchParams(this.props.location.search);\n            const submissionId = query.get('submissionId');\n            this.props.getAllEditors(submissionId);\n\n            this.setState(updateObject(this.state, { submissionId: submissionId }));\n\n            if (!this.props.submission) {\n                this.props.getSubmissionDetail(submissionId);\n            }\n        }\n\n    }\n\n    step1ActiveHandler = () => {\n        let newState = updateObject(this.state, {\n            step1Active: true, step2Active: false, step3Active: false\n        });\n        this.setState(newState);\n    }\n\n    step2ActiveHandler = () => {\n        let newState = updateObject(this.state, {\n            step1Active: false, step2Active: true, step3Active: false\n        });\n        this.setState(newState);\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        if (nextProps.error) {\n            this.props.resetEditorAssignmentState();\n        }\n\n        if (nextProps.isEditorAssigned && !nextProps.error) {\n            this.props.resetEditorAssignmentState();\n            toast.success(\"Chỉ định biên tập viên thành công!\");\n            this.setState(updateObject(this.state, {\n                step1Active: false, step2Active: false, step3Active: true\n            }));\n        }\n    }\n\n    editorSelectedHandler = (event) => {\n        // Text Editor\n        const contentBlock = htmlToDraft(assignEditorTemplate(this.props.submission.title,\n            this.props.ceFullname, event.target.id));\n        let editorState = null;\n        if (contentBlock) {\n            const contentState = ContentState.createFromBlockArray(contentBlock.contentBlocks);\n            editorState = EditorState.createWithContent(contentState);\n\n        }\n        const nameAndEmail = event.target.id;\n        const fileds = nameAndEmail.split(\"|\");\n        const fullname = fileds[0];\n        const email = fileds[1];\n\n        this.setState(updateObject(this.state, {\n            editorState: editorState,\n            selectedEditorId: event.target.value,\n            selectedEditorName: fullname,\n            selectedEditorEmail: email\n        }));\n    }\n\n    setDueDateHandler = (date) => {\n        this.setState(updateObject(this.state, { dueDate: date }));\n    }\n\n    setMessageToEditorHandler = (event) => {\n        this.setState(updateObject(this.state, { messageToEditor: event.target.value }));\n    }\n\n    confirmSubmitHandler = () => {\n        const htmlContent = stateToHTML(this.state.editorState.getCurrentContent());\n        const reqBody = {\n            submissionId: this.state.submissionId,\n            editorId: this.state.selectedEditorId,\n            dueDate: this.state.dueDate,\n            message: this.state.messageToEditor,\n            editorEmail: this.state.selectedEditorEmail,\n            htmlContent: htmlContent\n        };\n        this.props.assignEditor(reqBody);\n    }\n\n    onEditorStateChange = (editorState) => {\n        this.setState(updateObject(this.state, { editorState: editorState }));\n    };\n\n    render() {\n        return (\n            <Aux>\n                <div className=\"content-wrapper\">\n                    <section className=\"content-header\">\n                        <ContentHeader title=\"Chỉ định biên tập viên\">\n                            <li className=\"breadcrumb-item active\">Assign Editor</li>\n                        </ContentHeader>\n                    </section>\n\n                    <section className=\"content\">\n                        <div className=\"container-fluid\">\n                            <div className=\"col-md-12\">\n                                <div className=\"card card-dark card-tabs\">\n                                    <div className=\"card-header p-0 pt-1\">\n                                        <ul className=\"nav nav-tabs\" id=\"custom-tabs-one-tab\" role=\"tablist\">\n                                            <li className=\"nav-item\">\n                                                <div className={this.state.step1Active ? 'nav-link active' : 'nav-link'}>\n                                                    1. Lựa chọn biên tập viên\n                                                </div>\n                                            </li>\n                                            <li className=\"nav-item\">\n                                                <div className={this.state.step2Active ? 'nav-link active' : 'nav-link'}>\n                                                    2. Chi tiết yêu cầu\n                                                </div>\n                                            </li>\n                                            <li className=\"nav-item\">\n                                                <div className={this.state.step3Active ? 'nav-link active' : 'nav-link'}>\n                                                    3. Hoàn thành\n                                                </div>\n                                            </li>\n                                        </ul>\n                                    </div>\n                                    <div className=\"card-body\">\n                                        <div className=\"tab-content\" id=\"custom-tabs-one-tabContent\">\n                                            <div className={this.state.step1Active ? 'tab-pane show active' : 'tab-pane'}>\n                                                <div className=\"input-group input-group-sm mb-2\" style={{ width: '300px' }}>\n                                                    <input type=\"text\" className=\"form-control\" placeholder=\"Tìm kiếm\" />\n                                                    <div className=\"input-group-append\">\n                                                        <button type=\"submit\" className=\"btn btn-default btn-flat\">\n                                                            <i className=\"fas fa-search\"></i>\n                                                        </button>\n                                                    </div>\n                                                </div>\n                                                {this.props.editors.length > 0 ? (\n                                                    <div className=\"card-body table-responsive p-0\" style={{ height: '300px' }}>\n                                                        <table className=\"table table-head-fixed text-nowrap\">\n                                                            <thead>\n                                                                <tr>\n                                                                    <th>Chọn</th>\n                                                                    <th>Biên tập viên</th>\n                                                                    <th className=\"text-center\">Đã xử lý</th>\n                                                                    <th className=\"text-center\">Đang xử lý</th>\n                                                                    <th className=\"text-center\">Độ phù hợp</th>\n                                                                </tr>\n                                                            </thead>\n                                                            <tbody>\n                                                                {this.props.editors.map(editor => (\n                                                                    <tr key={editor._id}>\n                                                                        <td>\n                                                                            <div className=\"radio\" onChange={this.editorSelectedHandler}>\n                                                                                <label>\n                                                                                    <input\n                                                                                        value={editor._id}\n                                                                                        type=\"radio\"\n                                                                                        id={editor.lastname + \" \" + editor.firstname + \"|\" + editor.email}\n                                                                                        name=\"editor\" />\n                                                                                </label>\n                                                                            </div>\n                                                                        </td>\n                                                                        <td>\n                                                                            <Link className=\"text-primary\" to=\"#\">{editor.lastname} {editor.firstname}</Link>\n                                                                        </td>\n                                                                        <td className=\"text-center\">{editor.handled}</td>\n                                                                        <td className=\"text-center\">{editor.handling}</td>\n                                                                        <td className=\"text-center\">100%</td>\n                                                                    </tr>\n                                                                ))}\n                                                            </tbody>\n                                                        </table>\n                                                    </div>\n                                                ) : <Spinner />}\n                                                <button\n                                                    className=\"btn btn-outline-primary mt-3 btn-flat\"\n                                                    disabled={this.state.selectedEditorId === ''}\n                                                    onClick={this.step2ActiveHandler}>Lựa chọn</button>\n                                                {this.props.submission && (\n                                                    <Link to={`/dashboard/submission/${this.props.submission._id}`}>\n                                                        <button className=\"btn btn-outline-danger mt-3 ml-2 btn-flat\">Hủy</button>\n                                                    </Link>\n                                                )}\n                                            </div>\n                                            <div className={this.state.step2Active ? 'tab-pane show active' : 'tab-pane'}>\n                                                <div className=\"form-group\">\n                                                    <h6>Thời hạn xử lý*</h6>\n                                                    <DatePicker className=\"form-control\"\n                                                        showTimeSelect\n                                                        minDate={getDeadlineDate(7)}\n                                                        selected={this.state.dueDate}\n                                                        onChange={date => this.setDueDateHandler(date)}\n                                                        dateFormat=\"dd/MM/yyyy\" />\n                                                </div>\n                                                <div className=\"form-group\">\n                                                    <h6>Gửi Email tới biên tập viên*</h6>\n                                                    <p><span className=\"text-dark\">Địa chỉ email:</span> {this.state.selectedEditorEmail}</p>\n                                                    <Editor\n                                                        editorState={this.state.editorState}\n                                                        wrapperClassName=\"wrapper-class\"\n                                                        editorClassName=\"form-control\"\n                                                        toolbarClassName=\"toolbar-class\"\n                                                        onEditorStateChange={this.onEditorStateChange} />\n                                                    {/* <textarea\n                                                        type=\"text\"\n                                                        name=\"noti_and_email\"\n                                                        className=\"form-control\"\n                                                        defaultValue={this.state.emailToEditor}\n                                                        onChange={this.setEmailToEditorHandler} /> */}\n                                                </div>\n                                                <div className=\"form-group\">\n                                                    <h6>Lời nhắn</h6>\n                                                    <textarea\n                                                        type=\"text\"\n                                                        name=\"message\"\n                                                        className=\"form-control\"\n                                                        defaultValue={this.state.messageToEditor}\n                                                        onChange={this.setMessageToEditorHandler} />\n                                                </div>\n                                                <div>\n                                                    <button\n                                                        type=\"button\"\n                                                        className=\"btn btn-outline-primary btn-flat\"\n                                                        data-toggle=\"modal\"\n                                                        data-target=\"#confirmDialogModal\">Xác nhận</button>\n                                                    <button\n                                                        className=\"btn btn-outline-danger ml-2 btn-flat\"\n                                                        onClick={this.step1ActiveHandler}>Quay lại</button>\n                                                </div>\n                                            </div>\n                                            <div className={this.state.step3Active ? 'tab-pane show active' : 'tab-pane'}>\n                                                <h4>Chỉ định biên tập viên thành công.</h4>\n                                                {this.props.submission ? (\n                                                    <div className=\"ml-2\">Bạn đã chỉ định biên tập viên <Link to=\"#\" className=\"text-primary\">{this.state.selectedEditorName}</Link> chủ trì quá trình\n                                                    thẩm định bài báo <b>{this.props.submission.title}</b> của tác giả <Link to=\"\" className=\"text-primary\">{this.props.submission.authorId.firstname} {this.props.submission.authorId.lastname}.</Link></div>\n                                                ) : null}\n                                                <h4 className=\"mt-3\">Bây giờ, bạn có thể:</h4>\n                                                {this.props.submission ? (\n                                                    <div className=\"ml-2\">\n                                                        <i className=\"fa fa-eye\"></i>\n                                                        {\" \"}<Link to={`/dashboard/submission/${this.props.submission._id}`} className=\"text-primary\">\n                                                            Theo dõi quá trình thẩm định.\n                                                    </Link>.\n                                                    </div>\n                                                ) : null}\n                                                <div className=\"ml-2\">\n                                                    <i className=\"fa fa-home\"></i>\n                                                    {\" \"} <Link to=\"/dashboard\" className=\"text-primary\">Trở về trang chủ.</Link>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </section>\n                </div>\n                <ConfirmDialog\n                    title=\"Xác nhận\"\n                    message=\"Chỉ định biên tập viên cho bài báo?\"\n                    confirm={this.confirmSubmitHandler} />\n                {this.props.error ? toast.error('Error: ' + this.props.error) : null}\n            </Aux>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        ceFullname: state.auth.fullname,\n        submission: state.submission.submission,\n        editors: state.review.editors,\n        isEditorAssigned: state.review.isEditorAssigned,\n        message: state.review.message,\n        error: state.review.error\n    };\n};\n\nconst mapDispatchToProps = {\n    getAllEditors,\n    getSubmissionDetail,\n    assignEditor,\n    resetEditorAssignmentState\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AssignEditor);","import React from 'react';\nimport Aux from '../../../../hoc/Auxiliary/Auxiliary';\nimport { getDecisionBadgeClassname, getFormattedDate } from '../../../../utils/utility';\n\nconst EditorSubmissionDetail = (props) => {\n    return (\n        <Aux>\n            {props.editorSubmission ? (\n                <Aux>\n                    <div className=\"form-group ml-3\">\n                        <label>Quyết định</label><br />\n                        <span className={getDecisionBadgeClassname(props.editorSubmission.editorDecisionId.value) + \" ml-4\"}>\n                            {props.editorSubmission.editorDecisionId.decisionName}\n                        </span>\n                    </div>\n                    <div className=\"form-group ml-3\">\n                        <label>Ý kiến</label>\n                        <p className=\"ml-4\">{props.editorSubmission.content}</p>\n                    </div>\n                    <div className=\"form-group ml-3\">\n                        <label>File đính kèm</label>\n                        <p className=\"ml-4\">\n                            <i className=\"fa fa-paperclip fa-lg\"></i>\n                            {props.editorSubmission.attachmentFile ? (\n                                <a href={props.editorSubmission.attachmentUrl} className=\"text-primary\" target=\"_blank\" rel=\"noopener noreferrer\">\n                                    {\" \"}{props.editorSubmission.attachmentFile}\n                                </a>\n                            ) : \" Không có file đính kèm.\"}\n                        </p>\n                    </div>\n                    <div className=\"form-group ml-3\">\n                        <label>Ngày gửi</label>\n                        <p className=\"ml-4\">{getFormattedDate(props.editorSubmission.createdAt)}</p>\n                    </div>\n                </Aux>\n            ) : null}\n        </Aux>\n    );\n};\n\nexport default EditorSubmissionDetail;","import React from 'react';\nimport Aux from '../../../../hoc/Auxiliary/Auxiliary';\n\nconst CreateEditorSubmisison = (props) => {\n    return (\n        <Aux>\n            <h6><i className=\"fas fa-paper-plane\"></i> NỘP Ý KIẾN THẨM ĐỊNH</h6>\n            <div className=\"card-body\">\n                {props.editorDecisions ? (\n                    <div className=\"form-group\">\n                        <label>Quyết định*</label>\n                        <select\n                            name=\"decisionId\"\n                            className=\"custom-select form-control\"\n                            onChange={props.inputChangeHandler}\n                        >\n                            {props.editorDecisions.map(decision => (\n                                <option key={decision._id} value={decision._id}>\n                                    {decision.decisionName}\n                                </option>\n                            ))}\n                        </select>\n                    </div>\n                ) : null}\n                <div className=\"form-group\">\n                    <label>Ý kiến*</label>\n                    <textarea\n                        type=\"text\"\n                        name=\"content\"\n                        className={!props.controls.content.valid && props.controls.content.touched ? \"form-control-error\" : \"form-control\"}\n                        placeholder={props.controls.content.elementConfig.placeholder}\n                        defaultValue={props.controls.content.value}\n                        onChange={props.inputChangeHandler} />\n                    {!props.controls.content.valid && props.controls.content.touched ?\n                        <p className=\"form-control-error-msg\">Nhận xét không hợp lệ!</p> : null}\n                </div>\n                <div className=\"form-group\">\n                    <label>File đính kèm</label>\n                    <div className=\"input-group\">\n                        <div className=\"custom-file\">\n                            <input\n                                type=\"file\"\n                                name=\"attachment\"\n                                className=\"custom-file-input\"\n                                onChange={props.inputChangeHandler} />\n                            {!props.controls.attachment.valid && props.controls.attachment.touched ?\n                                <p className=\"form-control-error-msg\">File tải lên không hợp lệ!</p> : null}\n                            <label className=\"custom-file-label\" htmlFor=\"coverImage\">{props.controls.attachment.filename}</label>\n                        </div>\n                    </div>\n                    {props.fileUploading ? (\n                        <div className=\"input-group\">\n                            <div className=\"spinner-border text-primary mt-2\" role=\"status\" style={{ width: '25px', height: '25px' }}>\n                            </div>\n                            <div className=\"mt-2 ml-2 text-secondary\" style={{ fontStyle: 'italic' }}>Đang tải lên...</div>\n                        </div>\n                    ) : null}\n                </div>\n            </div>\n            <div className=\"card-footer\">\n                <button\n                    type=\"button\"\n                    className=\"btn btn-outline-primary btn-flat\"\n                    data-toggle=\"modal\"\n                    data-target=\"#confirmDialogModal\"\n                    disabled={!props.formIsValid}> Nộp kết luận</button>\n            </div>\n        </Aux>\n    );\n};\n\nexport default CreateEditorSubmisison;","import React from 'react';\nimport Aux from '../../../../hoc/Auxiliary/Auxiliary';\n\nconst EditEditorSubmission = (props) => {\n    return (\n        <Aux>\n            <h6><i className=\"fas fa-edit\"></i> CHỈNH SỬA Ý KIẾN THẨM ĐỊNH</h6>\n            <div className=\"card-body\">\n                {props.editorDecisions ? (\n                    <div className=\"form-group\">\n                        <label>Quyết định*</label>\n                        <select\n                            name=\"decisionId\"\n                            className=\"custom-select form-control\"\n                            onChange={props.inputChangeHandler}\n                        >\n                            <option value=\"\" hidden>{props.controls.decisionId.decisionName}</option>\n                            {props.editorDecisions.map(decision => (\n                                <option key={decision._id} value={decision._id}>\n                                    {decision.decisionName}\n                                </option>\n                            ))}\n                        </select>\n                    </div>\n                ) : null}\n                <div className=\"form-group\">\n                    <label>Ý kiến*</label>\n                    <textarea\n                        type=\"text\"\n                        name=\"content\"\n                        className={!props.controls.content.valid && props.controls.content.touched ? \"form-control-error\" : \"form-control\"}\n                        placeholder={props.controls.content.elementConfig.placeholder}\n                        defaultValue={props.controls.content.value}\n                        onChange={props.inputChangeHandler} />\n                    {!props.controls.content.valid && props.controls.content.touched ?\n                        <p className=\"form-control-error-msg\">Nhận xét không hợp lệ!</p> : null}\n                </div>\n                <div className=\"form-group\">\n                    <label>File đính kèm</label>\n                    <div className=\"input-group\">\n                        <div className=\"custom-file\">\n                            <input\n                                type=\"file\"\n                                name=\"attachment\"\n                                className=\"custom-file-input\"\n                                onChange={props.inputChangeHandler} />\n                            {!props.controls.attachment.valid && props.controls.attachment.touched ?\n                                <p className=\"form-control-error-msg\">File tải lên không hợp lệ!</p> : null}\n                            <label className=\"custom-file-label\" htmlFor=\"coverImage\">{props.controls.attachment.filename}</label>\n                        </div>\n                    </div>\n                    {props.fileUploading ? (\n                        <div className=\"input-group\">\n                            <div className=\"spinner-border text-primary mt-2\" role=\"status\" style={{ width: '25px', height: '25px' }}>\n                            </div>\n                            <div className=\"mt-2 ml-2 text-secondary\" style={{ fontStyle: 'italic' }}>Đang tải lên...</div>\n                        </div>\n                    ) : null}\n                </div>\n            </div>\n            <div className=\"card-footer\">\n                <button\n                    type=\"button\"\n                    className=\"btn btn-outline-primary btn-flat\"\n                    data-toggle=\"modal\"\n                    data-target=\"#confirmDialogModal\"\n                    disabled={!props.formIsValid}> Chỉnh sửa ý kiến</button>\n                <button\n                    type=\"button\"\n                    className=\"btn btn-outline-danger ml-2 btn-flat\"\n                    onClick={props.cancelEdit}>Hủy</button>\n            </div>\n        </Aux>\n    );\n};\n\nexport default EditEditorSubmission;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Aux from '../../../../hoc/Auxiliary/Auxiliary';\nimport { checkDueDate, getFormattedDate } from '../../../../utils/utility';\n\nconst AssignmentInfor = (props) => {\n    return (\n        <Aux>\n            <div className=\"form-group pt-3\">\n                <h6><i className=\"fas fa-tasks\"></i> YÊU CẦU THẨM ĐỊNH</h6>\n            </div>\n            <div className=\"form-group ml-3\">\n                <label>Nguời giao</label>\n                <div className=\"ml-4\">\n                    <i className=\"fas fa-user text-dark\"></i> {\" \"}\n                    <Link to=\"#\" className=\"text-primary\">\n                        {props.editorAssignment.chiefEditorId.lastname} {props.editorAssignment.chiefEditorId.firstname}\n                    </Link>\n                    {\" \"}<div className=\"badge-ol badge-ol-danger badge-outlined mb-1\">Tổng biên tập</div>\n                </div>\n            </div>\n            <div className=\"form-group ml-3\">\n                <label>Ngày giao</label>\n                <div className=\"ml-4\">\n                    {getFormattedDate(props.editorAssignment.createdAt)}\n                </div>\n            </div>\n            <div className=\"form-group ml-3\">\n                <label>Thời hạn xử lý</label>\n                <div className=\"ml-4\">\n                    {getFormattedDate(props.editorAssignment.dueDate)} {\" \"}\n                    {!checkDueDate(props.editorAssignment.dueDate) ? (\n                        <div className=\"badge-ol badge-ol-danger mb-1\">Hết hạn xử lý</div>\n                    ) : null}\n                </div>\n            </div>\n        </Aux>\n    );\n};\n\nexport default AssignmentInfor;","import React from 'react';\nimport DatePicker from 'react-datepicker';\nimport Aux from '../../../../hoc/Auxiliary/Auxiliary';\nimport { getDeadlineDate } from '../../../../utils/utility';\nimport { Editor } from 'react-draft-wysiwyg';\n\nconst RequestRevision = (props) => {\n    return (\n        <Aux>\n            <h6><i className=\"fas fa-paper-plane\"></i> YÊU CẦU TÁC GIẢ CHỈNH SỬA BÀI BÁO</h6>\n            <div className=\"card-body\">\n                <div className=\"form-group\">\n                    <label>Thời hạn xử lý*</label> <br />\n                    <DatePicker className=\"form-control\"\n                        showTimeSelect\n                        minDate={getDeadlineDate(7)}\n                        selected={props.dueDate}\n                        onChange={date => props.setDueDate(date)}\n                        dateFormat=\"dd/MM/yyyy\" />\n                </div>\n                <div className=\"form-group\">\n                    <label>Gửi Email tới tác giả*</label>\n                    <p><span className=\"text-dark\">Địa chỉ email:</span> {props.authorEmail}</p>\n                    <Editor\n                        editorState={props.editorState}\n                        wrapperClassName=\"wrapper-class\"\n                        editorClassName=\"form-control\"\n                        toolbarClassName=\"toolbar-class\"\n                        onEditorStateChange={props.onEditorStateChange} />\n                </div>\n                <div className=\"form-group\">\n                    <label>Lời nhắn</label>\n                    <textarea\n                        type=\"text\"\n                        name=\"message\"\n                        className=\"form-control\"\n                        defaultValue={props.messageToAuthor}\n                        onChange={props.setMessage} />\n                </div>\n                <div>\n                    <button\n                        type=\"button\"\n                        className=\"btn btn-outline-primary btn-flat\"\n                        data-toggle=\"modal\"\n                        data-target=\"#confirmDialogModal\">Gửi yêu cầu</button>\n                </div>\n            </div>\n        </Aux>\n    );\n};\n\nexport default RequestRevision;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Aux from '../../../../hoc/Auxiliary/Auxiliary';\nimport { getFormattedDate } from '../../../../utils/utility';\n\nconst AuthorAssignment = (props) => {\n    return (\n        <Aux>\n            {props.authorAssignment ? (\n                <Aux>\n                    <div className=\"form-group ml-3\">\n                        <label>Trạng thái</label><br />\n                        {props.authorAssignment.authorRevisionId ? (\n                            <Aux>\n                                <span className=\"decision-success ml-4\">\n                                    Tác giả đã nộp bản chỉnh sửa bài báo\n                                </span> <br />\n                                <div className=\"p-1\"></div>\n                                <div className=\"text-primary ml-4\" style={{ cursor: 'pointer' }} onClick={props.step1ActiveHandler}>\n                                    <u>Xem bản chỉnh sửa</u>\n                                </div>\n                            </Aux>\n                        ) : (\n                            <span className=\"decision-danger ml-4\">\n                                Tác giả chưa nộp bản chỉnh sửa bài báo\n                            </span>\n                        )}\n                    </div>\n                    <div className=\"form-group ml-3\">\n                        <label>Người gửi</label>\n                        <Link to=\"#\">\n                            <div className=\"text-primary ml-3\"><i className=\"fas fa-user text-dark\"></i> {\" \"}\n                                {props.authorAssignment.editorId.lastname} {props.authorAssignment.editorId.firstname}\n                            </div>\n                        </Link>\n                    </div>\n                    <div className=\"form-group ml-3\">\n                        <label>Lời nhắn</label>\n                        <p className=\"ml-4\">{props.authorAssignment.message}</p>\n                    </div>\n                    <div className=\"form-group ml-3\">\n                        <label>Ngày gửi yêu cầu</label>\n                        <p className=\"ml-4\">{getFormattedDate(props.authorAssignment.createdAt)}</p>\n                    </div>\n                    <div className=\"form-group ml-3\">\n                        <label>Hạn nộp bản chỉnh sửa</label>\n                        <p className=\"ml-4\">{getFormattedDate(props.authorAssignment.dueDate)}</p>\n                    </div>\n                </Aux>\n            ) : null}\n        </Aux>\n    );\n};\n\nexport default AuthorAssignment;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport Aux from '../../../hoc/Auxiliary/Auxiliary';\nimport SubmissionLogs from '../Submission/SubmissionLogs';\nimport Spinner from '../../UI/Spinner/Spinner';\nimport ContentHeader from '../Shared/ContentHeader';\nimport SubmissionInfor from '../Submission/SubmissionInfor/SubmissionInfor';\nimport EditorialBoard from '../Submission/SubmissionInfor/EditorialBoard';\nimport EditorSubmissionDetail from './EditorSubmission/EditorSubmisisonDetail';\nimport CreateEditorSubmission from './EditorSubmission/CreateEditorSubmisison';\nimport EditEditorSubmission from './EditorSubmission/EditEditorSubmission';\nimport { getMyNotifications } from '../../../store/actions/authActions';\nimport { getSubmissionDetail, getEditorDecisions } from '../../../store/actions/submissionActions';\nimport {\n    getEditorAssignmentBySubmission,\n    createEditorSubmission,\n    resetCreateEditorSubmissionState,\n    editEditorSubmission,\n    resetEditEditorSubmissionState,\n    requestAuthorRevision,\n    resetRequestAuthorRevisionState,\n    getAuthorAssignmentBySubmission,\n    getChiefEditorSubmission\n} from '../../../store/actions/reviewActions';\nimport AssignmentInfor from './AssigmentInfor/AssignmentInfor';\nimport { checkDueDate, getDeadlineDate, getDecisionBadgeClassname, getDoughnutData, updateObject } from '../../../utils/utility';\nimport ConfirmDialog from '../../UI/ConfirmDialog/ConfirmDialog';\nimport { toast } from 'react-toastify';\nimport { createReviewInputControls, editReviewInputControls } from '../../../utils/input-controls';\nimport { createReviewInputChangeHandler, editReviewInnputChangeHandler } from '../../../utils/input-change';\nimport RequestRevision from './RequestAuthorRevision/RequestRevision';\nimport AuthorAssignment from './RequestAuthorRevision/AuthorAssignment';\nimport SubmissionProcess from '../Submission/SubmissionProcess/SubmissionProcess';\nimport { EditorState, ContentState } from 'draft-js';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nimport htmlToDraft from 'html-to-draftjs';\nimport { requestRevisionTemplate } from '../../../utils/email-template';\nimport { SUBMISSION_TYPES } from '../../../utils/constant';\nimport ReviewProcessInfor from '../ReviewProcess/ReviewProcessInfor';\nimport { stateToHTML } from 'draft-js-export-html';\nclass EditorAssignment extends Component {\n\n    state = {\n        step1Active: true,\n        step2Active: false,\n        step3Active: false,\n        step4Active: false,\n        controls: createReviewInputControls,\n        controls_edit: editReviewInputControls,\n        formIsValid: false,\n        formIsValid_edit: true,\n        canEdit: false,\n        // request author revision\n        canRequestAuthorRevision: false,\n        dueDate: getDeadlineDate(7),\n        messageToAuthor: 'Nội dung lời nhắn',\n        editorState: null\n\n    }\n\n    componentDidMount() {\n        if (this.props.match.params.submissionId) {\n            this.props.getSubmissionDetail(this.props.match.params.submissionId);\n            this.props.getEditorAssignmentBySubmission(this.props.match.params.submissionId);\n            this.props.getEditorDecisions();\n            this.props.getAuthorAssignmentBySubmission(this.props.match.params.submissionId);\n            this.props.getChiefEditorSubmission(this.props.match.params.submissionId);\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.match.params.submissionId !== prevProps.match.params.submissionId) {\n            this.props.getSubmissionDetail(this.props.match.params.submissionId);\n            this.props.getEditorAssignmentBySubmission(this.props.match.params.submissionId);\n            this.props.getAuthorAssignmentBySubmission(this.props.match.params.submissionId);\n            this.props.getChiefEditorSubmission(this.props.match.params.submissionId);\n        }\n        if (this.props.isEditorSubmissionEdited) {\n            window.scrollTo(0, 0);\n            this.props.resetEditEditorSubmissionState();\n            this.setState(updateObject(this.state, { canEdit: false }));\n        }\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        if (nextProps.submission) {\n            // Text Editor\n            const url = \"https://vnojs.online/dashboard/submission/\" + nextProps.submission._id;\n            const contentBlock = htmlToDraft(requestRevisionTemplate(nextProps.submission.title, url,\n                this.props.editorFullname, nextProps.submission.authorId.lastname + \" \" + nextProps.submission.authorId.firstname));\n            let editorState = null;\n            if (contentBlock) {\n                const contentState = ContentState.createFromBlockArray(contentBlock.contentBlocks);\n                editorState = EditorState.createWithContent(contentState);\n\n            }\n            this.setState(updateObject(this.state, {\n                editorState: editorState\n            }));\n        }\n        if (nextProps.error) {\n            this.props.resetCreateEditorSubmissionState();\n            this.props.resetEditEditorSubmissionState();\n            this.props.resetRequestAuthorRevisionState();\n        }\n        if (nextProps.isEditorSubmissionCreated && !nextProps.error) {\n            this.props.resetCreateEditorSubmissionState();\n            toast.success(\"Gửi kết luận thẩm định thành công!\");\n            this.props.getEditorAssignmentBySubmission(this.props.match.params.submissionId);\n        }\n        if (nextProps.isEditorSubmissionEdited && !nextProps.error) {\n            this.props.resetEditEditorSubmissionState();\n            toast.success(\"Chỉnh sửa kết luận thẩm định thành công!\");\n            this.props.getEditorAssignmentBySubmission(this.props.match.params.submissionId);\n            this.setState(updateObject(this.state, { canEdit: false }));\n        }\n        if (nextProps.isRequestAuthorRevisionCreated && !nextProps.error) {\n            this.props.resetRequestAuthorRevisionState();\n            toast.success(\"Yêu cầu tác giả chỉnh sửa bài báo thành công!\");\n            this.props.getAuthorAssignmentBySubmission(this.props.match.params.submissionId);\n        }\n    }\n\n    refreshHandler = () => {\n        if (this.props.match.params.submissionId) {\n            this.props.getSubmissionDetail(this.props.match.params.submissionId);\n            this.props.getEditorAssignmentBySubmission(this.props.match.params.submissionId);\n            // this.props.getEditorDecisions();\n            this.props.getAuthorAssignmentBySubmission(this.props.match.params.submissionId);\n            this.props.getMyNotifications();\n            this.props.getChiefEditorSubmission(this.props.match.params.submissionId);\n        }\n    }\n\n    fetchDoughnutData = (reviewerAssignments) => {\n        const data = getDoughnutData(reviewerAssignments);\n        return data;\n    }\n\n    step1ActiveHandler = (event) => {\n        event.preventDefault();\n        let newState = updateObject(this.state, {\n            step1Active: true, step2Active: false, step3Active: false, step4Active: false,\n            canRequestAuthorRevision: false\n        });\n        this.setState(newState);\n    }\n\n    step2ActiveHandler = () => {\n        let newState = updateObject(this.state, {\n            step1Active: false, step2Active: true, step3Active: false, step4Active: false,\n            canRequestAuthorRevision: false\n        });\n        this.setState(newState);\n    }\n\n    step3ActiveHandler = () => {\n        let newState = updateObject(this.state, {\n            step1Active: false, step2Active: false, step3Active: true, step4Active: false,\n            canRequestAuthorRevision: false\n        });\n        this.setState(newState);\n    }\n\n    step4ActiveHandler = () => {\n        let newState = updateObject(this.state, {\n            step1Active: false, step2Active: false, step3Active: false, step4Active: true,\n            canRequestAuthorRevision: true\n        });\n        this.setState(newState);\n    }\n\n    inputChangeHandler = (event) => {\n        event.preventDefault();\n        const { updatedControls, formIsValid } = createReviewInputChangeHandler(event, this.state);\n        this.setState({\n            controls: updatedControls,\n            formIsValid: formIsValid\n        });\n    };\n\n    inputChangeHandler_edit = (event) => {\n        event.preventDefault();\n        const { updatedControls, formIsValid } = editReviewInnputChangeHandler(event, this.state);\n        this.setState({\n            controls_edit: updatedControls,\n            formIsValid_edit: formIsValid\n        });\n    };\n\n    // Edit Review\n    openEditReviewPageHandler = (event, editorSubmission) => {\n        event.preventDefault();\n        // Init Control Edit Values\n        const filename = editorSubmission.attachmentFile ? editorSubmission.attachmentFile : \"Chọn File\";\n        const updatedControls = updateObject(this.state.controls_edit, {\n            decisionId: updateObject(this.state.controls_edit.decisionId, {\n                value: editorSubmission.editorDecisionId._id,\n                decisionName: editorSubmission.editorDecisionId.decisionName\n            }),\n            content: updateObject(this.state.controls_edit.content, { value: editorSubmission.content }),\n            attachment: updateObject(this.state.controls_edit.attachment, { filename: filename })\n        });\n        this.setState(updateObject(this.state, {\n            canEdit: true,\n            controls_edit: updatedControls\n        }));\n    }\n\n    blockEditReviewPageHandler = () => {\n        this.setState(updateObject(this.state, {\n            canEdit: false\n        }));\n    }\n\n    confirmSubmitHandler = () => {\n        const submissionId = this.props.submission._id;\n        if (this.state.canRequestAuthorRevision) {\n            if (this.props.editorAssignment.editorSubmissionId) {\n                toast.error('Bạn đã nộp quyết định cho tổng biên tập trước đó!');\n            } else {\n                // request author revision\n                const htmlContent = stateToHTML(this.state.editorState.getCurrentContent());\n                const reqBody = {\n                    dueDate: this.state.dueDate,\n                    message: this.state.messageToAuthor,\n                    authorEmail: this.props.submission.authorId.email,\n                    htmlContent: htmlContent\n                }\n                this.props.requestAuthorRevision(submissionId, reqBody);\n            }\n        }\n        else if (!this.state.canEdit) {\n            if (this.props.authorAssignment && !this.props.authorAssignment.authorRevisionId) {\n                toast.error('Tác giả chưa nộp bản chỉnh sửa bài báo!');\n            } else {\n                // create editor submission\n                const formData = new FormData();\n                formData.append('editorDecisionId', this.state.controls.decisionId.value);\n                formData.append('content', this.state.controls.content.value);\n                formData.append('attachment', this.state.controls.attachment.file);\n                this.props.createEditorSubmission(submissionId, formData);\n            }\n        }\n        else {\n            // edit editor submission\n            const formData = new FormData();\n            formData.append('editorDecisionId', this.state.controls_edit.decisionId.value);\n            formData.append('content', this.state.controls_edit.content.value);\n            formData.append('attachment', this.state.controls_edit.attachment.file);\n            this.props.editEditorSubmission(submissionId, formData);\n        }\n    }\n\n    // Tab3: Request Author Revision\n    setDueDateHandler = (date) => {\n        this.setState(updateObject(this.state, { dueDate: date }));\n    }\n\n    setMessageToAuthorHandler = (event) => {\n        event.preventDefault();\n        this.setState(updateObject(this.state, { messageToReviewer: event.target.value }));\n    }\n\n    // Email Editor\n    onEditorStateChange = (editorState) => {\n        this.setState(updateObject(this.state, { editorState: editorState }));\n    };\n\n    render() {\n        const contentWrapper = (\n            <div className=\"content-wrapper\">\n                <section className=\"content-header\">\n                    <ContentHeader title=\"Thẩm định bài báo\">\n                        <li className=\"breadcrumb-item active\">Thẩm định bài báo</li>\n                    </ContentHeader>\n                </section>\n\n                <section className=\"content\">\n                    {!this.props.loading ? (\n                        <div className=\"card card-primary card-outline card-tabs\">\n                            <div className=\"card-header\">\n                                {this.props.submission ? <h3 className=\"card-title\">{this.props.submission.title}</h3> : null}\n                                <div className=\"float-right\">\n                                    <button className=\"btn btn-tool\" onClick={this.refreshHandler}>\n                                        <i className=\"fas fa-sync-alt\" style={{ fontSize: '20px' }}></i>\n                                    </button>\n                                </div>\n                            </div>\n\n                            <div className=\"card-header p-0\">\n                                <ul className=\"nav nav-tabs\" id=\"custom-tabs-one-tab\" role=\"tablist\">\n                                    <li className=\"nav-item\">\n                                        <div className={this.state.step1Active ? 'nav-link active' : 'nav-link'}\n                                            onClick={this.step1ActiveHandler}>\n                                            <div className={this.state.step1Active ? 'text-custom' : 'text-secondary'}><b>Chi tiết yêu cầu</b></div>\n                                        </div>\n                                    </li>\n                                    <li className=\"nav-item\">\n                                        <div className={this.state.step2Active ? 'nav-link active' : 'nav-link'}\n                                            onClick={this.step2ActiveHandler}>\n                                            <div className={this.state.step2Active ? 'text-custom' : 'text-secondary'}><b>Thông tin thẩm định</b></div>\n                                        </div>\n                                    </li>\n                                    {this.props.submission && this.props.submission.typeId.name === SUBMISSION_TYPES.PEER_REVIEW_RESEARCH.name ? (\n                                        <Aux>\n                                            <li className=\"nav-item\">\n                                                <div className={this.state.step3Active ? 'nav-link active' : 'nav-link'}\n                                                    onClick={this.step3ActiveHandler}>\n                                                    <div className={this.state.step3Active ? 'text-custom' : 'text-secondary'}><b>Nộp kết luận thẩm định</b></div>\n                                                </div>\n                                            </li>\n                                            <li className=\"nav-item\">\n                                                <div className={this.state.step4Active ? 'nav-link active' : 'nav-link'}\n                                                    onClick={this.step4ActiveHandler}>\n                                                    <div className={this.state.step4Active ? 'text-custom' : 'text-secondary'}><b>Yêu cầu tác giả chỉnh sửa</b></div>\n                                                </div>\n                                            </li>\n                                        </Aux>\n                                    ) : null}\n                                </ul>\n                            </div>\n\n                            {this.props.submission && this.props.editorAssignment ? (\n                                <div className=\"card-body\">\n                                    <div className=\"tab-content\" id=\"custom-tabs-one-tabContent\">\n                                        {/* ------------------Tab 1----------------- */}\n                                        <div className={this.state.step1Active ? 'tab-pane show active' : 'tab-pane'}>\n                                            {/* Row */}\n                                            <div className=\"row\">\n                                                <div className=\"p-2 col-lg-12 border rounded\">\n                                                    <EditorialBoard\n                                                        submission={this.props.submission}\n                                                        editorAssignment={this.props.editorAssignment}\n                                                        reviewerAssignments={this.props.editorAssignment.reviewerAssignmentId} />\n                                                </div>\n                                            </div>\n                                            {/* Row */}\n                                            <div className=\"row pt-2\">\n                                                {/* Column */}\n                                                <div className=\"p-2 col-lg-8 border rounded\">\n                                                    {this.props.authorAssignment ? (\n                                                        <SubmissionInfor\n                                                            submission={this.props.submission}\n                                                            hasAuthorRevision={this.props.authorAssignment.authorRevisionId ? true : false} />\n                                                    ) : (\n                                                            <SubmissionInfor submission={this.props.submission} />\n                                                        )}\n                                                </div>\n                                                {/* Column */}\n                                                <div className=\"p-2 col-lg-4 border rounded\">\n                                                    {checkDueDate(this.props.editorAssignment.dueDate) ? (\n                                                        <Aux>\n                                                            {this.props.submission.typeId.name === SUBMISSION_TYPES.PEER_REVIEW_RESEARCH.name ? (\n                                                                <Aux>\n                                                                    {this.props.editorAssignment.reviewerAssignmentId.length < 3 ? (\n                                                                        <Aux>\n                                                                            <div className=\"form-group\">\n                                                                                <h6><i className=\"fas fa-user\"></i> CHỈ ĐỊNH THẨM ĐỊNH VIÊN</h6>\n                                                                            </div>\n                                                                            <div className=\"form-group\">\n                                                                                <Link to={`/dashboard/editor/assign-reviewer?submissionId=${this.props.submission._id}`}>\n                                                                                    <button className=\"btn btn-outline-dark btn-block btn-flat\">\n                                                                                        <i className=\"fas fa-user\"></i>{\" \"}Chỉ định thẩm định viên\n                                                                                    </button>\n                                                                                </Link>\n                                                                            </div>\n                                                                        </Aux>\n                                                                    ) : null}\n                                                                </Aux>\n                                                            ) : (\n                                                                    <Aux>\n                                                                        <h6><i className=\"fas fa-gavel\"></i> QUYẾT ĐỊNH XUẤT BẢN</h6>\n                                                                        {!this.props.editorAssignment.editorSubmissionId ? (\n                                                                            <Aux>\n                                                                                <div className=\"form-group\">\n                                                                                    <Link to={`/dashboard/editor/accept-submission/${this.props.submission._id}`}>\n                                                                                        <button className=\"btn btn-outline-primary btn-block btn-flat\">\n                                                                                            <i className=\"fas fa-check\"></i> {\" \"}\n                                                                                    Chấp nhận xuất bản\n                                                                                </button>\n                                                                                    </Link>\n                                                                                </div>\n                                                                                <div className=\"form-group\">\n                                                                                    <Link to={`/dashboard/editor/decline-submission/${this.props.submission._id}`}>\n                                                                                        <button className=\"btn btn-outline-danger btn-block btn-flat\">\n                                                                                            <i className=\"fas fa-times\"></i>{\" \"}\n                                                                                    Từ chối bài báo\n                                                                                </button>\n                                                                                    </Link>\n                                                                                </div>\n                                                                            </Aux>\n                                                                        ) : (\n                                                                                <div className=\"form-group ml-3\">\n                                                                                    <span className={getDecisionBadgeClassname(this.props.editorAssignment.editorSubmissionId.editorDecisionId.value)}>\n                                                                                        {this.props.editorAssignment.editorSubmissionId.editorDecisionId.decisionName}\n                                                                                    </span>\n                                                                                </div>\n                                                                            )}\n                                                                    </Aux>\n                                                                )}\n                                                        </Aux>\n                                                    ) : (\n                                                            <Aux>\n                                                                <div className=\"form-group\">\n                                                                    <button className=\"btn btn-danger btn-block btn-flat\">\n                                                                        <i className=\"fas fa-ban\"></i> {\" \"}\n                                                                Bài báo đã hết hạn xử lý\n                                                            </button>\n                                                                </div>\n                                                            </Aux>\n                                                        )}\n\n                                                    <AssignmentInfor\n                                                        submission={this.props.submission}\n                                                        editorAssignment={this.props.editorAssignment} />\n                                                    <SubmissionProcess\n                                                        submission={this.props.submission} />\n                                                </div>\n                                            </div>\n                                        </div>\n                                        {/* ------------------Tab 2----------------- */}\n                                        <div className={this.state.step2Active ? 'tab-pane show active' : 'tab-pane'}>\n                                            <ReviewProcessInfor\n                                                submission={this.props.submission}\n                                                editorAssignment={this.props.editorAssignment}\n                                                chiefEditorSubmission={this.props.chiefEditorSubmission}\n                                                fetchDoughnutData={this.fetchDoughnutData} />\n                                        </div>\n                                        {/* ------------------Tab 3----------------- */}\n                                        <div className={this.state.step3Active ? 'tab-pane show active' : 'tab-pane'}>\n                                            {/* Row */}\n                                            <div className=\"row pt-2\">\n                                                {/* Column */}\n                                                <div className=\"p-2 col-lg-8 border rounded\">\n                                                    {!checkDueDate(this.props.editorAssignment.dueDate) ? (\n                                                        <Aux>\n                                                            <div className=\"form-group ml-1 text-danger font-weight-bold\">\n                                                                <i className=\"fas fa-times-circle\"></i> Bài báo đã hết thời hạn thẩm định!\n                                                            </div>\n                                                            <h6><i className=\"fas fa-comment\"></i> Ý KIẾN THẨM ĐỊNH CỦA BẠN</h6>\n                                                            <EditorSubmissionDetail editorSubmission={this.props.editorAssignment.editorSubmissionId} />\n                                                        </Aux>\n                                                    ) : (\n                                                            <Aux>\n                                                                {this.props.editorAssignment.editorSubmissionId ? (\n                                                                    <Aux>\n                                                                        {this.state.canEdit ? (\n                                                                            <EditEditorSubmission\n                                                                                editorSubmission={this.props.editorAssignment.editorSubmissionId}\n                                                                                editorDecisions={this.props.editorDecisions}\n                                                                                inputChangeHandler={this.inputChangeHandler_edit}\n                                                                                controls={this.state.controls_edit}\n                                                                                formIsValid={this.state.formIsValid_edit}\n                                                                                cancelEdit={this.blockEditReviewPageHandler}\n                                                                                fileUploading={this.props.fileUploading} />\n                                                                        ) : (\n                                                                                <Aux>\n                                                                                    <h6><i className=\"fas fa-comment\"></i> Ý KIẾN THẨM ĐỊNH CỦA BẠN</h6>\n                                                                                    <EditorSubmissionDetail editorSubmission={this.props.editorAssignment.editorSubmissionId} />\n                                                                                </Aux>\n                                                                            )}\n                                                                    </Aux>\n                                                                ) : (\n                                                                        <CreateEditorSubmission\n                                                                            editorDecisions={this.props.editorDecisions}\n                                                                            inputChangeHandler={this.inputChangeHandler}\n                                                                            controls={this.state.controls}\n                                                                            formIsValid={this.state.formIsValid}\n                                                                            fileUploading={this.props.fileUploading} />\n                                                                    )}\n                                                            </Aux>\n                                                        )}\n                                                </div>\n                                                {/* Column */}\n                                                <div className=\"p-2 col-lg-4 border rounded\">\n                                                    <h6><i className=\"fas fa-stream\"></i> TRẠNG THÁI</h6>\n                                                    {this.props.editorAssignment.editorSubmissionId ? (\n                                                        <Aux>\n                                                            <div className=\"form-group text-center\">\n                                                                <div className=\"badge-ol badge-ol-success badge-outlined p-2 pr-5 pl-5\" style={{ fontSize: '16px' }}>\n                                                                    <i className=\"fas fa-check\"></i> Đã nộp kết luận thẩm định\n                                                                </div>\n                                                            </div>\n                                                            <div className=\"form-group\">\n                                                                {checkDueDate(this.props.editorAssignment.dueDate) ? (\n                                                                    <Aux>\n                                                                        {!this.state.canEdit ? (\n                                                                            <button\n                                                                                type=\"button\"\n                                                                                className=\"btn btn-outline-dark btn-block btn-flat\"\n                                                                                onClick={(event) => this.openEditReviewPageHandler(event, this.props.editorAssignment.editorSubmissionId)}>\n                                                                                <i className=\"fas fa-edit\"></i> Chỉnh sửa kết luận thẩm định\n                                                                            </button>\n                                                                        ) : null}\n                                                                    </Aux>\n                                                                ) : (\n                                                                        <button\n                                                                            type=\"button\"\n                                                                            className=\"btn btn-outline-dark btn-block btn-flat\"\n                                                                            onClick={() => toast.error('Bài báo đã hết hạn xử lý!')}>\n                                                                            <i className=\"fas fa-edit\"></i> Chỉnh sửa kết luận thẩm định\n                                                                        </button>\n                                                                    )}\n                                                            </div>\n                                                        </Aux>\n                                                    ) : (\n                                                            <Aux>\n                                                                <div className=\"form-group text-center\">\n                                                                    <div className=\"badge-ol badge-ol-danger badge-outlined p-2 pr-4 pl-4\" style={{ fontSize: '16px' }}>\n                                                                        <i className=\"fas fa-close\"></i> Chưa nộp kết luận thẩm định\n                                                                </div>\n                                                                </div>\n                                                            </Aux>\n                                                        )}\n\n                                                    <SubmissionProcess submission={this.props.submission} />\n                                                </div>\n                                            </div>\n                                        </div>\n                                        {/* ------------------Tab 4----------------- */}\n                                        <div className={this.state.step4Active ? 'tab-pane show active' : 'tab-pane'}>\n                                            {/* Row */}\n                                            <div className=\"row\">\n                                                <div className=\"p-2 col-lg-12 border rounded\">\n                                                    <EditorialBoard\n                                                        submission={this.props.submission}\n                                                        editorAssignment={this.props.editorAssignment}\n                                                        reviewerAssignments={this.props.editorAssignment.reviewerAssignmentId} />\n                                                </div>\n                                            </div>\n                                            {/* Row */}\n                                            <div className=\"row pt-2\">\n                                                {/* Column */}\n                                                <div className=\"p-2 col-lg-8 border rounded\">\n                                                    {!checkDueDate(this.props.editorAssignment.dueDate) ? (\n                                                        <Aux>\n                                                            <div className=\"form-group ml-1 text-danger font-weight-bold\">\n                                                                <i className=\"fas fa-times-circle\"></i> Bài báo đã hết thời hạn thẩm định!\n                                                            </div>\n                                                            <h6><i className=\"fas fa-comment\"></i> CHI TIẾT YÊU CẦU TÁC GIẢ CHỈNH SỬA</h6>\n                                                            {this.props.authorAssignment ? (\n                                                                <AuthorAssignment\n                                                                    step1ActiveHandler={this.step1ActiveHandler}\n                                                                    authorAssignment={this.props.authorAssignment} />\n                                                            ) : (\n                                                                    <div className=\"form-group ml-3\">\n                                                                        <p className=\"ml-4\">Bạn chưa gửi yêu cầu chỉnh sửa bài báo cho tác giả.</p>\n                                                                    </div>\n                                                                )}\n                                                        </Aux>\n                                                    ) : (\n                                                            <Aux>\n                                                                {this.props.authorAssignment ? (\n                                                                    <Aux>\n                                                                        <h6><i className=\"fas fa-edit\"></i> CHI TIẾT YÊU CẦU TÁC GIẢ CHỈNH SỬA</h6>\n                                                                        <AuthorAssignment\n                                                                            step1ActiveHandler={this.step1ActiveHandler}\n                                                                            authorAssignment={this.props.authorAssignment} />\n                                                                    </Aux>\n                                                                ) : (\n                                                                        <RequestRevision\n                                                                            dueDate={this.state.dueDate}\n                                                                            editorState={this.state.editorState}\n                                                                            onEditorStateChange={this.onEditorStateChange}\n                                                                            messageToAuthor={this.state.messageToAuthor}\n                                                                            authorEmail={this.props.submission ? this.props.submission.authorId.email : \"\"}\n                                                                            setDueDate={this.setDueDateHandler}\n                                                                            setMessage={this.setMessageToAuthorHandler} />\n                                                                    )}\n                                                            </Aux>\n                                                        )}\n                                                </div>\n                                                {/* Column */}\n                                                <div className=\"p-2 col-lg-4 border rounded\">\n                                                    <h6><i className=\"fas fa-stream\"></i> TRẠNG THÁI</h6>\n\n                                                    {this.props.authorAssignment ? (\n                                                        <Aux>\n                                                            {!this.props.authorAssignment.authorRevisionId ? (\n                                                                <div className=\"form-group text-center\">\n                                                                    <div className=\"badge-ol badge-ol-primary badge-outlined p-2 pr-5 pl-5\" style={{ fontSize: '16px' }}>\n                                                                        <i className=\"fas fa-check\"></i> Đã gửi yêu cầu đến tác giả\n                                                                    </div>\n                                                                </div>\n                                                            ) : (\n                                                                    <div className=\"form-group text-center\">\n                                                                        <div className=\"badge-ol badge-ol-success badge-outlined p-2 pr-4 pl-4\" style={{ fontSize: '16px' }}>\n                                                                            <i className=\"fas fa-check\"></i> Tác giả đã nộp bản chỉnh sửa\n                                                                    </div>\n                                                                    </div>\n                                                                )}\n                                                        </Aux>\n                                                    ) : (\n                                                            <Aux>\n                                                                <div className=\"form-group text-center\">\n                                                                    <div className=\"badge-ol badge-ol-danger badge-outlined p-2 pr-4 pl-4\" style={{ fontSize: '16px' }}>\n                                                                        <i className=\"fas fa-close\"></i> Chưa gửi yêu cầu đến tác giả\n                                                                </div>\n                                                                </div>\n                                                            </Aux>\n                                                        )}\n\n                                                    <SubmissionProcess submission={this.props.submission} />\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            ) : null}\n                        </div>\n                    ) : <Spinner />}\n                </section>\n                {this.props.submission && <SubmissionLogs logs={this.props.submission.submissionLogs} />}\n            </div>\n        );\n\n        return (\n            <Aux>\n                {contentWrapper}\n                {this.state.step3Active ? (\n                    <ConfirmDialog\n                        title=\"Xác nhận\"\n                        message=\"Gửi kết luận thẩm định bài báo cho tổng biên tập?\"\n                        confirm={this.confirmSubmitHandler} />\n                ) : (\n                        <ConfirmDialog\n                            title=\"Xác nhận\"\n                            message=\"Gửi yêu cầu chỉnh sửa bài báo tới tác giả?\"\n                            confirm={this.confirmSubmitHandler} />\n                    )}\n                {this.props.error ? toast.error('Error: ' + this.props.error) : null}\n            </Aux>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        editorFullname: state.auth.fullname,\n        submission: state.submission.submission,\n        loading: state.submission.loading,\n        editorAssignment: state.review.editorAssignment,\n        editorDecisions: state.submission.editorDecisions,\n        fileUploading: state.review.fileUploading,\n        isEditorSubmissionCreated: state.review.isEditorSubmissionCreated,\n        isEditorSubmissionEdited: state.review.isEditorSubmissionEdited,\n        isRequestAuthorRevisionCreated: state.review.isRequestAuthorRevisionCreated,\n        authorAssignment: state.review.authorAssignment,\n        chiefEditorSubmission: state.review.chiefEditorSubmission,\n        error: state.review.error\n    }\n};\n\nconst mapDispatchToProps = {\n    getSubmissionDetail,\n    getEditorAssignmentBySubmission,\n    getEditorDecisions,\n    createEditorSubmission,\n    resetCreateEditorSubmissionState,\n    editEditorSubmission,\n    resetEditEditorSubmissionState,\n    requestAuthorRevision,\n    resetRequestAuthorRevisionState,\n    getAuthorAssignmentBySubmission,\n    getMyNotifications,\n    getChiefEditorSubmission\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EditorAssignment);","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport ContentHeader from '../Shared/ContentHeader';\nimport DatePicker from 'react-datepicker';\nimport { toast } from 'react-toastify';\nimport ConfirmDialog from '../../UI/ConfirmDialog/ConfirmDialog';\nimport Spinner from '../../UI/Spinner/Spinner';\nimport { updateObject, getDeadlineDate } from '../../../utils/utility';\nimport { connect } from 'react-redux';\nimport { getSubmissionDetail } from '../../../store/actions/submissionActions';\nimport { getAllReviewers, assignReviewer, resetReviewerAssignmentState } from '../../../store/actions/reviewActions';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { EditorState, ContentState } from 'draft-js';\nimport { Editor } from 'react-draft-wysiwyg';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nimport htmlToDraft from 'html-to-draftjs';\nimport { stateToHTML } from 'draft-js-export-html';\nimport { assignReviewerTemplate } from '../../../utils/email-template';\n\nclass AssignReviewer extends Component {\n\n    state = {\n        step1Active: true,\n        step2Active: false,\n        step3Active: false,\n        submissionId: '',\n        selectedReviewerId: '',\n        selectedReviewerName: '',\n        selectedReviewerEmail: '',\n        dueDate: getDeadlineDate(7),\n        messageToReviewer: 'Nội dung lời nhắn',\n        editorState: null\n    };\n\n    componentDidMount() {\n        if (this.props.location.search) {\n            const query = new URLSearchParams(this.props.location.search);\n            const submissionId = query.get('submissionId');\n            this.props.getAllReviewers(submissionId);\n\n            this.setState(updateObject(this.state, { submissionId: submissionId }));\n\n            if (!this.props.submission) {\n                this.props.getSubmissionDetail(submissionId);\n            }\n        }\n    }\n\n    step1ActiveHandler = () => {\n        let newState = updateObject(this.state, {\n            step1Active: true, step2Active: false, step3Active: false\n        });\n        this.setState(newState);\n    }\n\n    step2ActiveHandler = () => {\n        let newState = updateObject(this.state, {\n            step1Active: false, step2Active: true, step3Active: false\n        });\n        this.setState(newState);\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        if (nextProps.error) {\n            this.props.resetReviewerAssignmentState();\n        }\n        if (nextProps.isReviewerAssigned && !nextProps.error) {\n            this.props.resetReviewerAssignmentState();\n            toast.success(\"Chỉ định thẩm định viên thành công!\");\n            this.setState(updateObject(this.state, {\n                step1Active: false, step2Active: false, step3Active: true\n            }));\n        }\n    }\n\n    reviewerSelectedHandler = (event) => {\n        // Text Editor\n        const contentBlock = htmlToDraft(assignReviewerTemplate(this.props.submission.title,\n            this.props.editorFullname, event.target.id));\n        let editorState = null;\n        if (contentBlock) {\n            const contentState = ContentState.createFromBlockArray(contentBlock.contentBlocks);\n            editorState = EditorState.createWithContent(contentState);\n\n        }\n        const nameAndEmail = event.target.id;\n        const fileds = nameAndEmail.split(\"|\");\n        const fullname = fileds[0];\n        const email = fileds[1];\n\n        this.setState(updateObject(this.state, {\n            editorState: editorState,\n            selectedReviewerId: event.target.value,\n            selectedReviewerName: fullname,\n            selectedReviewerEmail: email,\n        }));\n    }\n\n    setDueDateHandler = (date) => {\n        this.setState(updateObject(this.state, { dueDate: date }));\n    }\n\n    setMessageToReviewerHandler = (event) => {\n        this.setState(updateObject(this.state, { messageToReviewer: event.target.value }));\n    }\n\n    confirmSubmitHandler = () => {\n        const htmlContent = stateToHTML(this.state.editorState.getCurrentContent());\n        const reqBody = {\n            submissionId: this.state.submissionId,\n            reviewerId: this.state.selectedReviewerId,\n            dueDate: this.state.dueDate,\n            message: this.state.messageToReviewer,\n            reviewerEmail: this.state.selectedReviewerEmail,\n            htmlContent: htmlContent\n        };\n        this.props.assignReviewer(reqBody);\n    }\n\n    onEditorStateChange = (editorState) => {\n        this.setState(updateObject(this.state, { editorState: editorState }));\n    };\n\n    render() {\n        return (\n            <div>\n                <div className=\"content-wrapper\">\n                    <section className=\"content-header\">\n                        <ContentHeader title=\"Chỉ định thẩm định viên\">\n                            <li className=\"breadcrumb-item active\">Chỉ định thẩm định viên</li>\n                        </ContentHeader>\n                    </section>\n\n                    <section className=\"content\">\n                        <div className=\"container-fluid\">\n                            <div className=\"col-md-12\">\n                                <div className=\"card card-dark card-tabs\">\n                                    <div className=\"card-header p-0 pt-1\">\n                                        <ul className=\"nav nav-tabs\" id=\"custom-tabs-one-tab\" role=\"tablist\">\n                                            <li className=\"nav-item\">\n                                                <div className={this.state.step1Active ? 'nav-link active' : 'nav-link'}>\n                                                    1. Lựa chọn thẩm định viên\n                                                </div>\n                                            </li>\n                                            <li className=\"nav-item\">\n                                                <div className={this.state.step2Active ? 'nav-link active' : 'nav-link'}>\n                                                    2. Chi tiết yêu cầu\n                                                </div>\n                                            </li>\n                                            <li className=\"nav-item\">\n                                                <div className={this.state.step3Active ? 'nav-link active' : 'nav-link'}>\n                                                    3. Hoàn thành\n                                                </div>\n                                            </li>\n                                        </ul>\n                                    </div>\n                                    <div className=\"card-body\">\n                                        <div className=\"tab-content\" id=\"custom-tabs-one-tabContent\">\n                                            <div className={this.state.step1Active ? 'tab-pane show active' : 'tab-pane'}>\n                                                <div className=\"input-group input-group-sm mb-2\" style={{ width: '300px' }}>\n                                                    <input type=\"text\" className=\"form-control\" placeholder=\"Tìm kiếm\" />\n                                                    <div className=\"input-group-append\">\n                                                        <button type=\"submit\" className=\"btn btn-default btn-flat\">\n                                                            <i className=\"fas fa-search\"></i>\n                                                        </button>\n                                                    </div>\n                                                </div>\n                                                {this.props.reviewers.length > 0 ? (\n                                                    <div className=\"card-body table-responsive p-0\" style={{ height: '300px' }}>\n                                                        <table className=\"table table-head-fixed text-nowrap\">\n                                                            <thead>\n                                                                <tr>\n                                                                    <th>Chọn</th>\n                                                                    <th>Thẩm định viên</th>\n                                                                    <th className=\"text-center\">Đã xử lý</th>\n                                                                    <th className=\"text-center\">Đang xử lý</th>\n                                                                    <th>Lĩnh vực nghiên cứu</th>\n                                                                    <th className=\"text-center\">Độ phù hợp</th>\n                                                                </tr>\n                                                            </thead>\n                                                            <tbody>\n                                                                {this.props.reviewers.map(reviewer => (\n                                                                    <tr key={reviewer._id}>\n                                                                        <td>\n                                                                            <div className=\"radio\" onChange={this.reviewerSelectedHandler}>\n                                                                                <label>\n                                                                                    <input\n                                                                                        value={reviewer._id}\n                                                                                        type=\"radio\"\n                                                                                        id={reviewer.lastname + \" \" + reviewer.firstname + \"|\" + reviewer.email}\n                                                                                        name=\"reviewer\" />\n                                                                                </label>\n                                                                            </div>\n                                                                        </td>\n                                                                        <td>\n                                                                            <Link className=\"text-primary\" to=\"#\">{reviewer.lastname} {reviewer.firstname}</Link>\n                                                                        </td>\n                                                                        <td className=\"text-center\">{reviewer.handled}</td>\n                                                                        <td className=\"text-center\">{reviewer.handling}</td>\n                                                                        <td>\n                                                                            {reviewer.preferenceCategories.map((val, idx) => {\n                                                                                const el = <div key={idx} className=\"text-danger\">\n                                                                                    {val}\n                                                                                </div>\n                                                                                return el;\n                                                                            })}\n                                                                        </td>\n                                                                        <td className=\"project_progress\">\n                                                                            <div className=\"progress progress-sm\">\n                                                                                <div className=\"progress-bar bg-red\" role=\"progressbar\"\n                                                                                    aria-valuenow={reviewer.appropriateRate} aria-valuemin=\"0\"\n                                                                                    aria-valuemax=\"10\" style={{ width: `${reviewer.appropriateRate * 10}%` }}></div>\n                                                                            </div>\n                                                                            <small style={{ fontSize: '13.5px' }}>\n                                                                                {reviewer.appropriateRate}/10\n                                                                            </small>\n                                                                        </td>\n                                                                    </tr>\n                                                                ))}\n                                                            </tbody>\n                                                        </table>\n                                                    </div>\n                                                ) : <Spinner />}\n                                                <button\n                                                    className=\"btn btn-outline-primary btn-flat mt-3\"\n                                                    disabled={this.state.selectedReviewerId === ''}\n                                                    onClick={this.step2ActiveHandler}>Lựa chọn</button>\n                                                {this.props.submission && (\n                                                    <Link to={`/dashboard/editor/assignment/${this.props.submission._id}`}>\n                                                        <button className=\"btn btn-outline-danger btn-flat mt-3 ml-2\">Hủy</button>\n                                                    </Link>\n                                                )}\n                                            </div>\n                                            <div className={this.state.step2Active ? 'tab-pane show active' : 'tab-pane'}>\n                                                <div className=\"form-group\">\n                                                    <h6>Thời hạn xử lý*</h6>\n                                                    <DatePicker className=\"form-control\"\n                                                        showTimeSelect\n                                                        minDate={getDeadlineDate(7)}\n                                                        selected={this.state.dueDate}\n                                                        onChange={date => this.setDueDateHandler(date)}\n                                                        dateFormat=\"dd/MM/yyyy\" />\n                                                </div>\n                                                <div className=\"form-group\">\n                                                    <h6>Gửi Email tới thẩm định viên*</h6>\n                                                    <p><span className=\"text-dark\">Địa chỉ email:</span> {this.state.selectedReviewerEmail}</p>\n                                                    <Editor\n                                                        editorState={this.state.editorState}\n                                                        wrapperClassName=\"wrapper-class\"\n                                                        editorClassName=\"form-control\"\n                                                        toolbarClassName=\"toolbar-class\"\n                                                        onEditorStateChange={this.onEditorStateChange} />\n                                                    {/* <textarea\n                                                        type=\"text\"\n                                                        name=\"noti_and_email\"\n                                                        className=\"form-control\"\n                                                        defaultValue={this.state.emailToReviewer}\n                                                        onChange={this.setEmailToReviewerHandler} /> */}\n                                                </div>\n                                                <div className=\"form-group\">\n                                                    <h6>Lời nhắn</h6>\n                                                    <textarea\n                                                        type=\"text\"\n                                                        name=\"message\"\n                                                        className=\"form-control\"\n                                                        defaultValue={this.state.messageToReviewer}\n                                                        onChange={this.setMessageToReviewerHandler} />\n                                                </div>\n                                                <div>\n                                                    <button\n                                                        type=\"button\"\n                                                        className=\"btn btn-outline-primary btn-flat\"\n                                                        data-toggle=\"modal\"\n                                                        data-target=\"#confirmDialogModal\">Xác nhận</button>\n                                                    <button\n                                                        className=\"btn btn-outline-danger btn-flat ml-2\"\n                                                        onClick={this.step1ActiveHandler}>Quay lại</button>\n                                                </div>\n                                            </div>\n                                            <div className={this.state.step3Active ? 'tab-pane show active' : 'tab-pane'}>\n                                                <h4>Chỉ định biên tập viên thành công.</h4>\n                                                {this.props.submission ? (\n                                                    <div className=\"ml-2\">Bạn đã chỉ định thẩm định viên <Link to=\"#\" className=\"text-primary\">{this.state.selectedReviewerName}</Link>\n                                                        {\" \"}thẩm định bài báo <b>{this.props.submission.title}</b> của tác giả <Link to=\"\" className=\"text-primary\">{this.props.submission.authorId.firstname} {this.props.submission.authorId.lastname}.</Link></div>\n                                                ) : null}\n                                                <h4 className=\"mt-3\">Bây giờ, bạn có thể:</h4>\n                                                {this.props.submission ? (\n                                                    <div className=\"ml-2\">\n                                                        <i className=\"fa fa-eye\"></i>\n                                                        {\" \"}<Link to={`/dashboard/editor/assignment/${this.props.submission._id}`} className=\"text-primary\">\n                                                            Theo dõi quá trình thẩm định.\n                                                    </Link>.\n                                                    </div>\n                                                ) : null}\n                                                <div className=\"ml-2\">\n                                                    <i className=\"fa fa-home\"></i>\n                                                    {\" \"} <Link to=\"/dashboard/editor\" className=\"text-primary\">Xử lý bài báo khác.</Link>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </section>\n                </div>\n                <ConfirmDialog\n                    title=\"Xác nhận\"\n                    message=\"Chỉ định thẩm định viên cho bài báo?\"\n                    confirm={this.confirmSubmitHandler} />\n                {this.props.error ? toast.error('Error: ' + this.props.error) : null}\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        editorFullname: state.auth.fullname,\n        submission: state.submission.submission,\n        reviewers: state.review.reviewers,\n        isReviewerAssigned: state.review.isReviewerAssigned,\n        message: state.review.message,\n        error: state.review.error\n    };\n};\n\nconst mapDispatchToProps = {\n    getAllReviewers,\n    getSubmissionDetail,\n    assignReviewer,\n    resetReviewerAssignmentState\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AssignReviewer);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Aux from '../../../../hoc/Auxiliary/Auxiliary';\nimport { checkDueDate, getFormattedDate } from '../../../../utils/utility';\n\n\nconst AssignmentInfor = (props) => {\n    return (\n        <Aux>\n            <h6><i className=\"fas fa-tasks\"></i> CHI TIẾT YÊU CẦU</h6>\n            <div className=\"form-group ml-3\">\n                <label>Nguời giao</label>\n                <div className=\"ml-4\">\n                    <i className=\"fas fa-user text-dark\"></i> {\" \"}\n                    <Link to=\"#\" className=\"text-primary\">\n                        {props.reviewerAssignment.editorId.lastname} {props.reviewerAssignment.editorId.firstname}\n                    </Link>\n                    {\" \"}<div className=\"badge-ol badge-ol-danger badge-outlined mb-1\">Biên tập viên</div>\n                </div>\n            </div>\n            <div className=\"form-group ml-3\">\n                <label>Ngày giao</label>\n                <div className=\"ml-4\">\n                    {getFormattedDate(props.reviewerAssignment.createdAt)}\n                </div>\n            </div>\n            <div className=\"form-group ml-3\">\n                <label>Thời hạn xử lý</label>\n                <div className=\"ml-4\">\n                    {getFormattedDate(props.reviewerAssignment.dueDate)} {\" \"}\n                    {!checkDueDate(props.reviewerAssignment.dueDate) ? (\n                        <div className=\"badge-ol badge-ol-danger mb-1\">Hết hạn xử lý</div>\n                    ) : null}\n                </div>\n            </div>\n        </Aux>\n    );\n};\n\nexport default AssignmentInfor;","import React from 'react';\nimport Aux from '../../../../hoc/Auxiliary/Auxiliary';\n\nconst CreateReview = (props) => {\n    return (\n        <Aux>\n            <h6><i className=\"fas fa-paper-plane\"></i> NỘP Ý KIẾN THẨM ĐỊNH</h6>\n            <div className=\"card-body\">\n                {props.reviewerDecisions ? (\n                    <div className=\"form-group\">\n                        <label>Quyết định*</label>\n                        <select\n                            name=\"decisionId\"\n                            className=\"custom-select form-control\"\n                            onChange={props.inputChangeHandler}\n                        >\n                            {props.reviewerDecisions.map(decision => (\n                                <option key={decision._id} value={decision._id}>\n                                    {decision.decisionName}\n                                </option>\n                            ))}\n                        </select>\n                    </div>\n                ) : null}\n                <div className=\"form-group\">\n                    <label>Ý kiến*</label>\n                    <textarea\n                        type=\"text\"\n                        name=\"content\"\n                        className={!props.controls.content.valid && props.controls.content.touched ? \"form-control-error\" : \"form-control\"}\n                        placeholder={props.controls.content.elementConfig.placeholder}\n                        defaultValue={props.controls.content.value}\n                        onChange={props.inputChangeHandler} />\n                    {!props.controls.content.valid && props.controls.content.touched ?\n                        <p className=\"form-control-error-msg\">Nhận xét không hợp lệ!</p> : null}\n                </div>\n                <div className=\"form-group\">\n                    <label>File đính kèm</label>\n                    <div className=\"input-group\">\n                        <div className=\"custom-file\">\n                            <input\n                                type=\"file\"\n                                name=\"attachment\"\n                                className=\"custom-file-input\"\n                                onChange={props.inputChangeHandler} />\n                            {!props.controls.attachment.valid && props.controls.attachment.touched ?\n                                <p className=\"form-control-error-msg\">File tải lên không hợp lệ!</p> : null}\n                            <label className=\"custom-file-label\" htmlFor=\"coverImage\">{props.controls.attachment.filename}</label>\n                        </div>\n                    </div>\n                    {props.fileUploading ? (\n                        <div className=\"input-group\">\n                            <div className=\"spinner-border text-primary mt-2\" role=\"status\" style={{ width: '25px', height: '25px' }}>\n                            </div>\n                            <div className=\"mt-2 ml-2 text-secondary\" style={{ fontStyle: 'italic' }}>Đang tải lên...</div>\n                        </div>\n                    ) : null}\n                </div>\n            </div>\n            <div className=\"card-footer\">\n                <button\n                    type=\"button\"\n                    className=\"btn btn-outline-primary btn-flat\"\n                    data-toggle=\"modal\"\n                    data-target=\"#confirmDialogModal\"\n                    disabled={!props.formIsValid}> Nộp ý kiến</button>\n            </div>\n        </Aux>\n    );\n};\n\nexport default CreateReview;","import React from 'react';\nimport Aux from '../../../../hoc/Auxiliary/Auxiliary';\n\nconst EditReview = (props) => {\n    return (\n        <Aux>\n            <h6><i className=\"fas fa-edit\"></i> CHỈNH SỬA Ý KIẾN THẨM ĐỊNH</h6>\n            <div className=\"card-body\">\n                {props.reviewerDecisions ? (\n                    <div className=\"form-group\">\n                        <label>Quyết định*</label>\n                        <select\n                            name=\"decisionId\"\n                            className=\"custom-select form-control\"\n                            onChange={props.inputChangeHandler}\n                        >\n                            <option value=\"\" hidden>{props.controls.decisionId.decisionName}</option>\n                            {props.reviewerDecisions.map(decision => (\n                                <option key={decision._id} value={decision._id}>\n                                    {decision.decisionName}\n                                </option>\n                            ))}\n                        </select>\n                    </div>\n                ) : null}\n                <div className=\"form-group\">\n                    <label>Ý kiến*</label>\n                    <textarea\n                        type=\"text\"\n                        name=\"content\"\n                        className={!props.controls.content.valid && props.controls.content.touched ? \"form-control-error\" : \"form-control\"}\n                        placeholder={props.controls.content.elementConfig.placeholder}\n                        defaultValue={props.controls.content.value}\n                        onChange={props.inputChangeHandler} />\n                    {!props.controls.content.valid && props.controls.content.touched ?\n                        <p className=\"form-control-error-msg\">Nhận xét không hợp lệ!</p> : null}\n                </div>\n                <div className=\"form-group\">\n                    <label>File đính kèm</label>\n                    <div className=\"input-group\">\n                        <div className=\"custom-file\">\n                            <input\n                                type=\"file\"\n                                name=\"attachment\"\n                                className=\"custom-file-input\"\n                                onChange={props.inputChangeHandler} />\n                            {!props.controls.attachment.valid && props.controls.attachment.touched ?\n                                <p className=\"form-control-error-msg\">File tải lên không hợp lệ!</p> : null}\n                            <label className=\"custom-file-label\" htmlFor=\"coverImage\">{props.controls.attachment.filename}</label>\n                        </div>\n                    </div>\n                    {props.fileUploading ? (\n                        <div className=\"input-group\">\n                            <div className=\"spinner-border text-primary mt-2\" role=\"status\" style={{ width: '25px', height: '25px' }}>\n                            </div>\n                            <div className=\"mt-2 ml-2 text-secondary\" style={{ fontStyle: 'italic' }}>Đang tải lên...</div>\n                        </div>\n                    ) : null}\n                </div>\n            </div>\n            <div className=\"card-footer\">\n                <button\n                    type=\"button\"\n                    className=\"btn btn-outline-primary btn-flat\"\n                    data-toggle=\"modal\"\n                    data-target=\"#confirmDialogModal\"\n                    disabled={!props.formIsValid}> Chỉnh sửa ý kiến</button>\n                <button\n                    type=\"button\"\n                    className=\"btn btn-outline-danger btn-flat ml-2\"\n                    onClick={props.cancelEdit}>Hủy</button>\n            </div>\n        </Aux>\n    );\n};\n\nexport default EditReview;","import React, { Component } from 'react';\nimport Aux from '../../../hoc/Auxiliary/Auxiliary';\nimport ContentHeader from '../Shared/ContentHeader';\nimport SubmissionInfor from '../Submission/SubmissionInfor/SubmissionInfor';\nimport Spinner from '../../UI/Spinner/Spinner';\nimport SubmissionLogs from '../Submission/SubmissionLogs';\nimport { checkDueDate, updateObject } from '../../../utils/utility';\nimport { getMyNotifications } from '../../../store/actions/authActions';\nimport { getSubmissionDetail, getReviewerDecisions } from '../../../store/actions/submissionActions';\nimport {\n    getMyReviewerAssignmentDetail,\n    createReviewSubmission,\n    resetCreateReviewSubmissionState,\n    editReviewSubmission,\n    resetEditReviewSubmissionState\n} from '../../../store/actions/reviewActions';\nimport { connect } from 'react-redux';\nimport EditorialBoard from '../Submission/SubmissionInfor/EditorialBoard';\nimport AssignmentInfor from './AssignmentInfor/AssignmentInfor';\nimport CreateReview from './ReviewSubmission/CreateReview';\nimport EditReview from './ReviewSubmission/EditReview';\nimport ReviewDetail from './ReviewSubmission/ReviewDetail';\nimport SubmissionProcess from '../Submission/SubmissionProcess/SubmissionProcess';\nimport { toast } from 'react-toastify';\nimport ConfirmDialog from '../../UI/ConfirmDialog/ConfirmDialog';\nimport { createReviewInputControls, editReviewInputControls } from '../../../utils/input-controls';\nimport { createReviewInputChangeHandler, editReviewInnputChangeHandler } from '../../../utils/input-change';\nclass ReviewerAssignment extends Component {\n\n    state = {\n        step1Active: true,\n        step2Active: false,\n        controls: createReviewInputControls,\n        controls_edit: editReviewInputControls,\n        formIsValid: false,\n        formIsValid_edit: true,\n        canEdit: false\n    }\n\n    componentDidMount() {\n        if (this.props.match.params.submissionId) {\n            this.props.getSubmissionDetail(this.props.match.params.submissionId);\n            this.props.getMyReviewerAssignmentDetail(this.props.match.params.submissionId);\n            this.props.getReviewerDecisions();\n        }\n    }\n\n    componentDidUpdate(prevPops) {\n        if (this.props.match.params.submissionId !== prevPops.match.params.submissionId) {\n            this.props.getSubmissionDetail(this.props.match.params.submissionId);\n            this.props.getMyReviewerAssignmentDetail(this.props.match.params.submissionId);\n        }\n        if (this.props.isReviewSubmissionEdited) {\n            window.scrollTo(0, 0);\n            this.props.resetEditReviewSubmissionState();\n            this.setState(updateObject(this.state, { canEdit: false }));\n        }\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        if (nextProps.error) {\n            this.props.resetCreateReviewSubmissionState();\n            this.props.resetEditReviewSubmissionState();\n        }\n        if (nextProps.isReviewSubmissionCreated && !nextProps.error) {\n            this.props.resetCreateReviewSubmissionState();\n            toast.success(\"Gửi ý kiến thẩm định thành công!\");\n            this.props.getMyReviewerAssignmentDetail(this.props.match.params.submissionId);\n        }\n        if (nextProps.isReviewSubmissionEdited && !nextProps.error) {\n            this.props.resetEditReviewSubmissionState();\n            toast.success(\"Chỉnh sửa ý kiến thẩm định thành công!\");\n            this.props.getMyReviewerAssignmentDetail(this.props.match.params.submissionId);\n            this.setState(updateObject(this.state, { canEdit: false }));\n        }\n    }\n\n    refreshHandler = () => {\n        if (this.props.match.params.submissionId) {\n            this.props.getSubmissionDetail(this.props.match.params.submissionId);\n            this.props.getMyReviewerAssignmentDetail(this.props.match.params.submissionId);\n            // this.props.getReviewerDecisions();\n            this.props.getMyNotifications();\n        }\n    }\n\n    step1ActiveHandler = (event) => {\n        event.preventDefault();\n        let newState = updateObject(this.state, {\n            step1Active: true, step2Active: false\n        });\n        this.setState(newState);\n    }\n\n    step2ActiveHandler = () => {\n        let newState = updateObject(this.state, {\n            step1Active: false, step2Active: true\n        });\n        this.setState(newState);\n    }\n\n    inputChangeHandler = (event) => {\n        event.preventDefault();\n        const { updatedControls, formIsValid } = createReviewInputChangeHandler(event, this.state);\n        this.setState({\n            controls: updatedControls,\n            formIsValid: formIsValid\n        });\n    };\n\n    inputChangeHandler_edit = (event) => {\n        event.preventDefault();\n        const { updatedControls, formIsValid } = editReviewInnputChangeHandler(event, this.state);\n        this.setState({\n            controls_edit: updatedControls,\n            formIsValid: formIsValid\n        });\n    };\n\n    // Edit Review\n    openEditReviewPageHandler = (event, reviewSubmission) => {\n        event.preventDefault();\n        // Init Control Edit Values\n        const filename = reviewSubmission.attachmentFile ? reviewSubmission.attachmentFile : \"Chọn File\";\n        const updatedControls = updateObject(this.state.controls_edit, {\n            decisionId: updateObject(this.state.controls_edit.decisionId, {\n                value: reviewSubmission.reviewerDecisionId._id,\n                decisionName: reviewSubmission.reviewerDecisionId.decisionName\n            }),\n            content: updateObject(this.state.controls_edit.content, { value: reviewSubmission.content }),\n            attachment: updateObject(this.state.controls_edit.attachment, { filename: filename })\n        });\n        this.setState(updateObject(this.state, {\n            canEdit: true,\n            controls_edit: updatedControls\n        }));\n    }\n\n    blockEditReviewPageHandler = () => {\n        this.setState(updateObject(this.state, {\n            canEdit: false\n        }));\n    }\n\n    confirmSubmitHandler = () => {\n        const submissionId = this.props.submission._id;\n        if (!this.state.canEdit) {\n            // create review\n            const formData = new FormData();\n            formData.append('reviewerDecisionId', this.state.controls.decisionId.value);\n            formData.append('content', this.state.controls.content.value);\n            formData.append('attachment', this.state.controls.attachment.file);\n            this.props.createReviewSubmission(submissionId, formData);\n        }\n        else {\n            // edit review\n            const formData = new FormData();\n            formData.append('reviewerDecisionId', this.state.controls_edit.decisionId.value);\n            formData.append('content', this.state.controls_edit.content.value);\n            formData.append('attachment', this.state.controls_edit.attachment.file);\n            this.props.editReviewSubmission(submissionId, formData);\n        }\n    }\n\n    render() {\n        const contentWrapper = (\n            <div className=\"content-wrapper\">\n                <section className=\"content-header\">\n                    <ContentHeader title=\"Thẩm định bài báo\">\n                        <li className=\"breadcrumb-item active\">Thẩm định bài báo</li>\n                    </ContentHeader>\n                </section>\n\n                <section className=\"content\">\n                    {!this.props.loading ? (\n                        <div className=\"card card-primary card-outline card-tabs\">\n                            <div className=\"card-header\">\n                                {this.props.submission ? <h3 className=\"card-title\">{this.props.submission.title}</h3> : null}\n                                <div className=\"float-right\">\n                                    <button className=\"btn btn-tool\" onClick={this.refreshHandler}>\n                                        <i className=\"fas fa-sync-alt\" style={{ fontSize: '20px' }}></i>\n                                    </button>\n                                </div>\n                            </div>\n\n                            <div className=\"card-header p-0\">\n                                <ul className=\"nav nav-tabs\" id=\"custom-tabs-one-tab\" role=\"tablist\">\n                                    <li className=\"nav-item\">\n                                        <div className={this.state.step1Active ? 'nav-link active' : 'nav-link'}\n                                            onClick={this.step1ActiveHandler}>\n                                            <div className={this.state.step1Active ? 'text-custom' : 'text-secondary'}><b>Chi tiết yêu cầu</b></div>\n                                        </div>\n                                    </li>\n                                    <li className=\"nav-item\">\n                                        <div className={this.state.step2Active ? 'nav-link active' : 'nav-link'}\n                                            onClick={this.step2ActiveHandler}>\n                                            <div className={this.state.step2Active ? 'text-custom' : 'text-secondary'}><b>Ý kiến thẩm định của bạn</b></div>\n                                        </div>\n                                    </li>\n                                </ul>\n                            </div>\n\n                            {this.props.submission && this.props.reviewerAssignment ? (\n                                <div className=\"card-body\">\n                                    <div className=\"tab-content\" id=\"custom-tabs-one-tabContent\">\n                                        {/* ------------------Tab 1----------------- */}\n                                        <div className={this.state.step1Active ? 'tab-pane show active' : 'tab-pane'}>\n                                            {/* Row */}\n                                            <div className=\"row\">\n                                                {/* Column */}\n                                                <div className=\"p-2 col-lg-12 border rounded\">\n                                                    <EditorialBoard\n                                                        submission={this.props.submission}\n                                                        reviewerAssignment={this.props.reviewerAssignment} />\n                                                </div>\n                                            </div>\n                                            {/* Row */}\n                                            <div className=\"row mt-2\">\n                                                {/* Colum */}\n                                                <div className=\"p-2 col-lg-8 border rounded\">\n                                                    <SubmissionInfor\n                                                        submission={this.props.submission} />\n                                                </div>\n                                                {/* Column */}\n                                                <div className=\"p-2 col-lg-4 border rounded\">\n                                                    <AssignmentInfor\n                                                        submission={this.props.submission}\n                                                        reviewerAssignment={this.props.reviewerAssignment} />\n                                                    <SubmissionProcess\n                                                        submission={this.props.submission} />\n                                                </div>\n                                            </div>\n                                        </div>\n\n                                        {/* ------------------Tab 2----------------- */}\n                                        <div className={this.state.step2Active ? 'tab-pane show active' : 'tab-pane'}>\n                                            {/* Row */}\n                                            <div className=\"row\">\n                                                <div className=\"p-2 col-lg-12 border rounded\">\n                                                    <EditorialBoard\n                                                        submission={this.props.submission}\n                                                        reviewerAssignment={this.props.reviewerAssignment} />\n                                                </div>\n                                            </div>\n                                            {/* Row */}\n                                            <div className=\"row mt-2\">\n                                                {/* Column */}\n                                                <div className=\"p-2 col-lg-8 border rounded\">\n                                                    {!checkDueDate(this.props.reviewerAssignment.dueDate) ? (\n                                                        <Aux>\n                                                            <div className=\"form-group ml-1 text-danger font-weight-bold\">\n                                                                <i className=\"fas fa-times-circle\"></i> Bài báo đã hết thời hạn thẩm định!\n                                                            </div>\n                                                            <h6><i className=\"fas fa-comment\"></i> Ý KIẾN THẨM ĐỊNH CỦA BẠN</h6>\n                                                            <ReviewDetail reviewerSubmission={this.props.reviewerAssignment.reviewerSubmissionId} />\n                                                        </Aux>\n                                                    ) : (\n                                                            <Aux>\n                                                                {this.props.reviewerAssignment.reviewerSubmissionId ? (\n                                                                    <Aux>\n                                                                        {this.state.canEdit ? (\n                                                                            <EditReview\n                                                                                reviewSubmission={this.props.reviewerAssignment.reviewerSubmissionId}\n                                                                                reviewerDecisions={this.props.reviewerDecisions}\n                                                                                inputChangeHandler={this.inputChangeHandler_edit}\n                                                                                controls={this.state.controls_edit}\n                                                                                formIsValid={this.state.formIsValid_edit}\n                                                                                cancelEdit={this.blockEditReviewPageHandler}\n                                                                                fileUploading={this.props.fileUploading} />\n                                                                        ) : (\n                                                                                <Aux>\n                                                                                    <h6><i className=\"fas fa-comment\"></i> Ý KIẾN THẨM ĐỊNH CỦA BẠN</h6>\n                                                                                    <ReviewDetail reviewerSubmission={this.props.reviewerAssignment.reviewerSubmissionId} />\n                                                                                </Aux>\n                                                                            )}\n                                                                    </Aux>\n                                                                ) : (\n                                                                        <CreateReview\n                                                                            reviewerDecisions={this.props.reviewerDecisions}\n                                                                            inputChangeHandler={this.inputChangeHandler}\n                                                                            controls={this.state.controls}\n                                                                            formIsValid={this.state.formIsValid}\n                                                                            fileUploading={this.props.fileUploading} />\n                                                                    )}\n                                                            </Aux>\n                                                        )}\n                                                </div>\n                                                {/* Column */}\n                                                <div className=\"p-2 col-lg-4 border rounded\">\n                                                    <h6><i className=\"fas fa-stream\"></i> TRẠNG THÁI</h6>\n                                                    {this.props.reviewerAssignment.reviewerSubmissionId ? (\n                                                        <Aux>\n                                                            <div className=\"form-group text-center\">\n                                                                <div className=\"badge-ol badge-ol-danger badge-outlined p-2 pr-5 pl-5\" style={{ fontSize: '16px' }}>\n                                                                    <i className=\"fas fa-check\"></i> Đã nộp ý kiến thẩm định\n                                                                </div>\n                                                            </div>\n                                                            <div className=\"form-group\">\n                                                                {checkDueDate(this.props.reviewerAssignment.dueDate) ? (\n                                                                    <Aux>\n                                                                        {!this.state.canEdit ? (\n                                                                            <button\n                                                                                type=\"button\"\n                                                                                className=\"btn btn-outline-dark btn-block btn-flat\"\n                                                                                onClick={(event) => this.openEditReviewPageHandler(event, this.props.reviewerAssignment.reviewerSubmissionId)}>\n                                                                                <i className=\"fas fa-edit\"></i> Chỉnh sửa ý kiến\n                                                                            </button>\n                                                                        ) : null}\n                                                                    </Aux>\n                                                                ) : (\n                                                                        <button\n                                                                            type=\"button\"\n                                                                            className=\"btn btn-outline-dark btn-block btn-flat\"\n                                                                            onClick={() => toast.error('Bài báo đã hết hạn xử lý!')}>\n                                                                            <i className=\"fas fa-edit\"></i> Chỉnh sửa ý kiến\n                                                                        </button>\n                                                                    )}\n                                                            </div>\n                                                        </Aux>\n                                                    ) : (\n                                                            <Aux>\n                                                                <div className=\"form-group text-center\">\n                                                                    <div className=\"badge-ol badge-ol-danger badge-outlined p-2 pr-4 pl-4\" style={{ fontSize: '16px' }}>\n                                                                        <i className=\"fas fa-close\"></i> Chưa nộp ý kiến thẩm định\n                                                                </div>\n                                                                </div>\n                                                            </Aux>\n                                                        )}\n                                                    <SubmissionProcess\n                                                        submission={this.props.submission} />\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            ) : null}\n                        </div>\n                    ) : <Spinner />}\n                </section>\n                {this.props.submission && <SubmissionLogs logs={this.props.submission.submissionLogs} />}\n            </div>\n        );\n\n        return (\n            <Aux>\n                {contentWrapper}\n                <ConfirmDialog\n                    title=\"Xác nhận\"\n                    message=\"Gửi ý kiến thẩm định bài báo cho biên tập viên?\"\n                    confirm={this.confirmSubmitHandler} />\n                {this.props.error ? toast.error('Error: ' + this.props.error) : null}\n            </Aux>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        submission: state.submission.submission,\n        loading: state.submission.loading,\n        reviewerAssignment: state.review.reviewerAssignment,\n        reviewerDecisions: state.submission.reviewerDecisions,\n        fileUploading: state.review.fileUploading,\n        isReviewSubmissionCreated: state.review.isReviewSubmissionCreated,\n        isReviewSubmissionEdited: state.review.isReviewSubmissionEdited,\n        error: state.review.error\n    }\n};\n\nconst mapDispatchToProps = {\n    getSubmissionDetail,\n    getMyReviewerAssignmentDetail,\n    getReviewerDecisions,\n    createReviewSubmission,\n    resetCreateReviewSubmissionState,\n    editReviewSubmission,\n    resetEditReviewSubmissionState,\n    getMyNotifications\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ReviewerAssignment);\n","import React, { Component } from 'react';\nimport Aux from '../../../../hoc/Auxiliary/Auxiliary';\nimport ConfirmDialog from '../../../UI/ConfirmDialog/ConfirmDialog';\nimport Spinner from '../../../UI/Spinner/Spinner';\nimport { connect } from 'react-redux';\nimport { updateObject } from '../../../../utils/utility';\nimport {\n    getCategories,\n    getSubmissionTypes,\n    getSubmissionDetail\n} from '../../../../store/actions/submissionActions';\nimport {\n    authorCreateRevision,\n    resetAuthorRevisionState\n} from '../../../../store/actions/reviewActions';\nimport { Link } from 'react-router-dom';\nimport ContentHeader from '../../Shared/ContentHeader';\nimport { toast } from 'react-toastify';\nimport { editSubmissionInputControls } from '../../../../utils/input-controls';\nimport { submitArticleInputChangeHandler } from '../../../../utils/input-change';\nimport AddContributor from '../AddContributor/AddContributor';\n\nclass ReviseSubmission extends Component {\n\n    state = {\n        step1Active: true,\n        step2Active: false,\n        controls: editSubmissionInputControls,\n        formIsValid: true,\n        oldMetadata: [],\n        metadata: [],\n        contributors: [],\n        fullname: '',\n        affiliation: ''\n    }\n\n    componentDidMount() {\n        this.props.getCategories();\n        this.props.getSubmissionTypes();\n        if (this.props.match.params.submissionId) {\n            this.props.getSubmissionDetail(this.props.match.params.submissionId);\n        }\n    }\n\n    initControlValues = (submission) => {\n        const updatedControls = updateObject(this.state.controls, {\n            categoryId: updateObject(this.state.controls.categoryId, { value: submission.categoryId._id, categoryName: submission.categoryId.name }),\n            typeId: updateObject(this.state.controls.typeId, { value: submission.typeId._id, typeName: submission.typeId.name }),\n            title: updateObject(this.state.controls.title, { value: submission.title }),\n            abstract: updateObject(this.state.controls.abstract, { value: submission.abstract }),\n            attachment: updateObject(this.state.controls.attachment, { filename: submission.attachmentFile })\n        });\n        const oldMetadata = submission.metadata;\n        const contributors = submission.contributors;\n        this.setState(updateObject(this.state, {\n            controls: updatedControls,\n            oldMetadata: oldMetadata,\n            contributors: contributors\n        }));\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        if (nextProps.error) {\n            this.props.resetAuthorRevisionState();\n        }\n        if (nextProps.submission && nextProps.submission !== this.props.submission) {\n            this.initControlValues(nextProps.submission);\n        }\n        if (nextProps.isAuthorRevisionCreated) {\n            this.props.resetAuthorRevisionState();\n            toast.success(\"Nộp bản chỉnh sửa bài báo thành công!\");\n            this.setState(updateObject(this.state, {\n                step1Active: false, step2Active: false, step3Active: true\n            }));\n        }\n    }\n\n    inputChangeHandler = (event) => {\n        event.preventDefault();\n        const { updatedControls, formIsValid } = submitArticleInputChangeHandler(event, this.state);\n        this.setState({\n            controls: updatedControls,\n            formIsValid: formIsValid\n        });\n    };\n\n    metaDataChangeHandler = (event) => {\n        event.preventDefault();\n        let controlName = event.target.name;\n        if (controlName === 'metadata') {\n            let newState = updateObject(this.state, {\n                metadata: event.target.files\n            });\n            this.setState(newState);\n        }\n    }\n\n    contributorInputChangeHandler = (event) => {\n        event.preventDefault();\n        let controlName = event.target.name;\n        if (controlName === 'fullname') {\n            this.setState(updateObject(this.state, { fullname: event.target.value }));\n        } else {\n            this.setState(updateObject(this.state, { affiliation: event.target.value }));\n        }\n    }\n\n    addContributorHandler = () => {\n        const contributor = {\n            fullname: this.state.fullname,\n            affiliation: this.state.affiliation\n        };\n        const contributors = this.state.contributors;\n        contributors.push(contributor);\n        this.setState(updateObject(this.state, {\n            contributors: contributors,\n            fullname: '',\n            affiliation: ''\n        }));\n    }\n\n    removeContributorHandler = (idx) => {\n        const contributors = this.state.contributors;\n        contributors.splice(idx, 1);\n        this.setState(updateObject(this.state, { contributors: contributors }));\n    }\n\n    step1ActiveHandler = (event) => {\n        event.preventDefault();\n        let newState = updateObject(this.state, {\n            step1Active: true, step2Active: false, step3Active: false\n        });\n        this.setState(newState);\n    }\n\n    step2ActiveHandler = () => {\n        let newState = updateObject(this.state, {\n            step1Active: false, step2Active: true, step3Active: false\n        });\n        this.setState(newState);\n    }\n\n    confirmSubmitHandler = () => {\n        const formData = new FormData();\n        formData.append('title', this.state.controls.title.value);\n        formData.append('abstract', this.state.controls.abstract.value);\n        formData.append('attachment', this.state.controls.attachment.file);\n        formData.append('categoryId', this.state.controls.categoryId.value);\n        formData.append('typeId', this.state.controls.typeId.value);\n        const data = JSON.stringify({ data: this.state.contributors });\n        formData.append('contributors', data);\n        for (const file of this.state.metadata) {\n            formData.append('metadata', file);\n        }\n        this.props.authorCreateRevision(this.props.submission._id, formData);\n    }\n\n    cancelHandler = () => {\n        this.props.resetAuthorRevisionState();\n        this.props.history.push('/dashboard/submission/' + this.props.submission._id);\n    }\n\n    render() {\n        const editArticle = (\n            <div className=\"content-wrapper\">\n                <section className=\"content-header\">\n                    <ContentHeader title=\"Chỉnh sửa bài báo\">\n                        <li className=\"breadcrumb-item active\">Chỉnh sửa bài báo</li>\n                    </ContentHeader>\n                </section>\n                <section className=\"content\">\n                    <div className=\"container-fluid\">\n                        <div className=\"col-md-12\">\n                            {!this.props.loading ? (\n                                <div className=\"card card-dark card-tabs\">\n                                    <div className=\"card-header p-0 pt-1\">\n                                        <ul className=\"nav nav-tabs\" id=\"custom-tabs-one-tab\" role=\"tablist\">\n                                            <li className=\"nav-item\">\n                                                <div className={this.state.step1Active ? 'nav-link active' : 'nav-link'}>\n                                                    1. Thông tin chi tiết\n                                            </div>\n                                            </li>\n                                            <li className=\"nav-item\">\n                                                <div className={this.state.step2Active ? 'nav-link active' : 'nav-link'}>\n                                                    2. Metadata\n                                            </div>\n                                            </li>\n                                            <li className=\"nav-item\">\n                                                <div className={this.state.step3Active ? 'nav-link active' : 'nav-link'}>\n                                                    3. Hoàn thành\n                                            </div>\n                                            </li>\n                                        </ul>\n                                    </div>\n                                    <div className=\"card-body\">\n                                        <div className=\"tab-content\" id=\"custom-tabs-one-tabContent\">\n                                            {/* ------------------Tab 1----------------- */}\n                                            <div className={this.state.step1Active ? 'tab-pane show active' : 'tab-pane'}>\n                                                <div className=\"card-body\">\n                                                    {this.props.types.length > 0 ? (\n                                                        <div className=\"form-group\">\n                                                            <label>Loại bài báo*</label>\n                                                            <select\n                                                                name=\"typeId\"\n                                                                defaultValue={this.value}\n                                                                className=\"custom-select form-control\"\n                                                                onChange={this.inputChangeHandler}\n                                                            >\n                                                                <option value=\"\" hidden>{this.state.controls.typeId.typeName}</option>\n                                                                {this.props.types.map(type => (\n                                                                    <option key={type._id} value={type._id}>\n                                                                        {type.name}\n                                                                    </option>\n                                                                ))}\n                                                            </select>\n                                                        </div>\n                                                    ) : null}\n                                                    {this.props.categories.length > 0 ? (\n                                                        <div className=\"form-group\">\n                                                            <label>Thể loại*</label>\n                                                            <select\n                                                                name=\"categoryId\"\n                                                                defaultValue={this.value}\n                                                                className=\"custom-select form-control\"\n                                                                onChange={this.inputChangeHandler}\n                                                            >\n                                                                <option value=\"\" hidden>{this.state.controls.categoryId.categoryName}</option>\n                                                                {this.props.categories.map(category => (\n                                                                    <option key={category._id} value={category._id}>\n                                                                        {category.name}\n                                                                    </option>\n                                                                ))}\n                                                            </select>\n                                                        </div>\n                                                    ) : null}\n                                                    <div className=\"form-group\">\n                                                        <label>Tiêu để*</label>\n                                                        <input\n                                                            type=\"text\"\n                                                            name=\"title\"\n                                                            className={!this.state.controls.title.valid && this.state.controls.title.touched ? \"form-control-error\" : \"form-control\"}\n                                                            defaultValue={this.state.controls.title.value}\n                                                            onChange={this.inputChangeHandler} />\n                                                        {!this.state.controls.title.valid && this.state.controls.title.touched ?\n                                                            <p className=\"form-control-error-msg\">Tiêu đề không hợp lệ!</p> : null}\n                                                    </div>\n                                                    <div className=\"form-group\">\n                                                        <label>Mô tả*</label>\n                                                        <textarea\n                                                            type=\"text\"\n                                                            name=\"abstract\"\n                                                            className={!this.state.controls.abstract.valid && this.state.controls.abstract.touched ? \"form-control-error\" : \"form-control\"}\n                                                            placeholder={this.state.controls.abstract.elementConfig.placeholder}\n                                                            defaultValue={this.state.controls.abstract.value}\n                                                            onChange={this.inputChangeHandler} />\n                                                        {!this.state.controls.abstract.valid && this.state.controls.abstract.touched ?\n                                                            <p className=\"form-control-error-msg\">Mô tả không hợp lệ!</p> : null}\n                                                    </div>\n                                                    <div className=\"form-group\">\n                                                        <label>File đính kèm*</label>\n                                                        <div className=\"input-group\">\n                                                            <div className=\"custom-file\">\n                                                                <input\n                                                                    type=\"file\"\n                                                                    name=\"attachment\"\n                                                                    className=\"custom-file-input\"\n                                                                    onChange={this.inputChangeHandler} />\n                                                                {!this.state.controls.attachment.valid && this.state.controls.attachment.touched ?\n                                                                    <p className=\"form-control-error-msg\">File tải lên không hợp lệ!</p> : null}\n                                                                <label className=\"custom-file-label\" htmlFor=\"coverImage\">{this.state.controls.attachment.filename}</label>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n\n                                                <div className=\"card-footer\">\n                                                    <button\n                                                        type=\"button\"\n                                                        className=\"btn btn-outline-primary btn-flat\"\n                                                        disabled={!this.state.formIsValid}\n                                                        onClick={this.step2ActiveHandler}>Tiếp tục</button>\n                                                    <button\n                                                        type=\"button\"\n                                                        className=\"btn btn-outline-danger ml-1 btn-flat\"\n                                                        onClick={this.cancelHandler}>Hủy</button>\n                                                </div>\n                                            </div>\n                                            {/* ------------------Tab 2----------------- */}\n                                            <div className={this.state.step2Active ? 'tab-pane show active' : 'tab-pane'}>\n                                                <div className=\"card-body\">\n                                                    <div className=\"form-group\">\n                                                        <label>Tài liệu kèm theo</label>\n                                                        <div className=\"input-group\">\n                                                            <div className=\"custom-file mb-2\">\n                                                                <input\n                                                                    type=\"file\"\n                                                                    name=\"metadata\"\n                                                                    multiple\n                                                                    className=\"custom-file-input\"\n                                                                    onChange={this.metaDataChangeHandler} />\n                                                                <label className=\"custom-file-label\" htmlFor=\"coverImage\">{this.state.metadata.length} file đã chọn</label>\n                                                            </div>\n                                                        </div>\n                                                        <div>\n                                                            {this.state.metadata.length > 0 ? (\n                                                                <Aux>\n                                                                    {Array.from(this.state.metadata).map(file => {\n                                                                        const iden = Math.floor(Math.random() * 111111);\n                                                                        return (\n                                                                            <div className=\"ml-2\" key={iden}>\n                                                                                <i className=\"fa fa-paperclip fa-lg\"></i> {\" \"}\n                                                                                <Link to=\"#\" className=\"text-primary\">{file.name}</Link>\n                                                                            </div>\n                                                                        );\n                                                                    })}\n                                                                </Aux>\n                                                            ) : (\n                                                                    <Aux>\n                                                                        {this.state.oldMetadata.map(file => {\n                                                                            const iden = Math.floor(Math.random() * 111111);\n                                                                            return (\n                                                                                <div className=\"ml-2\" key={iden}>\n                                                                                    <i className=\"fa fa-paperclip fa-lg\"></i>\n                                                                                    <a href={file.url} className=\"text-primary\" target=\"_blank\" rel=\"noopener noreferrer\">\n                                                                                        {\" \"}{file.filename}\n                                                                                    </a>\n                                                                                </div>\n                                                                            );\n                                                                        })}\n                                                                    </Aux>\n                                                                )}\n                                                        </div>\n                                                        {this.props.fileUploading ? (\n                                                            <div className=\"input-group\">\n                                                                <div className=\"spinner-border text-primary mt-2\" role=\"status\" style={{ width: '25px', height: '25px' }}></div>\n                                                                <div className=\"mt-2 ml-2 text-secondary\" style={{ fontStyle: 'italic' }}>Đang tải lên...</div>\n                                                            </div>\n                                                        ) : null}\n                                                    </div>\n                                                    <div className=\"form-group\">\n                                                        <label>Đồng tác giả ({this.state.contributors.length})</label><br />\n                                                        <button\n                                                            type=\"button\"\n                                                            className=\"btn btn-outline-dark btn-flat\"\n                                                            data-toggle=\"modal\"\n                                                            data-target=\"#addContributorModal\">\n                                                            <i className=\"fas fa-plus\"></i>{\" \"}Thêm mới\n                                                    </button>\n                                                    </div>\n                                                    <div>\n                                                        {this.state.contributors.length > 0 && (\n                                                            <Aux>\n                                                                {this.state.contributors.map((contributor, idx) => {\n                                                                    const iden = idx;\n                                                                    return (\n                                                                        <div className=\"ml-2\" key={iden}>\n                                                                            <i className=\"fas fa-user\"></i> {\" \"}\n                                                                            <Link to=\"#\" className=\"text-primary\">{contributor.fullname}</Link>{\"\"}\n                                                                            - <b>{contributor.affiliation}</b>\n                                                                            <i className=\"far fa-trash-alt text-danger pl-3\"\n                                                                                style={{ cursor: 'pointer' }}\n                                                                                onClick={() => this.removeContributorHandler(iden)}></i>\n                                                                        </div>\n                                                                    );\n                                                                })}\n                                                            </Aux>\n                                                        )}\n                                                    </div>\n                                                </div>\n\n                                                <div className=\"card-footer\">\n                                                    <button\n                                                        type=\"button\"\n                                                        className=\"btn btn-outline-primary btn-flat\"\n                                                        data-toggle=\"modal\"\n                                                        data-target=\"#confirmDialogModal\">Xác nhận</button>\n                                                    <button\n                                                        className=\"btn btn-outline-danger ml-2 btn-flat\"\n                                                        onClick={this.step2ActiveHandler}>Quay lại</button>\n                                                </div>\n                                            </div>\n                                            {/* ------------------Tab 3----------------- */}\n                                            <div className={this.state.step3Active ? 'tab-pane show active' : 'tab-pane'}>\n                                                <h4>Nộp bản chỉnh sửa bài báo thành công.</h4>\n                                                <div className=\"ml-2\">Bạn đã nộp bản chỉnh sửa bài báo. Biên tập viên sẽ đánh giá lại bài báo và\n                                                gửi kết quả thẩm định cuối cùng lại cho bạn trong thời gian sớm nhất.</div>\n                                                <div className=\"ml-2 mt-2\">Bạn vui lòng kiểm tra email và thông\n                                                    báo trên hệ thống thường xuyên để thuận tiện trong việc trao đổi với ban biên tập các vấn đề liên quan.</div>\n                                                <h4 className=\"mt-3\">Bây giờ, bạn có thể:</h4>\n                                                {this.props.submission ? (\n                                                    <Aux>\n                                                        <div className=\"ml-2\">\n                                                            <i className=\"fa fa-eye\"></i>\n                                                            {\" \"}<Link to={`/dashboard/submission/${this.props.submission._id}`} className=\"text-primary\">\n                                                                Xem chi tiết bài báo.\n                                                                </Link>.\n                                                        </div>\n                                                        <div className=\"ml-2\">\n                                                            <i className=\"fa fa-edit\"></i>\n                                                            {\" \"}<Link to={`/dashboard/revise-submission/${this.props.submission._id}`} className=\"text-primary\">Nộp lại bản chỉnh sửa bài báo</Link>\n                                                        </div>\n                                                    </Aux>\n                                                ) : null}\n                                                <div className=\"ml-2\">\n                                                    <i className=\"fa fa-home\"></i>\n                                                    {\" \"} <Link to=\"/dashboard/home\" className=\"text-primary\">Trở về trang tác giả.</Link>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            ) : <Spinner />}\n                        </div>\n                    </div>\n                </section>\n            </div>\n        );\n\n        return (\n            <Aux>\n                {editArticle}\n                <ConfirmDialog\n                    title=\"Xác nhận\"\n                    message=\"Nộp bản chỉnh sửa bài báo?\"\n                    confirm={this.confirmSubmitHandler} />\n                <AddContributor\n                    title=\"Thêm đồng tác giả\"\n                    fullname={this.state.fullname}\n                    affiliation={this.state.affiliation}\n                    inputChange={this.contributorInputChangeHandler}\n                    confirm={this.addContributorHandler} />\n                {this.props.error ? toast.error('Error: ' + this.props.error) : null}\n            </Aux>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        categories: state.submission.categories,\n        types: state.submission.types,\n        submission: state.submission.submission,\n        loading: state.review.loading,\n        fileUploading: state.review.fileUploading,\n        error: state.review.error,\n        isAuthorRevisionCreated: state.review.isAuthorRevisionCreated\n    };\n};\n\nconst mapDispatchToProps = {\n    getCategories,\n    getSubmissionTypes,\n    getSubmissionDetail,\n    authorCreateRevision,\n    resetAuthorRevisionState\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ReviseSubmission);","import React, { Component } from 'react';\nimport Aux from '../../../../hoc/Auxiliary/Auxiliary';\nimport { updateObject } from '../../../../utils/utility';\nimport ContentHeader from '../../Shared/ContentHeader';\nimport { acceptSubmissionInputControls } from '../../../../utils/input-controls';\nimport { acceptSubmissionInputChangeHandler } from '../../../../utils/input-change';\nimport { Link } from 'react-router-dom';\nimport {\n    getSubmissionDetail,\n} from '../../../../store/actions/submissionActions';\nimport {\n    acceptSubmisison,\n    resetAcceptSubmissionState\n} from '../../../../store/actions/reviewActions'\nimport { connect } from 'react-redux';\nimport ConfirmDialog from '../../../UI/ConfirmDialog/ConfirmDialog';\nimport { toast } from 'react-toastify';\nimport { EditorState, ContentState } from 'draft-js';\nimport { Editor } from 'react-draft-wysiwyg';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nimport htmlToDraft from 'html-to-draftjs';\nimport { acceptSubmissionTemplate} from '../../../../utils/email-template';\nimport { stateToHTML } from 'draft-js-export-html';\n\nclass AcceptSubmission extends Component {\n    state = {\n        step1Active: true,\n        step2Active: false,\n        controls: acceptSubmissionInputControls,\n        formIsValid: false,\n        editorState: null\n    };\n\n    componentDidMount() {\n        if (this.props.match.params.submissionId) {\n            this.props.getSubmissionDetail(this.props.match.params.submissionId);\n        }\n    }\n\n    inputChangeHandler = (event) => {\n        event.preventDefault();\n        const { updatedControls, formIsValid } = acceptSubmissionInputChangeHandler(event, this.state);\n        this.setState({\n            controls: updatedControls,\n            formIsValid: formIsValid\n        });\n    };\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        if (nextProps.submission) {\n            // Text Editor\n            const contentBlock = htmlToDraft(acceptSubmissionTemplate(nextProps.submission.title,\n                this.props.ceFullname, nextProps.submission.authorId.lastname + \" \" + nextProps.submission.authorId.firstname));\n            let editorState = null;\n            if (contentBlock) {\n                const contentState = ContentState.createFromBlockArray(contentBlock.contentBlocks);\n                editorState = EditorState.createWithContent(contentState);\n\n            }\n            this.setState(updateObject(this.state, {\n                editorState: editorState\n            }));\n        }\n        if (nextProps.error) {\n            this.props.resetAcceptSubmissionState();\n        }\n        if (nextProps.isSubmissionAccepted && !nextProps.error) {\n            this.props.resetAcceptSubmissionState();\n            toast.success(\"Chấp nhận xuất bản bài báo trên hệ thống thành công!\");\n            this.setState(updateObject(this.state, {\n                step1Active: false, step2Active: true\n            }));\n        }\n    }\n\n    step1ActiveHandler = () => {\n        let newState = updateObject(this.state, {\n            step1Active: true, step2Active: false\n        });\n        this.setState(newState);\n    }\n\n    step2ActiveHandler = () => {\n        let newState = updateObject(this.state, {\n            step1Active: false, step2Active: true,\n        });\n        this.setState(newState);\n    }\n\n    confirmSubmitHandler = () => {\n        const htmlContent = stateToHTML(this.state.editorState.getCurrentContent());\n        const authorEmail = this.props.submission.authorId.email;\n\n        const submissionId = this.props.submission._id;\n        const content = this.state.controls.content.value;\n        \n        this.props.acceptSubmisison(submissionId, content, authorEmail, htmlContent);\n    }\n\n    onEditorStateChange = (editorState) => {\n        this.setState(updateObject(this.state, { editorState: editorState }));\n    };\n\n    render() {\n        const contentWrapper = (\n            <div className=\"content-wrapper\">\n                <section className=\"content-header\">\n                    <ContentHeader title=\"Chấp nhận bài báo\">\n                        <li className=\"breadcrumb-item active\">Chấp nhận bài báo</li>\n                    </ContentHeader>\n                </section>\n\n                <section className=\"content\">\n                    <div className=\"card\">\n                        <div className=\"card-header\">\n                            {this.props.submission ? <h3 className=\"card-title\">{this.props.submission.title}</h3> : null}\n                        </div>\n\n                        <div className=\"card-header p-0\">\n                            <ul className=\"nav nav-tabs\" id=\"custom-tabs-one-tab\" role=\"tablist\">\n                                <li className=\"nav-item\">\n                                    <div className={this.state.step1Active ? 'nav-link active' : 'nav-link'}>\n                                        <div className={this.state.step1Active ? 'text-custom' : 'text-secondary'}><b>1. Thông tin tới tác giả</b></div>\n                                    </div>\n                                </li>\n                                <li className=\"nav-item\">\n                                    <div className={this.state.step2Active ? 'nav-link active' : 'nav-link'}>\n                                        <div className={this.state.step2Active ? 'text-custom' : 'text-secondary'}><b>2. Hoàn thành</b></div>\n                                    </div>\n                                </li>\n                            </ul>\n                        </div>\n\n                        <div className=\"card-body\">\n                            <div className=\"tab-content\" id=\"custom-tabs-one-tabContent\">\n                                {/* ------------------Tab 1----------------- */}\n                                <div className={this.state.step1Active ? 'tab-pane show active' : 'tab-pane'}>\n                                    <div className=\"card-body\">\n                                        <div className=\"form-group pb-2\">\n                                            <label>Kết luận của ban biên tập</label><br />\n                                            <span className={\"decision-success ml-2 pl-2 pr-2\"}>\n                                                <i className=\"fas fa-check\"></i> {\" \"}\n                                                    Chấp nhận xuất bản bài báo\n                                                </span>\n                                        </div>\n                                        <div className=\"form-group\">\n                                            <label>Nhận xét của ban biên tập*</label>\n                                            <textarea\n                                                type=\"text\"\n                                                name=\"content\"\n                                                className={!this.state.controls.content.valid && this.state.controls.content.touched ? \"form-control-error\" : \"form-control\"}\n                                                placeholder={this.state.controls.content.elementConfig.placeholder}\n                                                defaultValue={this.state.controls.content.value}\n                                                onChange={this.inputChangeHandler} />\n                                            {!this.state.controls.content.valid && this.state.controls.content.touched ?\n                                                <p className=\"form-control-error-msg\">Nhận xét không hợp lệ!</p> : null}\n                                        </div>\n                                        <div className=\"form-group\">\n                                            <label>Gửi Email đến tác giả*</label>\n                                            <p><span className=\"text-dark\">Địa chỉ email:</span> {this.props.submission ? this.props.submission.authorId.email : \"\"}</p>\n                                            <Editor\n                                                editorState={this.state.editorState}\n                                                wrapperClassName=\"wrapper-class\"\n                                                editorClassName=\"form-control\"\n                                                toolbarClassName=\"toolbar-class\"\n                                                onEditorStateChange={this.onEditorStateChange} />\n                                        </div>\n                                    </div>\n                                    <div className=\"card-footer\">\n                                        <button\n                                            type=\"button\"\n                                            className=\"btn btn-outline-primary btn-flat\"\n                                            data-toggle=\"modal\"\n                                            data-target=\"#confirmDialogModal\"\n                                            disabled={!this.state.formIsValid}>Xác nhận</button>\n                                        <Link to={`/dashboard/submission/${this.props.match.params.submissionId}`}>\n                                            <button className=\"btn btn-outline-danger ml-2 btn-flat\" >Hủy </button>\n                                        </Link>\n                                    </div>\n                                </div>\n                                {/* ------------------Tab 2----------------- */}\n                                <div className={this.state.step2Active ? 'tab-pane show active' : 'tab-pane'}>\n                                    <h4>Chấp nhận xuất bản bài báo lên hệ thống thành công.</h4>\n                                    {this.props.submission ? (\n                                        <div className=\"ml-2\">Bài báo <b>{this.props.submission.title}</b> của tác giả {\" \"}\n                                            <Link to=\"\" className=\"text-primary\">{this.props.submission.authorId.firstname} {this.props.submission.authorId.lastname}.</Link>\n                                            {\" \"}đã được xuất bản trên hệ thống.\n                                        </div>\n                                    ) : null}\n                                    <h4 className=\"mt-3\">Bây giờ, bạn có thể:</h4>\n                                    {this.props.submission ? (\n                                        <div className=\"ml-2\">\n                                            <i className=\"fa fa-eye\"></i> {\" \"}\n                                            <Link to={`/dashboard/submission/${this.props.submission._id}`} className=\"text-primary\">\n                                                Xem thông tin bài báo\n                                            </Link>.\n                                        </div>\n                                    ) : null}\n                                    <div className=\"ml-2\">\n                                        <i className=\"fa fa-home\"></i>\n                                        {\" \"} <Link to=\"/dashboard\" className=\"text-primary\">Trở về trang chủ.</Link>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n            </div>\n        );\n\n        return (\n            <Aux>\n                {contentWrapper}\n                <ConfirmDialog\n                    title=\"Xác nhận\"\n                    message=\"Quyết định xuất bản bài báo trên hệ thống?\"\n                    confirm={this.confirmSubmitHandler} />\n                {this.props.error ? toast.error('Error: ' + this.props.error) : null}\n            </Aux>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        ceFullname: state.auth.fullname,\n        submission: state.submission.submission,\n        isSubmissionAccepted: state.review.isSubmissionAccepted,\n        error: state.review.error\n    };\n};\n\nconst mapDispatchToProps = {\n    getSubmissionDetail,\n    acceptSubmisison,\n    resetAcceptSubmissionState\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AcceptSubmission);\n","import React, { Component } from 'react';\nimport Aux from '../../../../hoc/Auxiliary/Auxiliary';\nimport { updateObject } from '../../../../utils/utility';\nimport ContentHeader from '../../Shared/ContentHeader';\nimport { acceptSubmissionInputControls } from '../../../../utils/input-controls';\nimport { acceptSubmissionInputChangeHandler } from '../../../../utils/input-change';\nimport { Link } from 'react-router-dom';\nimport {\n    getSubmissionDetail,\n} from '../../../../store/actions/submissionActions';\nimport {\n    declineSubmisison,\n    resetDeclineSubmissionState\n} from '../../../../store/actions/reviewActions'\nimport { connect } from 'react-redux';\nimport ConfirmDialog from '../../../UI/ConfirmDialog/ConfirmDialog';\nimport { toast } from 'react-toastify';\nimport { EditorState, ContentState } from 'draft-js';\nimport { Editor } from 'react-draft-wysiwyg';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nimport htmlToDraft from 'html-to-draftjs';\nimport { declineSubmissionTemplate } from '../../../../utils/email-template';\nimport { stateToHTML } from 'draft-js-export-html';\n\nclass DeclineSubmission extends Component {\n\n    state = {\n        step1Active: true,\n        step2Active: false,\n        controls: acceptSubmissionInputControls,\n        formIsValid: false,\n        editorState: null\n    };\n\n    componentDidMount() {\n        if (this.props.match.params.submissionId) {\n            this.props.getSubmissionDetail(this.props.match.params.submissionId);\n        }\n    }\n\n    inputChangeHandler = (event) => {\n        event.preventDefault();\n        const { updatedControls, formIsValid } = acceptSubmissionInputChangeHandler(event, this.state);\n        this.setState({\n            controls: updatedControls,\n            formIsValid: formIsValid\n        });\n    };\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        if (nextProps.submission) {\n            // Text Editor\n            const url = \"https://vnojs.online/dashboard/submission/\" + nextProps.submission._id;\n            const contentBlock = htmlToDraft(declineSubmissionTemplate(nextProps.submission.title, url,\n                this.props.ceFullname, nextProps.submission.authorId.lastname + \" \" + nextProps.submission.authorId.firstname));\n            let editorState = null;\n            if (contentBlock) {\n                const contentState = ContentState.createFromBlockArray(contentBlock.contentBlocks);\n                editorState = EditorState.createWithContent(contentState);\n\n            }\n            this.setState(updateObject(this.state, {\n                editorState: editorState\n            }));\n        }\n        if (nextProps.error) {\n            this.props.resetDeclineSubmissionState();\n        }\n        if (nextProps.isSubmissionDeclined && !nextProps.error) {\n            this.props.resetDeclineSubmissionState();\n            toast.success(\"Từ chối bài báo thành công!\");\n            this.setState(updateObject(this.state, {\n                step1Active: false,\n                step2Active: true\n            }));\n        }\n    }\n\n    step1ActiveHandler = () => {\n        let newState = updateObject(this.state, {\n            step1Active: true, step2Active: false\n        });\n        this.setState(newState);\n    }\n\n    step2ActiveHandler = () => {\n        let newState = updateObject(this.state, {\n            step1Active: false, step2Active: true,\n        });\n        this.setState(newState);\n    }\n\n    confirmSubmitHandler = () => {\n        const htmlContent = stateToHTML(this.state.editorState.getCurrentContent());\n        const authorEmail = this.props.submission.authorId.email;\n\n        const submissionId = this.props.submission._id;\n        const content = this.state.controls.content.value;\n\n        this.props.declineSubmisison(submissionId, content, authorEmail, htmlContent);\n    }\n\n    onEditorStateChange = (editorState) => {\n        this.setState(updateObject(this.state, { editorState: editorState }));\n    };\n\n    render() {\n        const contentWrapper = (\n            <div className=\"content-wrapper\">\n                <section className=\"content-header\">\n                    <ContentHeader title=\"Từ chối bài báo\">\n                        <li className=\"breadcrumb-item active\">Từ chối bài báo</li>\n                    </ContentHeader>\n                </section>\n\n                <section className=\"content\">\n                    <div className=\"card\">\n                        <div className=\"card-header\">\n                            {this.props.submission ? <h3 className=\"card-title\">{this.props.submission.title}</h3> : null}\n                        </div>\n\n                        <div className=\"card-header p-0\">\n                            <ul className=\"nav nav-tabs\" id=\"custom-tabs-one-tab\" role=\"tablist\">\n                                <li className=\"nav-item\">\n                                    <div className={this.state.step1Active ? 'nav-link active' : 'nav-link'}>\n                                        <div className={this.state.step1Active ? 'text-custom' : 'text-secondary'}><b>1. Thông tin tới tác giả</b></div>\n                                    </div>\n                                </li>\n                                <li className=\"nav-item\">\n                                    <div className={this.state.step2Active ? 'nav-link active' : 'nav-link'}>\n                                        <div className={this.state.step2Active ? 'text-custom' : 'text-secondary'}><b>2. Hoàn thành</b></div>\n                                    </div>\n                                </li>\n                            </ul>\n                        </div>\n\n                        <div className=\"card-body\">\n                            <div className=\"tab-content\" id=\"custom-tabs-one-tabContent\">\n                                {/* ------------------Tab 1----------------- */}\n                                <div className={this.state.step1Active ? 'tab-pane show active' : 'tab-pane'}>\n                                    <div className=\"card-body\">\n                                        <div className=\"form-group pb-2\">\n                                            <label>Kết luận của ban biên tập</label><br />\n                                            <span className={\"decision-danger ml-2 pl-2 pr-2\"}>\n                                                <i className=\"fas fa-close\"></i> {\" \"}\n                                                    Từ chối bài báo\n                                                </span>\n                                        </div>\n                                        <div className=\"form-group\">\n                                            <label>Nhận xét của ban biên tập*</label>\n                                            <textarea\n                                                type=\"text\"\n                                                name=\"content\"\n                                                className={!this.state.controls.content.valid && this.state.controls.content.touched ? \"form-control-error\" : \"form-control\"}\n                                                placeholder={this.state.controls.content.elementConfig.placeholder}\n                                                defaultValue={this.state.controls.content.value}\n                                                onChange={this.inputChangeHandler} />\n                                            {!this.state.controls.content.valid && this.state.controls.content.touched ?\n                                                <p className=\"form-control-error-msg\">Nhận xét không hợp lệ!</p> : null}\n                                        </div>\n                                        <div className=\"form-group\">\n                                            <label>Gửi Email đến tác giả*</label>\n                                            <p><span className=\"text-dark\">Địa chỉ email:</span> {this.props.submission ? this.props.submission.authorId.email : \"\"}</p>\n                                            <Editor\n                                                editorState={this.state.editorState}\n                                                wrapperClassName=\"wrapper-class\"\n                                                editorClassName=\"form-control\"\n                                                toolbarClassName=\"toolbar-class\"\n                                                onEditorStateChange={this.onEditorStateChange} />\n                                        </div>\n                                    </div>\n                                    <div className=\"card-footer\">\n                                        <button\n                                            type=\"button\"\n                                            className=\"btn btn-outline-primary btn-flat\"\n                                            data-toggle=\"modal\"\n                                            data-target=\"#confirmDialogModal\"\n                                            disabled={!this.state.formIsValid}>Xác nhận</button>\n                                        <Link to={`/dashboard/submission/${this.props.match.params.submissionId}`}>\n                                            <button className=\"btn btn-outline-danger btn-flat ml-2\" >Hủy </button>\n                                        </Link>\n                                    </div>\n                                </div>\n                                {/* ------------------Tab 2----------------- */}\n                                <div className={this.state.step2Active ? 'tab-pane show active' : 'tab-pane'}>\n                                    <h4>Từ chối bài báo.</h4>\n                                    {this.props.submission ? (\n                                        <div className=\"ml-2\">Bài báo <b>{this.props.submission.title}</b> của tác giả {\" \"}\n                                            <Link to=\"\" className=\"text-primary\">{this.props.submission.authorId.firstname} {this.props.submission.authorId.lastname}.</Link>\n                                            {\" \"}đã bị từ chối.\n                                        </div>\n                                    ) : null}\n                                    <h4 className=\"mt-3\">Bây giờ, bạn có thể:</h4>\n                                    {this.props.submission ? (\n                                        <div className=\"ml-2\">\n                                            <i className=\"fa fa-eye\"></i> {\" \"}\n                                            <Link to={`/dashboard/submission/${this.props.submission._id}`} className=\"text-primary\">\n                                                Xem thông tin bài báo\n                                            </Link>.\n                                        </div>\n                                    ) : null}\n                                    <div className=\"ml-2\">\n                                        <i className=\"fa fa-home\"></i>\n                                        {\" \"} <Link to=\"/dashboard\" className=\"text-primary\">Trở về trang chủ.</Link>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n            </div>\n        );\n\n        return (\n            <Aux>\n                {contentWrapper}\n                <ConfirmDialog\n                    title=\"Xác nhận\"\n                    message=\"Bạn có chắc chắn muốn từ chối bài báo này?\"\n                    confirm={this.confirmSubmitHandler} />\n                {this.props.error ? toast.error('Error: ' + this.props.error) : null}\n            </Aux>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        ceFullname: state.auth.fullname,\n        submission: state.submission.submission,\n        isSubmissionDeclined: state.review.isSubmissionDeclined,\n        error: state.review.error\n    };\n};\n\nconst mapDispatchToProps = {\n    getSubmissionDetail,\n    declineSubmisison,\n    resetDeclineSubmissionState\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DeclineSubmission);\n","import React from 'react';\n\nconst CustomInput = ({ value, onClick }) => {\n    return (\n        <div className=\"badge-ol badge-ol-secondary badge-outlined pl-3 pr-3 pt-1 pb-1\" onClick={onClick}>\n            {value}\n        </div>\n    );\n};\n\nexport default CustomInput;","import React from 'react';\nimport Aux from '../../../hoc/Auxiliary/Auxiliary';\n\nconst Authors = (props) => {\n    let stt = 1;\n    return (\n        <Aux>\n            <div className=\"modal fade\" id={\"aaa\" + props.iden} tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                <div className=\"modal-dialog modal-lg\" role=\"document\">\n                    <div className=\"modal-content\">\n                        <div className=\"modal-header\">\n                            <h5 className=\"modal-title\" id=\"exampleModalLabel\">Danh sách tác giả</h5>\n                            <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                <span aria-hidden=\"true\">&times;</span>\n                            </button>\n                        </div>\n                        <div className=\"modal-body\">\n                            <table className=\"table table-bordered table-sm mt-3\">\n                                <thead>\n                                    <tr>\n                                        <th style={{ width: '1%' }}>#</th>\n                                        <th style={{ width: '30%' }}>Tên</th>\n                                        <th style={{ width: '30%' }} className=\"text-center\">Đơn vị thành viên</th>\n                                        <th style={{ width: '39%' }} className=\"text-center\">Tổ chức</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {props.authors && props.authors.map((value, idx) => {\n                                        const memberUnit = value.affiliation.length > 0 ? value.affiliation[0].name.split(/,(.+)/) : '';\n                                        const dataOrg = value.affiliation.length > 0 ? value.affiliation[0].name.split(/,(.+)/) : '';\n                                        const org = dataOrg[1] ? dataOrg[1] : ' ';\n                                        return (\n                                            <tr key={idx}>\n                                                <td>{stt++}</td>\n                                                <td>\n                                                    <b>{`${value.family} ${value.given}`}</b>\n                                                </td>\n                                                <td>\n                                                    {memberUnit[0] ?? '  '}\n                                                </td>\n                                                <td>\n                                                    {org}\n                                                </td>\n                                            </tr>\n                                        );\n                                    })}\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </Aux>\n    );\n};\n\nexport default Authors;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Aux from '../../../hoc/Auxiliary/Auxiliary';\nimport ContentHeader from '../../Dashboard/Shared/ContentHeader';\nimport Spinner from '../../UI/Spinner/Spinner';\nimport { vastArticlesCrawl, junmpToPage } from '../../../store/actions/vastActions';\nimport Pagination from '../../UI/Pagination/Pagination';\nimport { updateObject, convertPublishedDate } from '../../../utils/utility';\nimport DatePicker from 'react-datepicker';\nimport CustomInput from './CustomInput';\nimport Authors from './Authors';\nimport { Link } from 'react-router-dom';\n\nconst ITEMS_PER_PAGE = 10;\nclass VastStats extends Component {\n    state = {\n        startDate: new Date(\"2020-12-01\"),\n        endDate: new Date(\"2020-12-31\")\n    }\n\n    init = () => {\n        this.props.vastArticlesCrawl(this.state.startDate, this.state.endDate, 1, 1000);\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.location.search !== prevProps.location.search) {\n            const prevQuery = new URLSearchParams(prevProps.location.search);\n            const query = new URLSearchParams(this.props.location.search);\n            const prevPage = prevQuery.get('page');\n            const page = query.get('page');\n            if (page !== prevPage) {\n                // this.props.vastArticlesCrawl(this.state.startDate, this.state.endDate, page, ITEMS_PER_PAGE);\n                this.props.junmpToPage(page);\n            }\n        }\n    }\n\n    refreshHandler = () => {\n        this.init();\n    }\n\n    setStartDateHandler = (date) => {\n        this.setState(updateObject(this.state, { startDate: date }));\n    }\n    setEndDateHandler = (date) => {\n        this.setState(updateObject(this.state, { endDate: date }));\n    }\n\n    searchArticlesHandler = () => {\n        this.init();\n    }\n\n    render() {\n        const contentWrapper = (\n            <div className=\"content-wrapper\">\n                <section className=\"content-header\">\n                    <ContentHeader title=\"Thống kê nghiên cứu khoa học VAST\">\n                        <li className=\"breadcrumb-item\">Thống kê NCKH</li>\n                    </ContentHeader>\n                </section>\n\n                <section className=\"content\">\n                    <div className=\"card\">\n                        {/* Card Header */}\n                        <div className=\"card-header\">\n                            <div className=\"card-tools float-left\">\n                                <div className=\"row\">\n                                    <div>\n                                        <span className=\"font-weight-bold pr-1\">Tổ chức</span>\n                                        <select className=\"vast-custom-select\">\n                                            <option>\n                                                Vietnam Academy of Science and Technology\n                                            </option>\n                                        </select>\n                                    </div>\n                                </div>\n                                <div className=\"row pt-3\">\n                                    <div>\n                                        <span className=\"font-weight-bold pr-1\">Ngày bắt đầu</span>\n                                        <DatePicker\n                                            selected={this.state.startDate}\n                                            onChange={date => this.setStartDateHandler(date)}\n                                            selectsStart\n                                            startDate={this.state.startDate}\n                                            endDate={this.state.endDate}\n                                            dateFormat=\"dd/MM/yyyy\"\n                                            customInput={<CustomInput />} />\n                                    </div>\n                                    <div>\n                                        <span className=\"font-weight-bold pl-3 pr-1\">Ngày kết thúc</span>\n                                        <DatePicker\n                                            selected={this.state.endDate}\n                                            onChange={date => this.setEndDateHandler(date)}\n                                            selectsEnd\n                                            startDate={this.state.startDate}\n                                            endDate={this.state.endDate}\n                                            minDate={this.state.startDate}\n                                            dateFormat=\"dd/MM/yyyy\"\n                                            customInput={<CustomInput />} />\n                                    </div>\n                                    <Link\n                                        to={{\n                                            pathname: this.props.location.pathname,\n                                            search: null\n                                        }}\n                                        className=\"btn vast-search-btn\"\n                                        onClick={this.searchArticlesHandler}>\n                                        Tìm kiếm\n                                    </Link>\n                                </div>\n                            </div>\n                            <div className=\"float-right\">\n                                <button className=\"btn btn-tool\" onClick={this.refreshHandler}>\n                                    <i className=\"fas fa-sync-alt\" style={{ fontSize: '20px' }}></i>\n                                </button>\n                            </div>\n                        </div>\n                        {/* Card Body */}\n                        {!this.props.loading ? (\n                            <div className=\"card-body p-1\">\n                                {this.props.articles.length > 0 ? (\n                                    <Aux>\n                                        <div className=\"table-responsive\">\n                                            <table className=\"table table-bordered\">\n                                                <thead>\n                                                    <tr>\n                                                        <th> #</th>\n                                                        <th>Tên bài Báo</th>\n                                                        <th>Tác giả</th>\n                                                        <th>Lĩnh vực</th>\n                                                        <th>Năm xuất bản</th>\n                                                        <th>Tạp chí</th>\n                                                        <th>DOI</th>\n                                                        <th>Đường dẫn</th>\n                                                    </tr>\n                                                </thead>\n                                                <tbody>\n                                                    {this.props.articles.map(article => {\n                                                        const iden = Math.floor(Math.random() * 111111);\n                                                        return (\n                                                            <tr key={article.DOI}>\n                                                                <td>#</td>\n                                                                <td>\n                                                                    <span className=\"text-dark\">{article.title[0]}</span>\n                                                                </td>\n                                                                <td className=\"text-primary text-center\" style={{ cursor: 'pointer' }}>\n                                                                    <div data-toggle=\"modal\" data-target={\"#aaa\" + iden}>\n                                                                        <u>Xem</u>\n                                                                    </div>\n                                                                    <div className=\"text-dark text-left\">\n                                                                        <Authors\n                                                                            authors={article.author}\n                                                                            iden={iden} />\n                                                                    </div>\n                                                                </td>\n                                                                <td>\n                                                                    {article.subject && article.subject.map((value, idx) => (\n                                                                        <span key={idx}>\n                                                                            - {value}{\", \"}<br />\n                                                                        </span>\n                                                                    ))}\n                                                                </td>\n                                                                <td>\n                                                                    {article[\"published-print\"] ? (\n                                                                        convertPublishedDate(article[\"published-print\"][\"date-parts\"][0])\n                                                                    ) : \"Not Released Yet\"}\n                                                                </td>\n                                                                <td>\n                                                                    <span>{article.publisher}</span>\n                                                                </td>\n                                                                <td>\n                                                                    <span>{article.DOI}</span>\n                                                                </td>\n                                                                <td>\n                                                                    {article.link && article.link.map((url, idx) => (\n                                                                        <a className=\"text-primary\" href={url.URL} key={idx}\n                                                                            target=\"_blank\" rel=\"noopener noreferrer\">\n                                                                            Link {idx + 1}<br />\n                                                                        </a>\n                                                                    ))}\n                                                                </td>\n                                                            </tr>\n                                                        );\n                                                    })}\n                                                </tbody>\n                                            </table>\n                                        </div>\n                                        <div className=\"mt-2\">\n                                            <div>\n                                                <b>Tổng số bản ghi: </b> {this.props.total}\n                                            </div>\n                                            <Pagination\n                                                currentPage={this.props.currentPage}\n                                                hasNextPage={ITEMS_PER_PAGE * this.props.currentPage < this.props.total}\n                                                hasPrevPage={this.props.currentPage > 1}\n                                                nextPage={this.props.currentPage + 1}\n                                                prevPage={this.props.currentPage - 1}\n                                                lastPage={Math.ceil(this.props.total / ITEMS_PER_PAGE)}\n                                                location={this.props.location} />\n                                        </div>\n                                    </Aux>\n                                ) : (<div className=\"card-text ml-4\">Chọn khoảng thời gian và click Tìm Kiếm</div>)}\n                            </div>\n                        ) : <Spinner />}\n                    </div>\n                </section>\n            </div>\n        );\n        return (\n            <Aux>\n                {contentWrapper}\n            </Aux>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        articles: state.vast.articles,\n        loading: state.vast.loading,\n        // error: state.vast.error,\n        total: state.vast.total,\n        currentPage: state.vast.currentPage\n    }\n};\n\nconst mapDispatchToProps = {\n    vastArticlesCrawl,\n    junmpToPage\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VastStats);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Aux from '../../hoc/Auxiliary/Auxiliary';\nimport ContentHeader from '../Dashboard/Shared/ContentHeader';\nimport Spinner from '../UI/Spinner/Spinner';\nimport { getAllMyNotifications } from '../../store/actions/authActions';\nimport { Link } from 'react-router-dom';\nimport { getFormattedDate } from '../../utils/utility';\nimport Pagination from '../UI/Pagination/Pagination';\n\nconst ITEMS_PER_PAGE = 8;\nclass Notifications extends Component {\n\n    componentDidMount() {\n        if (this.props.location.search) {\n            const query = new URLSearchParams(this.props.location.search);\n            const page = query.get('page');\n            if (page) {\n                this.props.getAllMyNotifications(page, ITEMS_PER_PAGE);\n            }\n        } else {\n            this.props.getAllMyNotifications(1, ITEMS_PER_PAGE);\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.location.search !== prevProps.location.search) {\n            const prevQuery = new URLSearchParams(prevProps.location.search);\n            const query = new URLSearchParams(this.props.location.search);\n            const prevPage = prevQuery.get('page');\n            const page = query.get('page');\n            if (page !== prevPage) {\n                this.props.getAllMyNotifications(page, ITEMS_PER_PAGE);\n            }\n        }\n    }\n\n    refreshHandler = () => {\n        const query = new URLSearchParams(this.props.location.search);\n        const page = query.get('page') || 1;\n        this.props.getAllMyNotifications(page);\n    }\n\n    render() {\n        const contentWrapper = (\n            <div className=\"content-wrapper\">\n                <section className=\"content-header\">\n                    <ContentHeader title=\"Thông báo của bạn\">\n                        <li className=\"breadcrumb-item active\">Thông báo</li>\n                    </ContentHeader>\n                </section>\n\n                <section className=\"content\">\n                    {!this.props.loading ? (\n                        <div className=\"card card-primary card-outline\">\n                            <div className=\"card-header\">\n                                <h3 className=\"card-title\">Tất cả thông báo</h3>\n                                <div className=\"float-right mr-1\">\n                                    <button className=\"btn btn-tool\" onClick={this.refreshHandler}>\n                                        <i className=\"fas fa-sync-alt\" style={{ fontSize: '20px' }}></i>\n                                    </button>\n                                </div>\n                            </div>\n\n                            {this.props.notifications.length > 0 ? (\n                                <Aux>\n                                    <div className=\"card-body\">\n                                        {this.props.notifications.map(noti => (\n                                            <Aux key={noti._id}>\n                                                <Link to={noti.link}>\n                                                    <div className=\"media\">\n                                                        <img src={noti.senderId.avatar} alt=\"User Avatar\" className=\"img-size-50 mr-3 img-circle\" />\n                                                        <div className=\"media-body\">\n                                                            <h3 className=\"dropdown-item-title\">\n                                                                {noti.title}\n                                                                <span className=\"float-right text-sm text-danger\"><i className=\"fas fa-star\"></i></span>\n                                                            </h3>\n                                                            <p className=\"text-sm\">{noti.content}</p>\n                                                            <p className=\"text-sm text-muted\"><i className=\"far fa-clock mr-1\"></i>{getFormattedDate(noti.createdAt)}</p>\n                                                        </div>\n                                                    </div>\n                                                </Link>\n                                                <div className=\"dropdown-divider\"></div>\n                                            </Aux>\n                                        ))}\n                                    </div>\n                                    <Pagination\n                                        currentPage={this.props.currentPage}\n                                        hasNextPage={ITEMS_PER_PAGE * this.props.currentPage < this.props.total}\n                                        hasPrevPage={this.props.currentPage > 1}\n                                        nextPage={this.props.currentPage + 1}\n                                        prevPage={this.props.currentPage - 1}\n                                        lastPage={Math.ceil(this.props.total / ITEMS_PER_PAGE)}\n                                        location={this.props.location} />\n                                </Aux>\n                            ) : (\n                                    <div className=\"card-text p-4\">Bạn chưa có thông báo nào.</div>\n                                )}\n                        </div>\n                    ) : <Spinner />}\n                </section>\n            </div >\n        );\n\n        return (\n            <Aux>\n                {contentWrapper}\n            </Aux>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        loading: state.auth.loading,\n        notifications: state.auth.all_notifications,\n        total: state.auth.total_items,\n        currentPage: state.auth.currentPage\n    }\n};\n\nconst mapDispatchToProps = {\n    getAllMyNotifications\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Notifications);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { getFormattedDate, updateObject } from '../../utils/utility';\nimport ContentHeader from '../Dashboard/Shared/ContentHeader';\nimport {\n    getMyUserInfor, updateUserInfor, resetUpdateUserInforState,\n    changePassword, resetChangePasswordState,\n    changeAvatar, resetChangeAvatarState, getPreferenceCategories\n} from '../../store/actions/userActions';\nimport Spinner from '../UI/Spinner/Spinner';\nimport { updateUserInforInputControls, changePasswordInputControls } from '../../utils/input-controls';\nimport { updateUserInforInputChangeHandler, changePasswordInputChangeHandler } from '../../utils/input-change';\nimport { toast } from 'react-toastify';\nimport Aux from '../../hoc/Auxiliary/Auxiliary';\nimport ConfirmDialog from '../UI/ConfirmDialog/ConfirmDialog';\nimport Select from 'react-select';\nclass Profile extends Component {\n\n    state = {\n        step1Active: true,\n        step2Active: false,\n        controls: updateUserInforInputControls,\n        controls_change_pwd: changePasswordInputControls,\n        formIsValid: true,\n        formIsValid_change_pwd: false,\n        avatar: null,\n        preferenceCategories: null\n    }\n\n    componentDidMount() {\n        this.props.getPreferenceCategories();\n        this.props.getMyUserInfor();\n    }\n\n    initControlValues = (user) => {\n        const updatedControls = updateObject(this.state.controls, {\n            username: updateObject(this.state.controls.username, { value: user.username }),\n            email: updateObject(this.state.controls.email, { value: user.email }),\n            firstname: updateObject(this.state.controls.firstname, { value: user.firstname }),\n            lastname: updateObject(this.state.controls.lastname, { value: user.lastname }),\n            affiliation: updateObject(this.state.controls.affiliation, { value: user.affiliation }),\n            biography: updateObject(this.state.controls.biography, { value: user.biography }),\n        });\n        const preferences = user.preferenceCategoryId.map(c => c.value);\n        this.setState(updateObject(this.state, {\n            controls: updatedControls,\n            preferenceCategories: preferences\n        }));\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        if (nextProps.error) {\n            this.props.resetUpdateUserInforState();\n            this.props.resetChangePasswordState();\n            this.props.resetChangeAvatarState();\n        }\n        if (nextProps.user && nextProps.user !== this.props.user) {\n            this.initControlValues(nextProps.user);\n        }\n        if (nextProps.isUserInforUpdated && !nextProps.error) {\n            this.props.resetUpdateUserInforState();\n            toast.success(\"Cập nhật thông tin cá nhân thành công!\");\n        }\n        if (nextProps.isPasswordChanged && !nextProps.error) {\n            this.props.resetChangePasswordState();\n            toast.success(\"Thay đổi mật khẩu thành công!\");\n        }\n        if (nextProps.isAvatarChanged && !nextProps.error) {\n            this.props.resetChangeAvatarState();\n            toast.success(\"Cập nhật ảnh đại diện thành công!\");\n        }\n    }\n\n    inputChangeHandler = (event) => {\n        event.preventDefault();\n        const { updatedControls, formIsValid } = updateUserInforInputChangeHandler(event, this.state);\n        this.setState({\n            controls: updatedControls,\n            formIsValid: formIsValid\n        });\n    };\n\n    inputChangeHandler_CPWD = (event) => {\n        event.preventDefault();\n        const { updatedControls, eq } = changePasswordInputChangeHandler(event, this.state);\n        this.setState({\n            controls_change_pwd: updatedControls,\n            formIsValid_change_pwd: eq\n        });\n    };\n\n    step1ActiveHandler = (event) => {\n        event.preventDefault();\n        let newState = updateObject(this.state, {\n            step1Active: true,\n            step2Active: false,\n        });\n        this.setState(newState);\n    }\n\n    step2ActiveHandler = () => {\n        let newState = updateObject(this.state, {\n            step1Active: false,\n            step2Active: true,\n        });\n        this.setState(newState);\n    }\n\n    confirmSubmitHandler = () => {\n        if (this.state.step1Active) {\n            if (this.state.avatar) {\n                const formData = new FormData();\n                formData.append('avatar', this.state.avatar);\n                this.props.changeAvatar(formData);\n            } else {\n                const body = {\n                    email: this.state.controls.email.value,\n                    firstname: this.state.controls.firstname.value,\n                    lastname: this.state.controls.lastname.value,\n                    affiliation: this.state.controls.affiliation.value,\n                    biography: this.state.controls.biography.value,\n                    preferenceCategoryId: this.state.preferenceCategories\n                }\n                this.props.updateUserInfor(body);\n            }\n        } else {\n            const body = {\n                oldPassword: this.state.controls_change_pwd.old_password.value,\n                newPassword: this.state.controls_change_pwd.new_password.value\n            }\n            this.props.changePassword(body);\n        }\n    }\n\n    onAvatarChangeHandler = (event) => {\n        event.preventDefault();\n        const file = event.target.files[0];\n        this.setState({ avatar: file });\n    }\n\n    preferenceChangeHandler = (selectedOption) => {\n        if(selectedOption) {\n            const preference = selectedOption.map(c => c.value);\n            this.setState({ preferenceCategories: preference });\n        }\n    }\n\n    render() {\n\n        const profile = (\n            <div className=\"content-wrapper\">\n                <section className=\"content-header\">\n                    <ContentHeader title=\"Trang cá nhân\">\n                        <li className=\"breadcrumb-item active\">Trang cá nhân</li>\n                    </ContentHeader>\n                </section>\n                <section className=\"content\">\n                    {!this.props.loading && this.props.user ? (\n                        <div className=\"container-fluid\">\n                            <div className=\"row\">\n                                <div className=\"col-md-3\">\n                                    {/* Card */}\n                                    <div className=\"card card-primary card-outline\">\n                                        <div className=\"card-header\">\n                                            <h3 className=\"card-title\" style={{ fontSize: '16px' }}>Ảnh đại diện</h3>\n                                        </div>\n                                        <div className=\"card-body box-profile\">\n                                            <div className=\"text-center\">\n                                                {!this.state.avatar ? (\n                                                    <img className=\"profile-user-img img-fluid img-circle\"\n                                                        src={this.props.user.avatar}\n                                                        alt=\"User profile\" />\n                                                ) : (\n                                                        <img className=\"profile-user-img img-fluid img-circle\"\n                                                            src={URL.createObjectURL(this.state.avatar)}\n                                                            alt=\"User profile\" />\n                                                    )}\n                                            </div>\n\n                                            <input type=\"file\"\n                                                ref={(ref) => this.upload = ref}\n                                                style={{ display: 'none' }}\n                                                onChange={this.onAvatarChangeHandler} />\n                                            <div className=\"text-danger text-center font-weight-bold pt-1\"\n                                                style={{ cursor: 'pointer' }}\n                                                onClick={() => { this.upload.click() }}>\n                                                <u>Chọn ảnh đại diện</u>\n                                            </div>\n\n                                            <h3 className=\"profile-username text-center\">{this.props.user.lastname} {this.props.user.firstname}</h3>\n                                            <p className=\"text-muted text-center\">{this.props.user.role.name}</p>\n                                            <div className=\"text-center\">\n                                                <button\n                                                    className=\"btn btn-outline-dark btn-flat\"\n                                                    data-toggle=\"modal\"\n                                                    data-target=\"#confirmDialogModal\"\n                                                    disabled={!this.state.avatar}>Cập nhật ảnh đại diện</button>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    {/* Card */}\n                                    <div className=\"card card-primary card-outline\">\n                                        <div className=\"card-header\">\n                                            <h3 className=\"card-title\" style={{ fontSize: '16px' }}>Thông tin cá nhân</h3>\n                                        </div>\n                                        <div className=\"card-body\">\n                                            <strong><i className=\"fas fa-calendar mr-1\"></i> Ngày tham gia</strong>\n                                            <p className=\"text-muted ml-3\">{getFormattedDate(this.props.user.createdAt)}</p>\n\n                                            <strong><i className=\"fas fa-map mr-1\"></i> Tổ chức</strong>\n                                            <p className=\"text-muted ml-3\">{this.props.user.affiliation}</p>\n\n                                            <strong><i className=\"fas fa-map mr-1\"></i> Mô tả bản thân</strong>\n                                            <p className=\"text-muted ml-3\">{this.props.user.biography}</p>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <div className=\"col-md-9\">\n                                    <div className=\"card\">\n                                        <div className=\"card-header p-2\">\n                                            <ul className=\"nav nav-tabs\" id=\"custom-tabs-one-tab\" role=\"tablist\">\n                                                <li className=\"nav-item\">\n                                                    <div className={this.state.step1Active ? 'nav-link active' : 'nav-link'}\n                                                        onClick={this.step1ActiveHandler}>\n                                                        <div className={this.state.step1Active ? 'text-custom' : 'text-secondary'}><b>Cập nhật thông tin cá nhân</b></div>\n                                                    </div>\n                                                </li>\n                                                <li className=\"nav-item\">\n                                                    <div className={this.state.step2Active ? 'nav-link active' : 'nav-link'}\n                                                        onClick={this.step2ActiveHandler}>\n                                                        <div className={this.state.step2Active ? 'text-custom' : 'text-secondary'}><b>Thay đổi mật khẩu</b></div>\n                                                    </div>\n                                                </li>\n                                            </ul>\n                                        </div>\n                                        <div className=\"card-body\">\n                                            <div className=\"tab-content\" id=\"custom-tabs-one-tabContent\">\n                                                {/* ------------------Tab 1----------------- */}\n                                                <div className={this.state.step1Active ? 'tab-pane show active' : 'tab-pane'}>\n                                                    <div className=\"form-group row\">\n                                                        <label className=\"col-sm-2 col-form-label\">Tên đăng nhập*</label>\n                                                        <div className=\"col-sm-10\">\n                                                            <input\n                                                                type=\"text\"\n                                                                name=\"username\"\n                                                                className=\"form-control\"\n                                                                disabled\n                                                                style={{ cursor: 'not-allowed' }}\n                                                                defaultValue={this.state.controls.username.value} />\n                                                        </div>\n                                                    </div>\n                                                    <div className=\"form-group row\">\n                                                        <label className=\"col-sm-2 col-form-label\">Email*</label>\n                                                        <div className=\"col-sm-10\">\n                                                            <input\n                                                                type=\"text\"\n                                                                name=\"email\"\n                                                                className={!this.state.controls.email.valid && this.state.controls.email.touched ? \"form-control-error\" : \"form-control\"}\n                                                                defaultValue={this.state.controls.email.value}\n                                                                onChange={this.inputChangeHandler} />\n                                                            {!this.state.controls.email.valid && this.state.controls.email.touched ?\n                                                                <p className=\"form-control-error-msg\">Email không hợp lệ!</p> : null}\n                                                        </div>\n                                                    </div>\n                                                    <div className=\"form-group row\">\n                                                        <label className=\"col-sm-2 col-form-label\">Họ đệm*</label>\n                                                        <div className=\"col-sm-10\">\n                                                            <input\n                                                                type=\"text\"\n                                                                name=\"firstname\"\n                                                                className={!this.state.controls.firstname.valid && this.state.controls.firstname.touched ? \"form-control-error\" : \"form-control\"}\n                                                                defaultValue={this.state.controls.firstname.value}\n                                                                onChange={this.inputChangeHandler} />\n                                                            {!this.state.controls.firstname.valid && this.state.controls.firstname.touched ?\n                                                                <p className=\"form-control-error-msg\">Giá trị không hợp lệ!</p> : null}\n                                                        </div>\n                                                    </div>\n                                                    <div className=\"form-group row\">\n                                                        <label className=\"col-sm-2 col-form-label\">Tên*</label>\n                                                        <div className=\"col-sm-10\">\n                                                            <input\n                                                                type=\"text\"\n                                                                name=\"lastname\"\n                                                                className={!this.state.controls.lastname.valid && this.state.controls.lastname.touched ? \"form-control-error\" : \"form-control\"}\n                                                                defaultValue={this.state.controls.lastname.value}\n                                                                onChange={this.inputChangeHandler} />\n                                                            {!this.state.controls.lastname.valid && this.state.controls.lastname.touched ?\n                                                                <p className=\"form-control-error-msg\">Giá trị không hợp lệ!</p> : null}\n                                                        </div>\n                                                    </div>\n                                                    <div className=\"form-group row\">\n                                                        <label className=\"col-sm-2 col-form-label\">Đơn vị công tác</label>\n                                                        <div className=\"col-sm-10\">\n                                                            <input\n                                                                type=\"text\"\n                                                                name=\"affiliation\"\n                                                                className={!this.state.controls.affiliation.valid && this.state.controls.affiliation.touched ? \"form-control-error\" : \"form-control\"}\n                                                                defaultValue={this.state.controls.affiliation.value}\n                                                                onChange={this.inputChangeHandler} />\n                                                            {!this.state.controls.affiliation.valid && this.state.controls.affiliation.touched ?\n                                                                <p className=\"form-control-error-msg\">Giá trị không hợp lệ!</p> : null}\n                                                        </div>\n                                                    </div>\n                                                    <div className=\"form-group row\">\n                                                        <label className=\"col-sm-2 col-form-label\">Tiểu sử</label>\n                                                        <div className=\"col-sm-10\">\n                                                            <input\n                                                                type=\"text\"\n                                                                name=\"biography\"\n                                                                className={!this.state.controls.biography.valid && this.state.controls.biography.touched ? \"form-control-error\" : \"form-control\"}\n                                                                defaultValue={this.state.controls.biography.value}\n                                                                onChange={this.inputChangeHandler} />\n                                                            {!this.state.controls.biography.valid && this.state.controls.biography.touched ?\n                                                                <p className=\"form-control-error-msg\">Giá trị không hợp lệ!</p> : null}\n                                                        </div>\n                                                    </div>\n                                                    <div className=\"form-group row\">\n                                                        <label className=\"col-sm-2 col-form-label\">Lĩnh vực nghiên cứu</label>\n                                                        <div className=\"col-sm-10\">\n                                                            <Select\n                                                                styles={{\n                                                                    menu: (provided, state) => ({\n                                                                        ...provided,\n                                                                        padding: 10,\n                                                                    }),\n                                                                    input: (provided) => ({\n                                                                        ...provided,\n                                                                        height: 35,\n                                                                    }),\n                                                                    placeholder: (provided) => ({\n                                                                        ...provided,\n                                                                        paddingLeft: 20\n                                                                    })\n                                                                }}\n                                                                defaultValue={this.props.user.preferenceCategoryId}\n                                                                isMulti\n                                                                name=\"preference-categories\"\n                                                                options={this.props.categories}\n                                                                className=\"basic-multi-select\"\n                                                                classNamePrefix=\"select\"\n                                                                placeholder=\"Chọn lĩnh vực nghiên cứu của bạn\"\n                                                                onChange={this.preferenceChangeHandler}\n                                                            />\n                                                        </div>\n                                                    </div>\n\n                                                    <div className=\"form-group row\">\n                                                        <div className=\"offset-sm-2 col-sm-10\">\n                                                            <button\n                                                                type=\"button\"\n                                                                className=\"btn btn-outline-dark btn-flat\"\n                                                                data-toggle=\"modal\"\n                                                                data-target=\"#confirmDialogModal\"\n                                                                disabled={!this.state.formIsValid}>Cập nhật</button>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                                {/* ------------------Tab 2----------------- */}\n                                                <div className={this.state.step2Active ? 'tab-pane show active' : 'tab-pane'}>\n                                                    <div className=\"form-group row\">\n                                                        <label className=\"col-sm-2 col-form-label\">Mật khẩu cũ*</label>\n                                                        <div className=\"col-sm-10\">\n                                                            <input\n                                                                type=\"password\"\n                                                                name=\"old_password\"\n                                                                className={!this.state.controls_change_pwd.old_password.valid && this.state.controls_change_pwd.old_password.touched ? \"form-control-error\" : \"form-control\"}\n                                                                defaultValue={this.state.controls_change_pwd.old_password.value}\n                                                                onChange={this.inputChangeHandler_CPWD} />\n                                                            {!this.state.controls_change_pwd.old_password.valid && this.state.controls_change_pwd.old_password.touched ?\n                                                                <p className=\"form-control-error-msg\">Mật khẩu cũ không hợp lệ!</p> : null}\n                                                        </div>\n                                                    </div>\n                                                    <div className=\"form-group row\">\n                                                        <label className=\"col-sm-2 col-form-label\">Mật khẩu mới*</label>\n                                                        <div className=\"col-sm-10\">\n                                                            <input\n                                                                type=\"password\"\n                                                                name=\"new_password\"\n                                                                className={!this.state.controls_change_pwd.new_password.valid && this.state.controls_change_pwd.new_password.touched ? \"form-control-error\" : \"form-control\"}\n                                                                defaultValue={this.state.controls_change_pwd.new_password.value}\n                                                                onChange={this.inputChangeHandler_CPWD} />\n                                                            {!this.state.controls_change_pwd.new_password.valid && this.state.controls_change_pwd.new_password.touched ?\n                                                                <p className=\"form-control-error-msg\">Mật khẩu mới không hợp lệ!</p> : null}\n                                                        </div>\n                                                    </div>\n                                                    <div className=\"form-group row\">\n                                                        <label className=\"col-sm-2 col-form-label\">Xác nhận mật khẩu*</label>\n                                                        <div className=\"col-sm-10\">\n                                                            <input\n                                                                type=\"password\"\n                                                                name=\"confirm_password\"\n                                                                className={!this.state.controls_change_pwd.confirm_password.valid && this.state.controls_change_pwd.confirm_password.touched ? \"form-control-error\" : \"form-control\"}\n                                                                defaultValue={this.state.controls_change_pwd.confirm_password.value}\n                                                                onChange={this.inputChangeHandler_CPWD} />\n                                                            {/* {!this.state.controls_change_pwd.confirm_password.valid && this.state.controls_change_pwd.confirm_password.touched ?\n                                                                <p className=\"form-control-error-msg\">Mật khẩu mới không hợp lệ!</p> : null} */}\n                                                            {this.state.controls_change_pwd.new_password.value !== this.state.controls_change_pwd.confirm_password.value\n                                                                && this.state.controls_change_pwd.confirm_password.touched ?\n                                                                <p className=\"form-control-error-msg\">Mật khẩu mới và xác nhận mật khẩu không khớp!</p> : null}\n                                                        </div>\n                                                    </div>\n\n                                                    <div className=\"form-group row\">\n                                                        <div className=\"offset-sm-2 col-sm-10\">\n                                                            <button\n                                                                type=\"button\"\n                                                                className=\"btn btn-outline-dark btn-flat\"\n                                                                data-toggle=\"modal\"\n                                                                data-target=\"#confirmDialogModal\"\n                                                                disabled={!this.state.formIsValid_change_pwd}>Thay đổi mật khẩu</button>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    ) : <Spinner />}\n                </section>\n            </div>\n        );\n\n        return (\n            <Aux>\n                {profile}\n                {this.state.step1Active ? (\n                    <ConfirmDialog\n                        title=\"Xác nhận\"\n                        message={this.state.avatar ? \"Cập nhật ảnh đại diện?\" : \"Cập nhật thông tin cá nhân?\"}\n                        confirm={this.confirmSubmitHandler} />\n                ) : (\n                        <ConfirmDialog\n                            title=\"Xác nhận\"\n                            message=\"Thay đổi mật khẩu?\"\n                            confirm={this.confirmSubmitHandler} />\n                    )}\n                {this.props.error ? toast.error('Error: ' + this.props.error) : null}\n            </Aux>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        user: state.user.user,\n        loading: state.user.loading,\n        error: state.user.error,\n        isUserInforUpdated: state.user.isUserInforUpdated,\n        isPasswordChanged: state.user.isPasswordChanged,\n        isAvatarChanged: state.user.isAvatarChanged,\n        categories: state.user.categories\n    }\n};\n\nconst mapDispatchToProps = {\n    getMyUserInfor,\n    updateUserInfor,\n    resetUpdateUserInforState,\n    changePassword,\n    resetChangePasswordState,\n    changeAvatar,\n    resetChangeAvatarState,\n    getPreferenceCategories\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Aux from '../../../hoc/Auxiliary/Auxiliary';\nimport { getUserInfor, getAllRoles, changeUserRole, resetchangeUserRoleState } from '../../../store/actions/userActions';\nimport { getFormattedDate, updateObject } from '../../../utils/utility';\nimport ConfirmDialog from '../../UI/ConfirmDialog/ConfirmDialog';\nimport ContentHeader from '../Shared/ContentHeader';\nimport { toast } from 'react-toastify';\n\nclass UserInfor extends Component {\n\n    state = {\n        roleId: '',\n        touched: false\n    }\n\n    componentDidMount() {\n        this.props.getAllRoles();\n        if (this.props.match.params.userId) {\n            this.props.getUserInfor(this.props.match.params.userId);\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.match.params.userId !== prevProps.match.params.userId) {\n            this.props.getUserInfor(this.props.match.params.userId);\n        }\n    }\n\n    initControlValues = (user) => {\n        this.setState(updateObject(this.state, {\n            roleId: user.role._id,\n        }));\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        if (nextProps.error) {\n            this.props.resetchangeUserRoleState();\n        }\n        if (nextProps.user && nextProps.user !== this.props.user) {\n            this.initControlValues(nextProps.user);\n        }\n        if (nextProps.isUserRoleChanged && !nextProps.error) {\n            this.props.resetchangeUserRoleState();\n            toast.success(\"Phân quyền người dùng thành công!\");\n        }\n    }\n\n    roleSelectedChangeHandler = (event) => {\n        event.preventDefault();\n        this.setState(updateObject(this.state, {\n            roleId: event.target.value,\n            touched: true\n        }));\n    }\n\n    confirmSubmitHandler = () => {\n        this.props.changeUserRole(this.props.user._id, this.state.roleId);\n    }\n\n    render() {\n\n        const profile = (\n            <div className=\"content-wrapper\">\n                <section className=\"content-header\">\n                    <ContentHeader title=\"Thông tin người dùng\">\n                        <li className=\"breadcrumb-item active\">Thông tin người dùng</li>\n                    </ContentHeader>\n                </section>\n                <section className=\"content\">\n                    {!this.props.loading && this.props.user ? (\n                        <div className=\"container-fluid\">\n                            {/* Row */}\n                            <div className=\"row\">\n                                {/* Col */}\n                                <div className=\"col-md-3\">\n                                    {/* Card */}\n                                    <div className=\"card card-primary card-outline\">\n                                        <div className=\"card-header\">\n                                            <h3 className=\"card-title\" style={{ fontSize: '16px' }}>Ảnh đại diện</h3>\n                                        </div>\n                                        <div className=\"card-body box-profile\">\n                                            <div className=\"text-center\">\n                                                <img className=\"profile-user-img img-fluid img-circle\"\n                                                    src={this.props.user.avatar}\n                                                    alt=\"User profile\" />\n                                            </div>\n\n                                            <h3 className=\"profile-username text-center\">{this.props.user.lastname} {this.props.user.firstname}</h3>\n                                            <p className=\"text-muted text-center\">{this.props.user.role.name}</p>\n                                        </div>\n                                    </div>\n                                    {/* Card */}\n                                    <div className=\"card card-primary card-outline\">\n                                        <div className=\"card-header\">\n                                            <h3 className=\"card-title\" style={{ fontSize: '16px' }}>Thông tin cá nhân</h3>\n                                        </div>\n                                        <div className=\"card-body\">\n                                            <strong><i className=\"fas fa-calendar mr-1\"></i> Ngày tham gia</strong>\n                                            <p className=\"text-muted ml-3\">{getFormattedDate(this.props.user.createdAt)}</p>\n\n                                            <strong><i className=\"fas fa-map mr-1\"></i> Tổ chức</strong>\n                                            <p className=\"text-muted ml-3\">{this.props.user.affiliation}</p>\n\n                                            <strong><i className=\"fas fa-map mr-1\"></i> Mô tả bản thân</strong>\n                                            <p className=\"text-muted ml-3\">{this.props.user.biography}</p>\n                                        </div>\n                                    </div>\n                                </div>\n                                {/* Col */}\n                                <div className=\"col-md-9\">\n                                    <div className=\"card card-primary card-outline\">\n                                        <div className=\"card-body\">\n                                            <div className=\"form-group row\">\n                                                <label className=\"col-sm-2 col-form-label\">Tên đăng nhập:</label>\n                                                <div className=\"col-sm-10\">\n                                                    <input\n                                                        type=\"text\"\n                                                        name=\"username\"\n                                                        className=\"form-control\"\n                                                        disabled\n                                                        style={{ cursor: 'not-allowed' }}\n                                                        defaultValue={this.props.user.username} />\n                                                </div>\n                                            </div>\n                                            <div className=\"form-group row\">\n                                                <label className=\"col-sm-2 col-form-label\">Địa chỉ email:</label>\n                                                <div className=\"col-sm-10\">\n                                                    <input\n                                                        type=\"text\"\n                                                        name=\"email\"\n                                                        className=\"form-control\"\n                                                        disabled\n                                                        style={{ cursor: 'not-allowed' }}\n                                                        defaultValue={this.props.user.email} />\n                                                </div>\n                                            </div>\n                                            <div className=\"form-group row\">\n                                                <label className=\"col-sm-2 col-form-label\">Họ tên:</label>\n                                                <div className=\"col-sm-10\">\n                                                    <input\n                                                        type=\"text\"\n                                                        name=\"fullname\"\n                                                        className=\"form-control\"\n                                                        disabled\n                                                        style={{ cursor: 'not-allowed' }}\n                                                        defaultValue={`${this.props.user.lastname} ${this.props.user.firstname}`} />\n                                                </div>\n                                            </div>\n                                            <div className=\"form-group row\">\n                                                <label className=\"col-sm-2 col-form-label\">Đơn vị công tác:</label>\n                                                <div className=\"col-sm-10\">\n                                                    <input\n                                                        type=\"text\"\n                                                        name=\"affiliation\"\n                                                        className=\"form-control\"\n                                                        disabled\n                                                        style={{ cursor: 'not-allowed' }}\n                                                        defaultValue={this.props.user.affiliation} />\n                                                </div>\n                                            </div>\n                                            <div className=\"form-group row\">\n                                                <label className=\"col-sm-2 col-form-label\">Tiểu sử:</label>\n                                                <div className=\"col-sm-10\">\n                                                    <input\n                                                        type=\"text\"\n                                                        name=\"biography\"\n                                                        className=\"form-control\"\n                                                        disabled\n                                                        style={{ cursor: 'not-allowed' }}\n                                                        defaultValue={this.props.user.biography} />\n                                                </div>\n                                            </div>\n                                            {this.props.roles.length > 0 && (\n                                                <div className=\"form-group row\">\n                                                    <label className=\"col-sm-2 col-form-label\">Vai trò:</label>\n                                                    <div className=\"col-sm-10\">\n                                                        <select\n                                                            name=\"roleId\"\n                                                            defaultValue={this.value}\n                                                            className=\"custom-select form-control\"\n                                                            onChange={this.roleSelectedChangeHandler}\n                                                        >\n                                                            <option value={this.props.user.role._id} hidden>{this.props.user.role.name}</option>\n                                                            {this.props.roles.map(role => (\n                                                                <option key={role._id} value={role._id}>\n                                                                    {role.name}\n                                                                </option>\n                                                            ))}\n                                                        </select>\n\n                                                    </div>\n                                                </div>\n                                            )}\n\n                                            <div className=\"form-group row\">\n                                                <div className=\"offset-sm-2 col-sm-10\">\n                                                    <button\n                                                        type=\"button\"\n                                                        className=\"btn btn-outline-dark btn-flat\"\n                                                        data-toggle=\"modal\"\n                                                        data-target=\"#confirmDialogModal\"\n                                                        disabled={!this.state.touched}>Phân quyền người dùng</button>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    ) : null}\n                </section>\n            </div>\n        );\n\n        return (\n            <Aux>\n                {profile}\n                <ConfirmDialog\n                    title=\"Xác nhận\"\n                    message=\"Thay đổi vai trò người dùng?\"\n                    confirm={this.confirmSubmitHandler} />\n                {this.props.error ? toast.error('Error: ' + this.props.error) : null}\n            </Aux>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        user: state.user.user_infor,\n        loading: state.user.loading,\n        error: state.user.error,\n        roles: state.user.roles,\n        isUserRoleChanged: state.user.isUserRoleChanged\n    }\n};\n\nconst mapDispatchToProps = {\n    getUserInfor,\n    getAllRoles,\n    changeUserRole,\n    resetchangeUserRoleState\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserInfor);\n","import React, { Component } from 'react';\nimport AuthorMain from '../../components/Dashboard/Author/Main';\nimport AuthorHome from '../../components/Dashboard/Author/Home';\nimport ReviewerHome from '../../components/Dashboard/Reviewer/Home';\nimport EditorHome from '../../components/Dashboard/Editor/Home';\nimport ChiefEditorHome from '../../components/Dashboard/ChiefEditor/Home';\nimport AdminHome from '../../components/Dashboard/Admin/Home';\nimport Navigation from '../../components/Dashboard/Shared/Navigation';\nimport Sidebar from '../../components/Dashboard/Shared/Sidebar';\nimport SubmitArticle from '../../components/Dashboard/Author/SubmitArticle';\nimport EditSubmission from '../../components/Dashboard/Author/EditSubmission';\nimport SubmissionDetail from '../../components/Dashboard/Submission/SubmissionDetail';\nimport SubmissionDetailEditor from '../../components/Dashboard/ChiefEditor/SubmissionDetail';\nimport AssignEditor from '../../components/Dashboard/ChiefEditor/AssignEditor';\nimport EditorAssignment from '../../components/Dashboard/Editor/EditorAssignment';\nimport AssignReviewer from '../../components/Dashboard/Editor/AssignReviewer';\nimport ReviewerAssignment from '../../components/Dashboard/Reviewer/ReviewerAssignment';\nimport ReviseSubmission from '../../components/Dashboard/Author/AuthorAssignment/ReviseSubmission';\nimport AcceptSubmission from '../../components/Dashboard/ChiefEditor/AcceptSubmission/AcceptSubmission';\nimport DeclineSubmission from '../../components/Dashboard/ChiefEditor/DeclineSubmission/DeclineSubmission';\nimport VastStats from '../../components/Dashboard/VAST/VastStats';\nimport Notifications from '../../components/Notifications/Notifications';\nimport Profile from '../../components/Profile/Profile';\nimport UserInfor from '../../components/Dashboard/Admin/UserInfor';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { USER_ROLES } from '../../utils/constant';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nclass Dashboard extends Component {\n    render() {\n        let routes = null;\n        switch (this.props.roleId) {\n            case USER_ROLES.AUTHOR.roleId:\n                routes = (\n                    <Switch>\n                        <Route path=\"/dashboard/notifications\" component={Notifications} />\n                        <Route path=\"/dashboard/new-submission\" component={SubmitArticle} />\n                        <Route path=\"/dashboard/submission/:submissionId\" component={SubmissionDetail} />\n                        <Route path=\"/dashboard/edit-submission/:submissionId\" component={EditSubmission} />\n                        <Route path=\"/dashboard/revise-submission/:submissionId\" component={ReviseSubmission} />\n                        <Route path=\"/dashboard/home\" component={AuthorHome} />\n                        <Route exact path=\"/dashboard/author\" component={AuthorMain} />\n                        <Route path=\"/dashboard/profile\" component={Profile} />\n                        <Route exact path=\"/dashboard\" component={AuthorMain} />\n                        <Redirect to=\"/dashboard\" />\n                    </Switch>\n                );\n                break;\n            case USER_ROLES.REVIEWER.roleId:\n                routes = (\n                    <Switch>\n                        <Route path=\"/dashboard/notifications\" component={Notifications} />\n                        <Route path=\"/dashboard/new-submission\" component={SubmitArticle} />\n                        <Route path=\"/dashboard/submission/:submissionId\" component={SubmissionDetail} />\n                        <Route path=\"/dashboard/edit-submission/:submissionId\" component={EditSubmission} />\n                        <Route path=\"/dashboard/revise-submission/:submissionId\" component={ReviseSubmission} />\n                        <Route path=\"/dashboard/reviewer/assignment/:submissionId\" component={ReviewerAssignment} />\n                        <Route path=\"/dashboard/reviewer\" component={ReviewerHome} />\n                        <Route path=\"/dashboard/author\" component={AuthorHome} />\n                        <Route path=\"/dashboard/profile\" component={Profile} />\n                        <Route exact path=\"/dashboard\" component={AuthorHome} />\n                        <Redirect to=\"/dashboard\" />\n                    </Switch>\n                );\n                break;\n            case USER_ROLES.EDITOR.roleId:\n                routes = (\n                    <Switch>\n                        <Route path=\"/dashboard/notifications\" component={Notifications} />\n                        <Route path=\"/dashboard/new-submission\" component={SubmitArticle} />\n                        <Route path=\"/dashboard/submission/:submissionId\" component={SubmissionDetail} />\n                        <Route path=\"/dashboard/edit-submission/:submissionId\" component={EditSubmission} />\n                        <Route path=\"/dashboard/revise-submission/:submissionId\" component={ReviseSubmission} />\n                        <Route path=\"/dashboard/editor/assign-reviewer\" component={AssignReviewer} />\n                        <Route path=\"/dashboard/editor/assignment/:submissionId\" component={EditorAssignment} />\n                        <Route path=\"/dashboard/editor/accept-submission/:submissionId\" component={AcceptSubmission} />\n                        <Route path=\"/dashboard/editor/decline-submission/:submissionId\" component={DeclineSubmission} />\n                        <Route path=\"/dashboard/editor\" component={EditorHome} />\n                        <Route path=\"/dashboard/author\" component={AuthorHome} />\n                        <Route path=\"/dashboard/profile\" component={Profile} />\n                        <Route exact path=\"/dashboard\" component={AuthorHome} />\n                        <Redirect to=\"/dashboard\" />\n                    </Switch>\n                );\n                break;\n            case USER_ROLES.CHIEF_EDITOR.roleId:\n                routes = (\n                    <Switch>\n                        <Route path=\"/dashboard/notifications\" component={Notifications} />\n                        <Route path=\"/dashboard/new-submission\" component={SubmitArticle} />\n                        <Route path=\"/dashboard/submission/:submissionId\" component={SubmissionDetailEditor} />\n                        <Route path=\"/dashboard/chief-editor/assign-editor\" component={AssignEditor} />\n                        <Route path=\"/dashboard/chief-editor/accept-submission/:submissionId\" component={AcceptSubmission} />\n                        <Route path=\"/dashboard/chief-editor/decline-submission/:submissionId\" component={DeclineSubmission} />\n                        <Route path=\"/dashboard/vast/statistics\" component={VastStats} />\n                        <Route path=\"/dashboard/chief-editor\" component={ChiefEditorHome} />\n                        <Route path=\"/dashboard/profile\" component={Profile} />\n                        <Route exact path=\"/dashboard\" component={ChiefEditorHome} />\n                    </Switch>\n                );\n                break;\n            case USER_ROLES.ADMIN.roleId:\n                routes = (\n                    <Switch>\n                        <Route path=\"/dashboard/notifications\" component={Notifications} />\n                        <Route path=\"/dashboard/profile\" component={Profile} />\n                        <Route path=\"/dashboard/vast/statistics\" component={VastStats} />\n                        <Route path=\"/dashboard/users/:userId\" component={UserInfor} />\n                        <Route path=\"/dashboard/admin\" component={AdminHome} />\n                        <Route exact path=\"/dashboard\" component={AdminHome} />\n                        <Redirect to=\"/dashboard\" />\n                    </Switch>\n                );\n                break;\n            default: routes = null;\n        }\n\n        return (\n            <div className=\"hold-transition sidebar-mini layout-fixed\">\n                <Navigation />\n                <main>\n                    {routes}\n                    {this.props.children}\n                </main>\n                <Sidebar />\n                <ToastContainer autoClose={2000} />\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        roleId: state.auth.role._id,\n    };\n};\n\nexport default connect(mapStateToProps, null)(Dashboard);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link, Redirect } from 'react-router-dom';\nimport Aux from '../../hoc/Auxiliary/Auxiliary';\nimport Navigation from '../../components/Navigation/Navigation';\nimport Footer from '../../components/Footer/Footer';\nimport Breadcrumb from '../../components/Breadcrumb/Breadcrumb';\nimport { auth, resetRegisterState } from '../../store/actions/authActions';\nimport { updateObject } from '../../utils/utility';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { loginInputControls } from '../../utils/input-controls';\nimport { loginInputChangeHandler } from '../../utils/input-change';\nclass Login extends Component {\n    \n    state = {\n        controls: loginInputControls,\n        formIsValid: false,\n        isSignedUpFlag: false\n    }\n\n    componentDidMount() {\n        window.scrollTo(0, 0);\n        if (this.props.isSignedUp) {\n            setTimeout(() => {\n                this.setState(updateObject(this.state, { isSignedUpFlag: true }));\n                this.props.resetRegisterState();\n            }, 500);\n        }\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        if (nextProps.error) {\n            this.props.resetRegisterState();\n        }\n    }\n\n    inputChangeHandler = (event) => {\n        event.preventDefault();\n        const { updatedControls, formIsValid } = loginInputChangeHandler(event, this.state);\n        this.setState({\n            controls: updatedControls,\n            formIsValid: formIsValid\n        });\n    };\n\n    formSubmitHandler = (event) => {\n        event.preventDefault();\n        this.props.auth(this.state.controls.username.value,\n            this.state.controls.password.value);\n    };\n\n    render() {\n        let authRedirect = null;\n        if (this.props.isAuth) {\n            authRedirect = <Redirect to=\"/\" />\n        }\n\n        return (\n            <Aux>\n                {authRedirect}\n                <Navigation history={this.props.history}/>\n                <Breadcrumb\n                    title=\"Trang Đăng Nhập\"\n                    imageUrl={`url(${require(\"../../resources/imgs/40.jpg\")})`} />\n                <div className=\"mag-login-area py-5\">\n                    <div className=\"container\">\n                        <div className=\"row justify-content-center\">\n                            <div className=\"col-12 col-lg-6\">\n                                <div className=\"login-content bg-white p-30 box-shadow\">\n                                    <div className=\"section-heading\">\n                                        <h5>Chào mừng bạn quay trở lại!</h5>\n                                    </div>\n                                    <form onSubmit={this.formSubmitHandler}>\n                                        <div className=\"form-group\">\n                                            <input\n                                                type=\"text\"\n                                                name=\"username\"\n                                                className={!this.state.controls.username.valid && this.state.controls.username.touched ? \"form-control-error\" : \"form-control\"}\n                                                placeholder={this.state.controls.username.elementConfig.placeholder}\n                                                defaultValue={this.state.controls.username.value}\n                                                onChange={this.inputChangeHandler} />\n                                            {!this.state.controls.username.valid && this.state.controls.username.touched ?\n                                                <p className=\"form-control-error-msg\">Tên đăng nhập không hợp lệ!</p> : null}\n                                        </div>\n                                        <div className=\"form-group\">\n                                            <input\n                                                type=\"password\"\n                                                name=\"password\"\n                                                className={!this.state.controls.password.valid && this.state.controls.password.touched ? \"form-control-error\" : \"form-control\"}\n                                                placeholder={this.state.controls.password.elementConfig.placeholder}\n                                                defaultValue={this.state.controls.password.value}\n                                                onChange={this.inputChangeHandler} />\n                                            {!this.state.controls.password.valid && this.state.controls.password.touched ?\n                                                <p className=\"form-control-error-msg\">Mật khẩu không hợp lệ!</p> : null}\n                                        </div>\n                                        <div className=\"form-group\">\n                                            <div>Quên mật khẩu?</div>\n                                        </div>\n                                        <button\n                                            type=\"submit\"\n                                            className=\"btn mag-btn mt-10\"\n                                            disabled={!this.state.formIsValid}>Đăng nhập</button>\n                                    </form>\n                                    <div className=\"mt-20\">\n                                        Hoặc tạo tài khoản mới <Link to=\"/register\"> tại đây.</Link>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <Footer />\n                <ToastContainer autoClose={2000} />\n                {this.props.isSignedUp && this.state.isSignedUpFlag ? toast.success(\"Đăng ký tài khoản thành công!\") : null}\n                {this.props.error ? toast.error(this.props.error) : null}\n            </Aux>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        loading: state.auth.loading,\n        error: state.auth.error,\n        isAuth: state.auth.token !== null,\n        isSignedUp: state.auth.isSignedUp\n    };\n};\n\nconst mapDispatchToProps = {\n    auth,\n    resetRegisterState\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { register, resetRegisterState } from '../../store/actions/authActions';\nimport { getPreferenceCategories } from '../../store/actions/userActions';\nimport Aux from '../../hoc/Auxiliary/Auxiliary';\nimport Navigation from '../../components/Navigation/Navigation';\nimport Footer from '../../components/Footer/Footer';\nimport Breadcumb from '../../components/Breadcrumb/Breadcrumb';\nimport { updateObject } from '../../utils/utility';\nimport { Link } from 'react-router-dom';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { registerInputControls } from '../../utils/input-controls';\nimport { registerInputChangeHandler } from '../../utils/input-change';\nimport Select from 'react-select';\nclass Register extends Component {\n\n    state = {\n        controls: registerInputControls,\n        toBeReviewer: false,\n        formIsValid: false,\n        preferenceCategories: null\n    }\n\n    componentDidMount() {\n        this.props.getPreferenceCategories();\n        this.props.onResetRegisterState();\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        if (nextProps.error) {\n            this.props.onResetRegisterState();\n        }\n        if (nextProps.isSignedUp && !nextProps.error) {\n            this.props.history.push('/login');\n        }\n    }\n\n    checkboxChangeHandler = (event) => {\n        const updatedState = updateObject(this.state, {\n            toBeReviewer: event.target.checked\n        });\n        this.setState(updatedState);\n    }\n\n    inputChangeHandler = (event) => {\n        event.preventDefault();\n        const { updatedControls, eq } = registerInputChangeHandler(event, this.state);\n        this.setState({\n            controls: updatedControls,\n            formIsValid: eq\n        });\n    };\n\n    preferenceChangeHandler = (selectedOption) => {\n        this.setState({ preferenceCategories: selectedOption });\n    }\n\n    formSubmitHandler = (event) => {\n        event.preventDefault();\n        const body = {\n            username: this.state.controls.username.value,\n            email: this.state.controls.email.value,\n            password: this.state.controls.password.value,\n            firstname: this.state.controls.firstname.value,\n            lastname: this.state.controls.lastname.value,\n            affiliation: this.state.controls.affiliation.value,\n            biography: this.state.controls.biography.value,\n            toBeReviewer: this.state.toBeReviewer,\n            preferenceCategoryId: this.state.preferenceCategories ? this.state.preferenceCategories.map(c => c.value) : null\n        };\n        this.props.onRegister(body);\n    };\n\n    render() {\n        return (\n            <Aux>\n                <Navigation history={this.props.history} />\n                <Breadcumb\n                    title=\"Đăng ký tài khoản\"\n                    imageUrl={`url(${require(\"../../resources/imgs/40.jpg\")})`} />\n                <div className=\"mag-login-area py-5\">\n                    <div className=\"container\">\n                        <div className=\"row justify-content-center\">\n                            <div className=\"col-12 col-lg-6\">\n                                <div className=\"login-content bg-white p-30 box-shadow\">\n                                    <div className=\"section-heading\">\n                                        <h5>Tạo tài khoản mới tại OJS</h5>\n                                    </div>\n\n                                    <div className=\"form-group\">\n                                        <input\n                                            type=\"text\"\n                                            name=\"username\"\n                                            className={!this.state.controls.username.valid && this.state.controls.username.touched ? \"form-control-error\" : \"form-control\"}\n                                            placeholder={this.state.controls.username.elementConfig.placeholder}\n                                            defaultValue={this.state.controls.username.value}\n                                            onChange={this.inputChangeHandler} />\n                                        {!this.state.controls.username.valid && this.state.controls.username.touched ?\n                                            <p className=\"form-control-error-msg\">Tên đăng nhập không hợp lệ!</p> : null}\n                                    </div>\n                                    <div className=\"form-group\">\n                                        <input\n                                            type=\"email\"\n                                            name=\"email\"\n                                            className={!this.state.controls.email.valid && this.state.controls.email.touched ? \"form-control-error\" : \"form-control\"}\n                                            placeholder={this.state.controls.email.elementConfig.placeholder}\n                                            defaultValue={this.state.controls.email.value}\n                                            onChange={this.inputChangeHandler} />\n                                        {!this.state.controls.email.valid && this.state.controls.email.touched ?\n                                            <p className=\"form-control-error-msg\">Địa chỉ email không hợp lệ!</p> : null}\n                                    </div>\n                                    <div className=\"form-group\">\n                                        <input\n                                            type=\"password\"\n                                            name=\"password\"\n                                            className={!this.state.controls.password.valid && this.state.controls.password.touched ? \"form-control-error\" : \"form-control\"}\n                                            placeholder={this.state.controls.password.elementConfig.placeholder}\n                                            defaultValue={this.state.controls.password.value}\n                                            onChange={this.inputChangeHandler} />\n                                        {!this.state.controls.password.valid && this.state.controls.password.touched ?\n                                            <p className=\"form-control-error-msg\">Mật khẩu không hợp lệ!</p> : null}\n                                    </div>\n                                    <div className=\"form-group\">\n                                        <input\n                                            type=\"password\"\n                                            name=\"confirm_password\"\n                                            className={!this.state.controls.confirm_password.valid && this.state.controls.confirm_password.touched ? \"form-control-error\" : \"form-control\"}\n                                            placeholder={this.state.controls.confirm_password.elementConfig.placeholder}\n                                            defaultValue={this.state.controls.confirm_password.value}\n                                            onChange={this.inputChangeHandler} />\n                                        {!this.state.controls.confirm_password.valid && this.state.controls.confirm_password.touched ?\n                                            <p className=\"form-control-error-msg\">Mật khẩu không hợp lệ!</p> : null}\n                                        {this.state.controls.password.value !== this.state.controls.confirm_password.value\n                                            && this.state.controls.confirm_password.touched ?\n                                            <p className=\"form-control-error-msg\">Mật khẩu không khớp!</p> : null}\n                                    </div>\n                                    <div className=\"form-group\">\n                                        <input\n                                            type=\"text\"\n                                            name=\"firstname\"\n                                            className={!this.state.controls.firstname.valid && this.state.controls.firstname.touched ? \"form-control-error\" : \"form-control\"}\n                                            placeholder={this.state.controls.firstname.elementConfig.placeholder}\n                                            defaultValue={this.state.controls.firstname.value}\n                                            onChange={this.inputChangeHandler} />\n                                        {!this.state.controls.firstname.valid && this.state.controls.firstname.touched ?\n                                            <p className=\"form-control-error-msg\">Tên không hợp lệ!</p> : null}\n                                    </div>\n                                    <div className=\"form-group\">\n                                        <input\n                                            type=\"text\"\n                                            name=\"lastname\"\n                                            className={!this.state.controls.lastname.valid && this.state.controls.lastname.touched ? \"form-control-error\" : \"form-control\"}\n                                            placeholder={this.state.controls.lastname.elementConfig.placeholder}\n                                            defaultValue={this.state.controls.lastname.value}\n                                            onChange={this.inputChangeHandler} />\n                                        {!this.state.controls.lastname.valid && this.state.controls.lastname.touched ?\n                                            <p className=\"form-control-error-msg\">Họ không hợp lệ!</p> : null}\n                                    </div>\n                                    <div className=\"form-group\">\n                                        <input\n                                            type=\"text\"\n                                            name=\"affiliation\"\n                                            className={!this.state.controls.affiliation.valid && this.state.controls.affiliation.touched ? \"form-control-error\" : \"form-control\"}\n                                            placeholder={this.state.controls.affiliation.elementConfig.placeholder}\n                                            defaultValue={this.state.controls.affiliation.value}\n                                            onChange={this.inputChangeHandler} />\n                                        {!this.state.controls.affiliation.valid && this.state.controls.affiliation.touched ?\n                                            <p className=\"form-control-error-msg\">Địa chỉ công tác tối đa 255 ký tự!</p> : null}\n                                    </div>\n                                    <div className=\"form-group\">\n                                        <input\n                                            type=\"text\"\n                                            name=\"biography\"\n                                            className={!this.state.controls.biography.valid && this.state.controls.biography.touched ? \"form-control-error\" : \"form-control\"}\n                                            placeholder={this.state.controls.biography.elementConfig.placeholder}\n                                            defaultValue={this.state.controls.biography.value}\n                                            onChange={this.inputChangeHandler} />\n                                        {!this.state.controls.biography.valid && this.state.controls.biography.touched ?\n                                            <p className=\"form-control-error-msg\">Giới thiệu bản thân tối đa 10000 ký tự!</p> : null}\n                                    </div>\n                                    <div className=\"form-group\">\n                                        <Select\n                                            styles={{\n                                                menu: (provided, state) => ({\n                                                    ...provided,\n                                                    zIndex: 9999,\n                                                    padding: 10,\n                                                }),\n                                                input: (provided) => ({\n                                                    ...provided,\n                                                    height: 35\n                                                }),\n                                                placeholder: (provided) => ({\n                                                    ...provided,\n                                                    paddingLeft: 20\n                                                }),\n                                            }}\n                                            // defaultValue={this.props.user.preferenceCategoryId}\n                                            isMulti\n                                            name=\"preference-categories\"\n                                            options={this.props.categories}\n                                            className=\"basic-multi-select\"\n                                            classNamePrefix=\"select\"\n                                            placeholder=\"Chọn lĩnh vực nghiên cứu của bạn\"\n                                            onChange={this.preferenceChangeHandler} />\n                                    </div>\n\n                                    <div className=\"form-group\">\n                                        <div className=\"custom-control custom-checkbox mr-sm-2\">\n                                            <input\n                                                type=\"checkbox\"\n                                                className=\"custom-control-input\"\n                                                id=\"customControlAutosizing\"\n                                                checked={this.state.toBeReviewer}\n                                                name=\"toBeReviewer\"\n                                                onChange={this.checkboxChangeHandler}\n                                            />\n                                            <label className=\"custom-control-label\" htmlFor=\"customControlAutosizing\"></label> Tôi muốn trở thành nhà thẩm định (Reviewer)\n                                            </div>\n                                    </div>\n\n                                    <button\n                                        type=\"button\"\n                                        className=\"btn mag-btn mt-10\"\n                                        onClick={this.formSubmitHandler}\n                                        disabled={!this.state.formIsValid}>Đăng ký</button>\n                                    <div className=\"mt-20\">\n                                        Đã có tài khoản? Đăng nhập <Link to=\"/login\"> tại đây.</Link>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <Footer />\n                <ToastContainer autoClose={2000} />\n                {this.props.error ? toast.error(this.props.error) : null}\n            </Aux>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        loading: state.auth.loading,\n        error: state.auth.error,\n        isSignedUp: state.auth.isSignedUp,\n        categories: state.user.categories\n    };\n};\n\nconst mapDispatchToProps = {\n    onRegister: register,\n    onResetRegisterState: resetRegisterState,\n    getPreferenceCategories\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Register);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { logout } from '../../store/actions/authActions';\n\nclass Logout extends Component {\n\n    componentDidMount() {\n        this.props.onLogout();\n    }\n\n    render() {\n        return (\n            <div>\n                <Redirect to=\"/\" />\n            </div>\n        );\n    }\n}\n\nconst mapDispatchToProps = {\n    onLogout: logout\n};\n\n\nexport default connect(null, mapDispatchToProps)(Logout);","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst RouteBreadcrumb = (props) => {\n    return (\n        <div className=\"mag-breadcrumb py-5\">\n        <div className=\"container\">\n            <div className=\"row\">\n                <div className=\"col-12\">\n                    <nav aria-label=\"breadcrumb\">\n                        <ol className=\"breadcrumb\">\n                            <li className=\"breadcrumb-item\"><Link to=\"/\"><i className=\"fa fa-home\" aria-hidden=\"true\"></i> Trang chủ</Link></li>\n                            {props.children}\n                        </ol>\n                    </nav>\n                </div>\n            </div>\n        </div>\n    </div>\n    );\n};\n\nexport default RouteBreadcrumb;","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Sidebar = (props) => {\n    return (\n        <div className=\"post-sidebar-area right-sidebar mt-30 mb-30 box-shadow\">\n            <div className=\"single-sidebar-widget p-30\">\n                <div className=\"section-heading\">\n                    <h5>Chủ đề</h5>\n                </div>\n                <ul className=\"catagory-widgets\">\n                    {props.categories.map(category => (\n                        <li key={category._id}>\n                            <Link to=\"#\">\n                                <span><i className=\"fa fa-angle-double-right\" aria-hidden=\"true\"></i> {category.name}</span>\n                                <span>{Math.floor(Math.random() * 10) + 5}</span>\n                            </Link>\n                        </li>\n                    ))}\n                </ul>\n            </div>\n\n            <div className=\"single-sidebar-widget p-30\">\n                <div className=\"section-heading\" style={{ paddingRight: '10px' }}>\n                    <h5>Bài báo liên quan</h5>\n                </div>\n                {props.articles.map(article => (\n                    <div className=\"single-blog-post d-flex\" key={article._id}>\n                        <div className=\"post-content\">\n                            <Link to={`/single-article/${article._id}`} className=\"post-title\">\n                                {article.submissionId.title}\n                            </Link>\n                            <div className=\"post-meta\">\n                                <Link to=\"#\" className=\"text-secondary\" style={{ fontWeight: '400' }}>\n                                    <i className=\"fas fa-user\"></i>{\" \"}\n                                    {article.submissionId.authorId.lastname} {article.submissionId.authorId.firstname}\n                                </Link>\n                                <Link to=\"#\" className=\"text-secondary ml-2\" style={{ fontWeight: '400' }}>\n                                    <i className=\"fas fa-eye\" aria-hidden=\"true\"></i> {article.views}\n                                </Link>\n                                <Link to=\"#\" className=\"text-secondary ml-2\" style={{ fontWeight: '400' }}>\n                                    <i className=\"fas fa-download\" aria-hidden=\"true\"></i> {article.downloaded}\n                                </Link>\n                            </div>\n                            <div className=\"badge-ol badge-ol-dark badge-outlined mt-1\" style={{ fontSize: '12px' }}>{article.submissionId.typeId.name}</div>\n                            <div className=\"badge-ol badge-ol-dark badge-outlined ml-1 mt-1\" style={{ fontSize: '12px' }}>{article.submissionId.categoryId.name}</div>\n                        </div>\n                    </div>\n                ))}\n            </div>\n\n            <div className=\"single-sidebar-widget p-30\">\n                <div className=\"section-heading\">\n                    <h5>Hòm thư</h5>\n                </div>\n                <div className=\"newsletter-form\">\n                    <p>Đăng kí theo dõi để nhận thông báo về các bài báo hay trên hệ thống</p>\n                    <form action=\"#\" method=\"get\">\n                        <input type=\"search\" name=\"widget-search\" placeholder=\"Email của bạn\" />\n                        <button type=\"submit\" className=\"btn mag-btn w-100\">Theo dõi</button>\n                    </form>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Sidebar;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport * as queryString from 'query-string';\nimport Aux from '../../hoc/Auxiliary/Auxiliary';\n\nconst Pagination = (props) => {\n    return (\n        <nav>\n            <ul className=\"pagination\">\n                {props.currentPage !== 1 && props.prevPage !== 1 ? (\n                    <li className=\"page-item\">\n                        <Link className=\"page-link\"\n                            to={{\n                                pathname: props.location.pathname,\n                                search: queryString.stringify(Object.assign({}, queryString.parse(props.location.search), { page: 1 }))\n                            }}>\n                            1\n                        </Link>\n                    </li>\n                ) : null}\n\n                {props.hasPrevPage ? (\n                    <Aux>\n                        {props.prevPage !== 1 && (\n                            <li className=\"page-item\">\n                                <Link className=\"page-link\"\n                                    to={{\n                                        pathname: props.location.pathname,\n                                        search: queryString.stringify(Object.assign({}, queryString.parse(props.location.search), { page: props.prevPage }))\n                                    }}>\n                                    <i className=\"ti-angle-left\"></i>\n                                </Link>\n                            </li>\n                        )}\n                        <li className=\"page-item\">\n                            <Link className=\"page-link\"\n                                to={{\n                                    pathname: props.location.pathname,\n                                    search: queryString.stringify(Object.assign({}, queryString.parse(props.location.search), { page: props.prevPage }))\n                                }}>\n                                {props.prevPage}\n                            </Link>\n                        </li>\n                    </Aux>\n                ) : null}\n\n                <li className=\"page-item active\">\n                    <Link className=\"page-link\"\n                        to={{\n                            pathname: props.location.pathname,\n                            search: queryString.stringify(Object.assign({}, queryString.parse(props.location.search), { page: props.currentPage }))\n                        }}>\n                        {props.currentPage}\n                    </Link>\n                </li>\n\n                {props.hasNextPage ? (\n                    <Aux>\n                        <li className=\"page-item\">\n                            <Link className=\"page-link\"\n                                to={{\n                                    pathname: props.location.pathname,\n                                    search: queryString.stringify(Object.assign({}, queryString.parse(props.location.search), { page: props.nextPage }))\n                                }}>\n                                {props.nextPage}\n                            </Link>\n                        </li>\n                        {props.nextPage !== props.lastPage && (\n                            <li className=\"page-item\">\n                                <Link className=\"page-link\"\n                                    to={{\n                                        pathname: props.location.pathname,\n                                        search: queryString.stringify(Object.assign({}, queryString.parse(props.location.search), { page: props.nextPage }))\n                                    }}>\n                                    <i className=\"ti-angle-right\"></i>\n                                </Link>\n                            </li>\n                        )}\n                    </Aux>\n\n                ) : null}\n\n                {props.currentPage !== props.lastPage && props.nextPage !== props.lastPage ? (\n                    <li className=\"page-item\">\n                        <Link className=\"page-link\"\n                            to={{\n                                pathname: props.location.pathname,\n                                search: queryString.stringify(Object.assign({}, queryString.parse(props.location.search), { page: props.lastPage }))\n                            }}>\n                            {props.lastPage}\n                        </Link>\n                    </li>\n                ) : null}\n            </ul>\n        </nav>\n    );\n};\n\nexport default Pagination;","import React from 'react';\n\nconst Filter = (props) => {\n    return (\n        <div className=\"card-header\">\n            <div className=\"card-tools float-left pb-2\">\n                <div className=\"input-group input-group-sm p-0\">\n                    <div className=\"pt-1\">\n                        <i className=\"fas fa-filter\"></i> <b>Bộ lọc</b>\n                    </div>\n                    <div className=\"ml-2\">\n                        <select className=\"form-control-sm\" onChange={props.typeFilterHandler}>\n                            <option value=\"\">Thể loại</option>\n                            {props.types.map(type => (\n                                <option key={type._id} value={type._id}>\n                                    {type.name}\n                                </option>\n                            ))}\n                        </select>\n                    </div>\n                    <div className=\"ml-2\">\n                        <select className=\"form-control-sm\" onChange={props.categoryFilterHandler}>\n                            <option value=\"\">Lĩnh vực nghiên cứu</option>\n                            {props.categories.map(category => (\n                                <option key={category._id} value={category._id}>\n                                    {category.name}\n                                </option>\n                            ))}\n                        </select>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Filter;","import React, { Component } from 'react';\nimport Aux from '../../hoc/Auxiliary/Auxiliary';\nimport Navigation from '../../components/Navigation/Navigation';\nimport Footer from '../../components/Footer/Footer';\nimport Breadcrumb from '../../components/Breadcrumb/Breadcrumb';\nimport RouteBreadcrumb from '../../components/Breadcrumb/RouteBreadcrumb';\nimport Sidebar from './Sidebar';\nimport { connect } from 'react-redux';\nimport { getAllArticles } from '../../store/actions/articleActions';\nimport { getCategories, getStages, getSubmissionTypes } from '../../store/actions/submissionActions';\nimport Spinner from '../../components/UI/Spinner/Spinner';\nimport { getFormattedDateOnly, getListContributors, getShortArticleAbstract, updateObject } from '../../utils/utility';\nimport { Link } from 'react-router-dom';\nimport Pagination from './Pagination';\nimport Filter from './Filter/Filter';\n\nconst ITEMS_PER_PAGE = 6;\nclass Articles extends Component {\n\n    state = {\n        selectedCategoryId: '',\n        selectedTypeId: ''\n    }\n\n    componentDidMount() {\n        window.scrollTo(0, 0);\n        this.props.getStages();\n        this.props.getSubmissionTypes();\n        if (this.props.location.search) {\n            const query = new URLSearchParams(this.props.location.search);\n            const page = query.get('page');\n            if (page) {\n                this.props.getAllArticles(page, ITEMS_PER_PAGE, this.state.selectedCategoryId, this.state.selectedTypeId);\n            }\n        } else {\n            this.props.getAllArticles(1, ITEMS_PER_PAGE, this.state.selectedCategoryId, this.state.selectedTypeId);\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        window.scrollTo(0, 0);\n        if (this.props.location.search !== prevProps.location.search) {\n            const prevQuery = new URLSearchParams(prevProps.location.search);\n            const query = new URLSearchParams(this.props.location.search);\n            const prevPage = prevQuery.get('page');\n            const page = query.get('page');\n            if (page !== prevPage) {\n                this.props.getAllArticles(page, ITEMS_PER_PAGE, this.state.selectedCategoryId, this.state.selectedTypeId);\n            }\n        }\n    }\n\n    categoryFilterHandler = (event) => {\n        this.setState(updateObject(this.state, { selectedCategoryId: event.target.value }));\n        this.props.getAllArticles(1, ITEMS_PER_PAGE, event.target.value, this.state.selectedTypeId);\n    }\n\n    typeFilterHandler = (event) => {\n        this.setState(updateObject(this.state, { selectedTypeId: event.target.value }));\n        this.props.getAllArticles(1, ITEMS_PER_PAGE, this.state.selectedCategoryId, event.target.value);\n    }\n\n    render() {\n        const articles = (\n            <Aux>\n                <Navigation history={this.props.history} />\n                <Breadcrumb\n                    title=\"Tất cả bài báo\"\n                    imageUrl={`url(${require(\"../../resources/imgs/40.jpg\")})`} />\n                <RouteBreadcrumb>\n                    <li className=\"breadcrumb-item active\" aria-current=\"page\">Bài báo</li>\n                </RouteBreadcrumb>\n\n                <section className=\"post-details-area\">\n                    <div className=\"container\">\n                        <div className=\"row justify-content-center\">\n                            {/* Col */}\n                            <div className=\"col col-9\">\n                                <div className=\"archive-posts-area bg-white p-30 mb-30 box-shadow\">\n                                    {!this.props.loading ? (\n                                        <Aux>\n                                            <Filter\n                                                categories={this.props.categories.length > 0 ? this.props.categories : []}\n                                                stages={this.props.stages.length > 0 ? this.props.stages : []}\n                                                types={this.props.types.length > 0 ? this.props.types : []}\n                                                categoryFilterHandler={this.categoryFilterHandler}\n                                                typeFilterHandler={this.typeFilterHandler} />\n                                            {this.props.articles.length > 0 ? (\n                                                <Aux>\n                                                    {this.props.articles.map(article => (\n                                                        <div className=\"single-catagory-post d-flex flex-wrap\" key={article._id}>\n                                                            <div className=\"post-content\">\n                                                                {/* <div className=\"post-meta\">\n                                                                    <p>{article.submissionId.typeId.name}</p>\n                                                                    <p>{article.submissionId.categoryId.name}</p>\n                                                                </div> */}\n                                                                <Link to={`/single-article/${article._id}`} className=\"post-title\">\n                                                                    {article.submissionId.title}\n                                                                </Link>\n                                                                <div className=\"post-meta-2\">\n                                                                    <Link to=\"#\" className=\"text-dark\">\n                                                                        <i className=\"fas fa-user\"></i>{\" \"}\n                                                                        {article.submissionId.authorId.lastname} {article.submissionId.authorId.firstname}\n                                                                        {article.submissionId.contributors.length > 0 && \", \" + getListContributors(article.submissionId.contributors)}\n                                                                    </Link>\n                                                                    <Link to=\"#\" className=\"text-dark\" style={{ fontWeight: '400' }}>\n                                                                        <i className=\"fas fa-clock\" aria-hidden=\"true\"></i> {getFormattedDateOnly(article.publishedDate)}\n                                                                    </Link>\n                                                                    <Link to=\"#\" className=\"text-dark\" style={{ fontWeight: '400' }}>\n                                                                        <i className=\"fas fa-eye\" aria-hidden=\"true\"></i> {article.views}\n                                                                    </Link>\n                                                                    <Link to=\"#\" className=\"text-dark\" style={{ fontWeight: '400' }}>\n                                                                        <i className=\"fas fa-download\" aria-hidden=\"true\"></i> {article.downloaded}\n                                                                    </Link>\n                                                                </div>\n                                                                <p>{getShortArticleAbstract(article.submissionId.abstract)}</p>\n                                                                <div className=\"badge-ol badge-ol-dark badge-outlined mt-2\">{article.submissionId.typeId.name}</div>\n                                                                <div className=\"badge-ol badge-ol-dark badge-outlined ml-1 mt-2\">{article.submissionId.categoryId.name}</div>\n                                                            </div>\n                                                        </div>\n                                                    ))}\n\n                                                    <Pagination\n                                                        currentPage={this.props.currentPage}\n                                                        hasNextPage={ITEMS_PER_PAGE * this.props.currentPage < this.props.total}\n                                                        hasPrevPage={this.props.currentPage > 1}\n                                                        nextPage={this.props.currentPage + 1}\n                                                        prevPage={this.props.currentPage - 1}\n                                                        lastPage={Math.ceil(this.props.total / ITEMS_PER_PAGE)}\n                                                        location={this.props.location} />\n                                                </Aux>\n                                            ) : <div>Không tìm thấy bài báo nào</div>}\n                                        </Aux>\n                                    ) : (\n                                            <Spinner />\n                                        )}\n                                </div>\n                            </div>\n                            {/* Col */}\n                            <div className=\"col col-3\">\n                                {this.props.articles.length > 0 && this.props.categories.length > 0 && (\n                                    <Sidebar\n                                        articles={this.props.articles}\n                                        categories={this.props.categories} />\n                                )}\n                            </div>\n                        </div>\n                    </div>\n                </section>\n                <Footer />\n            </Aux>\n        );\n\n        return (\n            <Aux>\n                { articles}\n            </Aux>\n        );\n    }\n};\n\n\nconst mapStateToProps = state => {\n    return {\n        articles: state.article.articles,\n        total: state.article.total_items,\n        currentPage: state.article.currentPage,\n        loading: state.article.loading,\n        error: state.article.error,\n        categories: state.submission.categories,\n        stages: state.submission.stages,\n        types: state.submission.types\n    };\n};\n\nconst mapDispatchToProps = {\n    getAllArticles,\n    getCategories,\n    getStages,\n    getSubmissionTypes\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Articles);","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Aux from '../../../hoc/Auxiliary/Auxiliary';\n\nconst MetaData = (props) => {\n    return (\n        <Aux>\n            {/* <!-- Like Dislike Share --> */}\n            <div className=\"like-dislike-share my-3\">\n                \n            </div>\n            {/* <!-- Post Author --> */}\n            <div className=\"post-author d-flex align-items-center\">\n                <div className=\"post-author-thumb\">\n                    <img src={props.author.avatar} alt=\"\" />\n                </div>\n                <div className=\"post-author-desc pl-4\">\n                    <Link to=\"#\" className=\"author-name\">{props.author.lastname} {props.author.firstname}</Link>\n                    <p>{props.author.biography}</p>\n                </div>\n            </div>\n        </Aux>\n\n    );\n};\n\nexport default MetaData;","import React from 'react';\nimport Aux from '../../../hoc/Auxiliary/Auxiliary';\nimport { getFormattedDate } from '../../../utils/utility';\n\nconst Comments = (props) => {\n    return (\n        <Aux>\n            <div className=\"section-heading\">\n                <h5>Bình Luận</h5>\n            </div>\n\n            <ol>\n                {props.comments.map(comment => (\n                    <li className=\"single_comment_area\" key={comment._id}>\n                        <div className=\"comment-content d-flex\">\n                            <div className=\"comment-author\">\n                                <img src={comment.user.avatar} alt=\"author\" />\n                            </div>\n                            <div className=\"comment-meta\">\n                                <a href=\"a\" className=\"comment-date\">{getFormattedDate(comment.createdAt)}</a>\n                                <h6>{comment.user.lastname} {comment.user.firstname}</h6>\n                                <p>{comment.content}</p>\n                                {props.isAuth && (\n                                    <div className=\"d-flex align-items-center\">\n                                        <div className=\"like\" to=\"#\">Thích</div>\n                                        <div className=\"reply\" onClick={() => props.selectCommentToReplyHandler(comment._id)}>Trả lời</div>\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n\n                        <ol className=\"children\">\n                            <li className=\"single_comment_area\">\n                                {comment.replies.length > 0 && comment.replies.map(reply => (\n                                    <div className=\"comment-content d-flex\" key={reply._id}>\n                                        <div className=\"comment-author\">\n                                            <img src={reply.user.avatar} alt=\"author\" />\n                                        </div>\n                                        <div className=\"comment-meta\">\n                                            <a href=\"a\" className=\"comment-date\">{getFormattedDate(reply.createdAt)}</a>\n                                            <h6>{reply.user.lastname} {reply.user.firstname}</h6>\n                                            <p>{reply.content}</p>\n                                            {props.isAuth && (\n                                                <div className=\"d-flex align-items-center\">\n                                                    <div className=\"like\" to=\"#\">Thích</div>\n                                                    <div className=\"reply\" onClick={() => props.selectCommentToReplyHandler(comment._id)}>Trả lời</div>\n                                                </div>\n                                            )}\n                                        </div>\n                                    </div>\n                                ))}\n                            </li>\n                            {props.commentToReplyId === comment._id && (\n                                <div className=\"col-12 pl-5 pb-2\">\n                                    <label>Trả lời bình luận*</label>\n                                    <input\n                                        name=\"reply\"\n                                        className={!props.reply.valid && props.reply.touched ? \"form-control-error\" : \"form-control\"}\n                                        id=\"reply\"\n                                        defaultValue={props.reply.value}\n                                        cols=\"30\"\n                                        rows=\"10\"\n                                        placeholder=\"Nội dung trả lời bình luận\"\n                                        onChange={props.replyInputChangeHandler} />\n                                    {!props.reply.valid && props.reply.touched ?\n                                        <p className=\"form-control-error-msg\">Nội dung phải dài ít nhất 10 ký tự!</p> : null}\n\n                                    <div className=\"row float-right\">\n                                        <button\n                                            className=\"btn btn-outline-dark btn-flat mr-1\"\n                                            disabled={!props.reply.valid}\n                                            onClick={() => props.postReplyACommentHandler(comment._id)} >Trả lời</button>\n                                        <button\n                                            className=\"btn btn-outline-danger btn-flat mr-1\"\n                                            onClick={props.cancelReplyHandler}>Hủy</button>\n                                    </div>\n                                </div>\n                            )}\n                        </ol>\n                    </li>\n                ))}\n\n            </ol>\n        </Aux>\n    );\n};\n\nexport default Comments;","import React from 'react';\nimport Aux from '../../../hoc/Auxiliary/Auxiliary';\n\nconst PostComment = (props) => {\n    return (\n        <Aux>\n            <div className=\"section-heading\">\n                <h5>Để lại bình luận</h5>\n            </div>\n\n            <div className=\"contact-form-area\">\n                <form>\n                    <div className=\"row\">\n                        <div className=\"col-12\">\n                            <textarea\n                                name=\"comment\"\n                                className={!props.comment.valid && props.comment.touched ? \"form-control-error\" : \"form-control\"}\n                                id=\"comment\"\n                                defaultValue={props.comment.value}\n                                disabled={!props.isAuth}\n                                cols=\"30\"\n                                rows=\"10\"\n                                placeholder={props.isAuth ? \"Nội dung bình luận\" : \"Đăng nhập để bình luận\"}\n                                onChange={props.commentInputChangeHandler} />\n                            {!props.comment.valid && props.comment.touched ?\n                                <p className=\"form-control-error-msg\">Bình luận phải dài ít nhất 10 ký tự!</p> : null}\n                        </div>\n                        <div className=\"col-12\">\n                            <button\n                                type=\"button\"\n                                className=\"btn mag-btn mt-30\"\n                                disabled={!props.comment.valid}\n                                onClick={props.postCommentHandler}>Bình luận</button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        </Aux>\n    );\n};\n\nexport default PostComment;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Aux from '../../../hoc/Auxiliary/Auxiliary';\n\nconst Sidebar = (props) => {\n    return (\n        <Aux>\n            <div className=\"post-sidebar-area right-sidebar mt-30 mb-30 box-shadow\">\n                <div className=\"single-sidebar-widget p-30\">\n                    <div className=\"section-heading\" style={{ paddingRight: '10px' }}>\n                        <h5>Tải xuống bài báo</h5>\n                    </div>\n                    <div className=\"social-followers-info\">\n                        <a href={props.articleUrl}\n                            className=\"google-followers\"\n                            style={{ paddingRight: '0', cursor: 'auto' }}\n                            download target=\"_blank\" rel=\"noopener noreferrer\"\n                            onClick={props.updateDownloadedTimes}\n                        >\n                            <i className=\"fas fa-file-pdf\"></i>{\" \"}\n                            <span>PDF</span>\n                            <span style={{ float: 'right', cursor: 'pointer' }}>\n                                <i className=\"fas fa-download\"></i>\n                            </span>\n                        </a>\n                    </div>\n                </div>\n\n                <div className=\"single-sidebar-widget p-30\">\n                    <div className=\"section-heading\">\n                        <h5>Chủ đề</h5>\n                    </div>\n                    <ul className=\"catagory-widgets\">\n                        {props.categories.map(category => (\n                            <li key={category._id}>\n                                <Link to=\"#\">\n                                    <span><i className=\"fa fa-angle-double-right\" aria-hidden=\"true\"></i> {category.name}</span>\n                                    <span>{category.numberOfArticles}</span>\n                                </Link>\n                            </li>\n                        ))}\n                    </ul>\n                </div>\n\n                <div className=\"single-sidebar-widget p-30\">\n                    <div className=\"section-heading\" style={{ paddingRight: '10px' }}>\n                        <h5>Bài báo liên quan</h5>\n                    </div>\n                    {props.related_articles.map(article => (\n                        <div className=\"single-blog-post d-flex\" key={article._id}>\n                            <div className=\"post-content\">\n                                <Link to={`/single-article/${article._id}`} className=\"post-title\">\n                                    {article.submissionId.title}\n                                </Link>\n                                <div className=\"post-meta\">\n                                    <Link to=\"#\" className=\"text-dark\" style={{ fontWeight: '400' }}>\n                                        <i className=\"fas fa-user\"></i>{\" \"}\n                                        {article.submissionId.authorId.lastname} {article.submissionId.authorId.firstname}\n                                    </Link>\n                                    <Link to=\"#\" className=\"text-dark ml-2\" style={{ fontWeight: '400' }}>\n                                        <i className=\"fas fa-eye\" aria-hidden=\"true\"></i> {article.views}\n                                    </Link>\n                                    <Link to=\"#\" className=\"text-dark ml-2\" style={{ fontWeight: '400' }}>\n                                        <i className=\"fas fa-download\" aria-hidden=\"true\"></i> {article.downloaded}\n                                    </Link>\n                                </div>\n                                <div className=\"badge-ol badge-ol-dark badge-outlined mt-1\" style={{ fontSize: '12px' }}>{article.submissionId.typeId.name}</div>\n                                <div className=\"badge-ol badge-ol-dark badge-outlined ml-1 mt-1\" style={{ fontSize: '12px' }}>{article.submissionId.categoryId.name}</div>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n\n                <div className=\"single-sidebar-widget p-30\">\n                    <div className=\"section-heading\" style={{ paddingRight: '10px' }}>\n                        <h5>Nổi bật</h5>\n                    </div>\n                    {props.most_viewed_articles.map(article => (\n                        <div className=\"single-blog-post d-flex\" key={article._id}>\n                            <div className=\"post-content\">\n                                <Link to={`/single-article/${article._id}`} className=\"post-title\">\n                                    {article.submissionId.title}\n                                </Link>\n                                <div className=\"post-meta\">\n                                    <Link to=\"#\" className=\"text-dark\" style={{ fontWeight: '400' }}>\n                                        <i className=\"fas fa-user\"></i>{\" \"}\n                                        {article.submissionId.authorId.lastname} {article.submissionId.authorId.firstname}\n                                    </Link>\n                                    <Link to=\"#\" className=\"text-dark ml-2\" style={{ fontWeight: '400' }}>\n                                        <i className=\"fas fa-eye\" aria-hidden=\"true\"></i> {article.views}\n                                    </Link>\n                                    <Link to=\"#\" className=\"text-dark ml-2\" style={{ fontWeight: '400' }}>\n                                        <i className=\"fas fa-download\" aria-hidden=\"true\"></i> {article.downloaded}\n                                    </Link>\n                                </div>\n                                <div className=\"badge-ol badge-ol-dark badge-outlined mt-1\" style={{ fontSize: '12px' }}>{article.submissionId.typeId.name}</div>\n                                <div className=\"badge-ol badge-ol-dark badge-outlined ml-1 mt-1\" style={{ fontSize: '12px' }}>{article.submissionId.categoryId.name}</div>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n\n                {/* <div className=\"single-sidebar-widget p-30\">\n                    <div className=\"section-heading\">\n                        <h5>Hòm thư</h5>\n                    </div>\n                    <div className=\"newsletter-form\">\n                        <p>Đăng kí theo dõi để nhận thông báo về các bài báo hay trên hệ thống</p>\n                        <form action=\"#\" method=\"get\">\n                            <input type=\"search\" name=\"widget-search\" placeholder=\"Email của bạn\" />\n                            <button type=\"submit\" className=\"btn mag-btn w-100\">Theo dõi</button>\n                        </form>\n                    </div>\n                </div> */}\n            </div>\n        </Aux>\n    );\n};\n\nexport default Sidebar;","import React, { Component } from 'react';\nimport Aux from '../../../hoc/Auxiliary/Auxiliary';\nimport Navigation from '../../../components/Navigation/Navigation';\nimport Footer from '../../../components/Footer/Footer';\nimport Breadcrumb from '../../../components/Breadcrumb/Breadcrumb';\nimport RouteBreadcrumb from '../../../components/Breadcrumb/RouteBreadcrumb';\nimport Author from './Author';\nimport Comments from './Comments';\nimport PostComment from './PostComment';\nimport Sidebar from './Sidebar';\nimport { connect } from 'react-redux';\nimport {\n    getSingleArticle,\n    getRelatedArticles,\n    getMostViewedArticlesHome,\n    updateDownloadedCount,\n    getCommentsOfArticle,\n    postCommentOfArticle,\n    replyACommentOfArticle,\n    resetPostCommentState,\n    resetReplyACommentState\n}\n    from '../../../store/actions/articleActions';\nimport { getCategories } from '../../../store/actions/submissionActions';\nimport Spinner from '../../../components/UI/Spinner/Spinner';\nimport { checkValidity, getFormattedDateOnly, getListContributors, updateObject } from '../../../utils/utility';\nimport { Link } from 'react-router-dom';\nimport { ToastContainer, toast } from 'react-toastify';\nimport { commentAndReplyInput } from '../../../utils/input-controls';\n\nclass Article extends Component {\n\n    state = commentAndReplyInput;\n\n    componentDidMount() {\n        window.scrollTo(0, 0);\n        if (this.props.match.params.id) {\n            this.props.getSingleArticle(this.props.match.params.id);\n            this.props.getCommentsOfArticle(this.props.match.params.id);\n            if (this.props.related_articles.length <= 0) {\n                this.props.getRelatedArticles(this.props.match.params.id, 1, 5);\n            }\n        }\n        if (this.props.categories.length <= 0) {\n            this.props.getCategories();\n        }\n        if (this.props.most_viewed_articles.length <= 0) {\n            this.props.getMostViewedArticlesHome(1, 4);\n        }\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        if (nextProps.isCommentPosted && !nextProps.error) {\n            this.props.resetPostCommentState();\n            toast.success(\"Đăng tải bình luận thành công!\");\n            this.props.getCommentsOfArticle(this.props.match.params.id);\n        }\n        if (nextProps.isReplyPosted && !nextProps.error) {\n            this.props.resetReplyACommentState();\n            toast.success(\"Trả lời bình luận thành công!\");\n            this.props.getCommentsOfArticle(this.props.match.params.id);\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.match.params.id !== prevProps.match.params.id) {\n            this.props.getSingleArticle(this.props.match.params.id);\n            this.props.getCommentsOfArticle(this.props.match.params.id);\n            this.props.getRelatedArticles(this.props.match.params.id, 1, 5);\n        }\n    }\n\n    updateDownloadedTimes = () => {\n        if (this.props.match.params.id) {\n            this.props.updateDownloadedCount(this.props.match.params.id);\n        }\n    }\n\n    commentInputChangeHandler = (event) => {\n        const updatedComment = updateObject(this.state.comment, {\n            value: event.target.value,\n            valid: checkValidity(event.target.value, this.state.comment.validation),\n            touched: true\n        })\n        this.setState(updateObject(this.state, { comment: updatedComment }));\n    }\n\n    postCommentHandler = () => {\n        if (this.props.match.params.id) {\n            this.props.postCommentOfArticle(this.props.match.params.id, this.state.comment.value);\n        }\n        this.setState(updateObject(this.state, commentAndReplyInput));\n    }\n\n    selectCommentToReplyHandler = (commentId) => {\n        this.setState(updateObject(this.state, { commentToReplyId: commentId }));\n    }\n\n    replyInputChangeHandler = (event) => {\n        const updatedReply = updateObject(this.state.reply, {\n            value: event.target.value,\n            valid: checkValidity(event.target.value, this.state.reply.validation),\n            touched: true\n        })\n        this.setState(updateObject(this.state, { reply: updatedReply }));\n    }\n\n    postReplyACommentHandler = (commentId) => {\n        this.props.replyACommentOfArticle(commentId, this.state.reply.value);\n        this.setState(updateObject(this.state, commentAndReplyInput));\n    }\n\n    cancelReplyHandler = () => {\n        this.setState(updateObject(this.state, { commentToReplyId: \"\" }));\n    }\n\n    render() {\n        return (\n            <Aux>\n                <Navigation history={this.props.history} />\n                <Breadcrumb\n                    title=\"Chi tiết bài báo\"\n                    imageUrl={`url(${require(\"../../../resources/imgs/40.jpg\")})`} />\n                <RouteBreadcrumb>\n                    <li className=\"breadcrumb-item active\" aria-current=\"page\"><Link to=\"/articles\">Bái báo</Link></li>\n                    <li className=\"breadcrumb-item active\" aria-current=\"page\">Chi tiết bài báo</li>\n                </RouteBreadcrumb>\n\n                <section className=\"post-details-area\">\n                    <div className=\"container\">\n                        <div className=\"row justify-content-center\">\n                            <div className=\"col col-9\">\n                                <div className=\"post-details-content bg-white mb-30 p-30 box-shadow\">\n                                    {!this.props.loading && this.props.article ? (\n                                        <div className=\"blog-content\">\n                                            <div className=\"post-meta\">\n                                                <p>{this.props.article.submissionId.typeId.name}</p>\n                                                <p>{this.props.article.submissionId.categoryId.name}</p>\n                                            </div>\n                                            <h4 className=\"post-title\">{this.props.article.submissionId.title}</h4>\n                                            <div className=\"post-meta-2\">\n                                                <Link to=\"#\" className=\"text-dark\" style={{ fontWeight: '400' }}>\n                                                    <i className=\"fas fa-user\"></i>{\" \"}\n                                                    {this.props.article.submissionId.authorId.lastname} {this.props.article.submissionId.authorId.firstname} {\", \"}\n                                                    {this.props.article.submissionId.contributors.length > 0 && getListContributors(this.props.article.submissionId.contributors)}\n                                                </Link>\n                                                <Link to=\"#\" className=\"text-dark ml-1\" style={{ fontWeight: '400' }}>\n                                                    <i className=\"fas fa-clock\" aria-hidden=\"true\"></i> {getFormattedDateOnly(this.props.article.publishedDate)}\n                                                </Link>\n                                                <Link to=\"#\" className=\"text-dark ml-1\" style={{ fontWeight: '400' }}>\n                                                    <i className=\"fas fa-eye\" aria-hidden=\"true\"></i> {this.props.article.views}\n                                                </Link>\n                                                <Link to=\"#\" className=\"text-dark ml-1\" style={{ fontWeight: '400' }}>\n                                                    <i className=\"fas fa-download\" aria-hidden=\"true\"></i> {this.props.article.downloaded}\n                                                </Link>\n                                            </div>\n                                            <div className=\"border border-dark\">\n                                                <embed\n                                                    src={this.props.article.submissionId.attachmentUrl}\n                                                    type=\"application/pdf\"\n                                                    frameBorder=\"0\"\n                                                    scrolling=\"auto\"\n                                                    height=\"800px\"\n                                                    width=\"100%\"\n                                                />\n                                            </div>\n                                            <div className=\"row mt-4\">\n                                                <div><b>Tag: </b></div>\n                                                <div className=\"badge-ol badge-ol-dark badge-outlined ml-2\">{this.props.article.submissionId.typeId.name}</div>\n                                                <div className=\"badge-ol badge-ol-dark badge-outlined ml-1\">{this.props.article.submissionId.categoryId.name}</div>\n                                            </div>\n                                            <Author author={this.props.article.submissionId.authorId} />\n                                        </div>\n                                    ) : <Spinner />}\n                                </div>\n                                {/* <RelatedPost /> */}\n                                <div className=\"comment_area clearfix bg-white mb-30 p-30 box-shadow\">\n                                    {this.props.comments.length > 0 ? (\n                                        <Comments\n                                            isAuth={this.props.isAuth}\n                                            comments={this.props.comments}\n                                            reply={this.state.reply}\n                                            commentToReplyId={this.state.commentToReplyId}\n                                            selectCommentToReplyHandler={this.selectCommentToReplyHandler}\n                                            replyInputChangeHandler={this.replyInputChangeHandler}\n                                            postReplyACommentHandler={this.postReplyACommentHandler}\n                                            cancelReplyHandler={this.cancelReplyHandler}\n                                        />\n                                    ) : (\n                                            <Aux>\n                                                <div className=\"section-heading\">\n                                                    <h5>Bình Luận</h5>\n                                                </div>\n                                                <div>Chưa có bình luận nào</div>\n                                            </Aux>\n                                        )}\n                                </div>\n                                <div className=\"post-a-comment-area bg-white mb-30 p-30 box-shadow clearfix\">\n                                    <PostComment\n                                        isAuth={this.props.isAuth}\n                                        comment={this.state.comment}\n                                        commentInputChangeHandler={this.commentInputChangeHandler}\n                                        postCommentHandler={this.postCommentHandler}\n                                    />\n                                </div>\n                            </div>\n\n                            <div className=\"col col-3\">\n                                {this.props.article && (\n                                    <Sidebar\n                                        articleUrl={this.props.article.submissionId.attachmentUrl}\n                                        related_articles={this.props.related_articles}\n                                        most_viewed_articles={this.props.most_viewed_articles}\n                                        categories={this.props.categories}\n                                        updateDownloadedTimes={this.updateDownloadedTimes} />\n                                )}\n                            </div>\n                        </div>\n                    </div>\n                </section>\n                <Footer />\n                <ToastContainer autoClose={2000} />\n            </Aux>\n        );\n    }\n};\n\nconst mapStateToProps = state => {\n    return {\n        isAuth: state.auth.token != null,\n        article: state.article.article,\n        comments: state.article.comments,\n        related_articles: state.article.related_articles,\n        most_viewed_articles: state.article.most_viewed_articles,\n        loading: state.article.loading,\n        error: state.article.error,\n        categories: state.submission.categories,\n        isCommentPosted: state.article.isCommentPosted,\n        isReplyPosted: state.article.isReplyPosted\n    };\n};\n\nconst mapDispatchToProps = {\n    getSingleArticle,\n    getCommentsOfArticle,\n    getRelatedArticles,\n    getMostViewedArticlesHome,\n    getCategories,\n    updateDownloadedCount,\n    postCommentOfArticle,\n    replyACommentOfArticle,\n    resetPostCommentState,\n    resetReplyACommentState\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Article);","import React, { Component } from 'react';\nimport { Redirect, Route, Switch, withRouter } from 'react-router-dom';\nimport Layout from './hoc/Layout/Layout';\nimport Dashboard from './hoc/Dashboard/Dashboard';\nimport Login from './containers/Auth/Login';\nimport Register from './containers/Auth/Register';\nimport Logout from './containers/Auth/Logout';\nimport 'owl.carousel/dist/assets/owl.carousel.css';\nimport 'owl.carousel/dist/assets/owl.theme.default.css';\nimport { connect } from 'react-redux';\nimport { keepAuthState, getMyNotifications } from './store/actions/authActions';\nimport Articles from './containers/Articles/Articles';\nimport Article from './containers/Articles/Article/Article';\nimport { ToastContainer, toast } from 'react-toastify';\nimport openSocket from 'socket.io-client';\nclass App extends Component {\n\n    componentDidMount() {\n        // keep auth state\n        this.props.keepAuthState();\n\n        const socket = openSocket('http://localhost:5000');\n        socket.on('noti', data => {\n            if (this.props.isAuth && data.action === 'push-noti') {\n                console.log(data);\n                if (this.props.userId === data.noti.receiverId) {\n                    toast.success(data.noti.content);\n                }\n            }\n        });\n    }\n\n    componentDidUpdate(prevProps) {\n        if (!prevProps.isAuth && this.props.isAuth) {\n            this.props.getMyNotifications();\n        }\n    }\n\n    render() {\n        let routes = (\n            <Switch>\n                <Route path=\"/login\" component={Login} />\n                <Route path=\"/register\" component={Register} />\n                <Route path=\"/articles\" component={Articles} />\n                <Route path=\"/single-article/:id\" component={Article} />\n                <Route exact path=\"/\" component={Layout} />\n                <Redirect to=\"/login\" />\n            </Switch>\n        );\n\n        if (this.props.isAuth) {\n            routes = (\n                <Switch>\n                    <Route path=\"/logout\" component={Logout} />\n                    <Route path=\"/dashboard\" component={Dashboard} />\n                    <Route path=\"/articles\" component={Articles} />\n                    <Route path=\"/single-article/:id\" component={Article} />\n                    <Route exact path=\"/\" component={Layout} />\n                    <Redirect to=\"/\" />\n                </Switch>\n            );\n        }\n\n        return (\n            <div>\n                {routes}\n                <ToastContainer autoClose={2000} />\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        isAuth: state.auth.token != null,\n        userId: state.auth.userId\n    };\n};\n\nconst mapDispatchToProps = {\n    keepAuthState,\n    getMyNotifications\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(App));","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import * as actionTypes from '../actions/actionTypes';\nimport { updateObject } from '../../utils/utility';\n\nconst initialState = {\n    token: localStorage.getItem('token') ? localStorage.getItem('token') : null,\n    userId: localStorage.getItem('userId') ? localStorage.getItem('userId') : null,\n    fullname: localStorage.getItem('fullname') ? localStorage.getItem('fullname') : null,\n    avatar: localStorage.getItem('avatar') ? localStorage.getItem('avatar') : null,\n    role: localStorage.getItem('role') ? localStorage.getItem('role') : null,\n    error: null,\n    loading: false,\n    isSignedUp: false,\n    notifications: [],\n    all_notifications: [],\n    total_items: 0,\n    currentPage: 1\n};\n\nconst authStart = (state) => {\n    return updateObject(state, {\n        error: null,\n        loading: true\n    });\n};\n\nconst authSuccess = (state, action) => {\n    return updateObject(state, {\n        token: action.token,\n        userId: action.userId,\n        fullname: action.fullname,\n        avatar: action.avatar,\n        role: action.role,\n        error: null,\n        loading: false\n    });\n};\n\nconst registerSuccess = (state, action) => {\n    return updateObject(state, {\n        isSignedUp: action.isSignedUp,\n        error: null,\n        loading: false\n    })\n};\n\nconst resetRegisterState = (state, action) => {\n    return updateObject(state, {\n        isSignedUp: false,\n        error: null,\n        loading: false\n    })\n};\n\nconst authFailed = (state, action) => {\n    return updateObject(state, {\n        error: action.error,\n        loading: false\n    })\n};\n\nconst authLogout = (state) => {\n    return updateObject(state, {\n        token: null,\n        userId: null,\n        fullname: null,\n        avatar: null,\n        notifications: []\n    });\n};\n\nconst getMyNotificationsSuccess = (state, action) => {\n    return updateObject(state, {\n        notifications: action.notifications,\n        error: null\n    })\n}\n\nconst getAllMyNotificationsSuccess = (state, action) => {\n    return updateObject(state, {\n        all_notifications: action.notifications,\n        total_items: action.total,\n        currentPage: action.currentPage,\n        loading: false,\n        error: null\n    })\n}\n\nconst authReducers = (state = initialState, action) => {\n    switch (action.type) {\n        case actionTypes.AUTH_START: return authStart(state);\n        case actionTypes.AUTH_SUCCESS: return authSuccess(state, action);\n        case actionTypes.AUTH_FAILED: return authFailed(state, action);\n        case actionTypes.AUTH_LOGOUT: return authLogout(state, action);\n        case actionTypes.REGISTER_SUCCESS: return registerSuccess(state, action);\n        case actionTypes.RESET_REGISTER_STATE: return resetRegisterState(state, action);\n\n        case actionTypes.GET_MY_NOTIFICATIONS_SUCCESS: return getMyNotificationsSuccess(state, action);\n        case actionTypes.GET_ALL_MY_NOTIFICATIONS_SUCCESS: return getAllMyNotificationsSuccess(state, action);\n\n        default: return state;\n    }\n};\n\nexport default authReducers;","import * as actionTypes from '../actions/actionTypes';\nimport { updateObject } from '../../utils/utility';\n\nconst initialState = {\n    categories: [],\n    stages: [],\n    types: [],\n    submissions: [],\n    submission: null,\n    fileUploading: false,\n    isSubmissionCreated: false,\n    isSubmissionEdited: false,\n    isSubmissionDeleted: false,\n    message: '',\n    loading: false,\n    error: null,\n    reviewerDecisions: [],\n    editorDecisions: [],\n    chiefEditorDecisions: [],\n    total_items: 0,\n    currentPage: 1\n};\n\nconst submissionStart = (state) => {\n    return updateObject(state, { loading: true, error: null });\n};\n\nconst uploadStart = (state) => {\n    return updateObject(state, { fileUploading: true, error: null });\n}\n\nconst getCategoriesSuccess = (state, action) => {\n    return updateObject(state, {\n        categories: action.categories,\n        error: null\n    });\n};\n\nconst getStagesSuccess = (state, action) => {\n    return updateObject(state, {\n        stages: action.stages,\n        error: null\n    });\n};\n\nconst getSubmissionTypesSuccess = (state, action) => {\n    return updateObject(state, {\n        types: action.types,\n        error: null\n    });\n};\n\nconst getReviewerDecisionsSuccess = (state, action) => {\n    return updateObject(state, {\n        reviewerDecisions: action.reviewerDecisions,\n        error: null\n    });\n};\n\nconst getEditorDecisionsSuccess = (state, action) => {\n    return updateObject(state, {\n        editorDecisions: action.editorDecisions,\n        error: null\n    });\n};\n\nconst getSubmissionsByAuthorSuccess = (state, action) => {\n    return updateObject(state, {\n        submissions: action.submissions,\n        total_items: action.total,\n        currentPage: action.currentPage,\n        loading: false,\n        error: null\n    });\n};\n\nconst getSubmissionDetailSuccess = (state, action) => {\n    return updateObject(state, {\n        submission: action.submission,\n        loading: false,\n        error: null\n    });\n};\n\nconst createSubmissionSuccess = (state, action) => {\n    return updateObject(state, {\n        submission: action.submission,\n        isSubmissionCreated: true,\n        fileUploading: false,\n        error: null\n    });\n};\n\nconst resetCreateSubmissionState = (state) => {\n    return updateObject(state, {\n        isSubmissionCreated: false,\n        fileUploading: false,\n        error: null\n    })\n};\n\nconst editSubmissionSuccess = (state, action) => {\n    return updateObject(state, {\n        submission: action.submission,\n        isSubmissionEdited: true,\n        fileUploading: false,\n        error: null\n    });\n};\n\nconst resetEditSubmissionState = (state) => {\n    return updateObject(state, {\n        isSubmissionEdited: false,\n        fileUploading: false,\n        error: null\n    })\n};\n\nconst deleteSubmissionSuccess = (state, action) => {\n    return updateObject(state, {\n        message: action.message,\n        isSubmissionDeleted: true,\n        error: null\n    });\n}\n\nconst resetDeleteSubmissionState = (state) => {\n    return updateObject(state, {\n        isSubmissionDeleted: false,\n        error: null\n    })\n};\n\nconst fetchSubmissionError = (state, action) => {\n    return updateObject(state, {\n        error: action.error,\n        fileUploading: false\n        // loading: true\n    });\n};\n\n// Chief Editor\nconst getAllSubmissionsSuccess = (state, action) => {\n    return updateObject(state, {\n        submissions: action.submissions,\n        total_items: action.total,\n        currentPage: action.currentPage,\n        loading: false,\n        error: null\n    });\n};\n\nconst submissionReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case actionTypes.SUBMISSIONS_START: return submissionStart(state);\n        case actionTypes.UPLOAD_START: return uploadStart(state);\n        case actionTypes.SUBMISSIONS_ERROR: return fetchSubmissionError(state, action);\n\n        case actionTypes.GET_CATEGORIES_SUCCESS: return getCategoriesSuccess(state, action);\n        case actionTypes.GET_STAGES_SUCCESS: return getStagesSuccess(state, action);\n        case actionTypes.GET_SUBMISSION_TYPES_SUCCESS: return getSubmissionTypesSuccess(state, action);\n        case actionTypes.GET_REVIEWER_DECISIONS_SUCCESS: return getReviewerDecisionsSuccess(state, action);\n        case actionTypes.GET_EDITOR_DECISIONS_SUCCESS: return getEditorDecisionsSuccess(state, action);\n\n        case actionTypes.GET_SUBMISSIONS_BY_AUTHOR_SUCCESS: return getSubmissionsByAuthorSuccess(state, action);\n\n        case actionTypes.GET_SUBMISSIONS_DETAIL_SUCCESS: return getSubmissionDetailSuccess(state, action);\n\n        case actionTypes.CREATE_SUBMISSION_SUCCESS: return createSubmissionSuccess(state, action);\n        case actionTypes.RESET_CREATE_SUBMISSION_STATE: return resetCreateSubmissionState(state);\n\n        case actionTypes.EDIT_SUBMISSION_SUCCESS: return editSubmissionSuccess(state, action);\n        case actionTypes.RESET_EDIT_SUBMISSION_STATE: return resetEditSubmissionState(state);\n\n        case actionTypes.DELETE_SUBMISSION_SUCCESS: return deleteSubmissionSuccess(state, action);\n        case actionTypes.RESET_DELETE_SUBMISSION_STATE: return resetDeleteSubmissionState(state);\n\n        case actionTypes.GET_ALL_SUBMISSIONS_SUCCESS: return getAllSubmissionsSuccess(state, action);\n        case actionTypes.SEARCH_SUBMISSIONS_SUCCESS: return getAllSubmissionsSuccess(state, action);\n        default: return state;\n    }\n};\n\nexport default submissionReducer;","import * as actionTypes from '../actions/actionTypes';\nimport { updateObject } from '../../utils/utility';\n\nconst initialState = {\n    editors: [],\n    reviewers: [],\n    isEditorAssigned: false,\n    isReviewerAssigned: false,\n    editorAssignments: [],\n    editorAssignment: null,\n    reviewerAssignments: [],\n    reviewerAssignment: null,\n    authorAssignment: null,\n    chiefEditorSubmission: null,\n    message: null,\n    error: null,\n    loading: false,\n    fileUploading: false,\n    isReviewSubmissionCreated: false,\n    isReviewSubmissionEdited: false,\n    isEditorSubmissionCreated: false,\n    isEditorSubmissionEdited: false,\n    isRequestAuthorRevisionCreated: false,\n    isAuthorRevisionCreated: false,\n    isSubmissionAccepted: false,\n    isSubmissionDeclined: false,\n    total_items: 0,\n    currentPage: 1\n};\n\nconst reviewProcessStart = (state) => {\n    return updateObject(state, { loading: true, error: null });\n};\n\nconst uploadStart = (state) => {\n    return updateObject(state, { fileUploading: true, error: null });\n}\n\n// Chief Editor get all Editors\nconst getAllEditorsSuccess = (state, action) => {\n    return updateObject(state, {\n        editors: action.editors,\n        loading: false,\n        error: null\n    });\n};\n\n// Editor get all Reviewers\nconst getAllReviewersSuccess = (state, action) => {\n    return updateObject(state, {\n        reviewers: action.reviewers,\n        loading: false,\n        error: null\n    });\n};\n\n// Chief Editor assign Editors\nconst assignEditorSuccess = (state, action) => {\n    return updateObject(state, {\n        isEditorAssigned: true,\n        responseMessage: action.message,\n        error: null\n    });\n}\n\nconst resetEditorAssignmentState = (state) => {\n    return updateObject(state, {\n        isEditorAssigned: false,\n        error: null\n    });\n};\n\n// Editor assign Reviewers\nconst assignReviewerSuccess = (state, action) => {\n    return updateObject(state, {\n        isReviewerAssigned: true,\n        responseMessage: action.message,\n        error: null\n    });\n}\n\nconst resetReviewerAssignmentState = (state) => {\n    return updateObject(state, {\n        isReviewerAssigned: false,\n        error: null\n    });\n};\n\n// Get Editor Assignment By Submission\nconst getEditorAssignmentBySubmissionSuccess = (state, action) => {\n    return updateObject(state, {\n        editorAssignment: action.editorAssignment,\n        error: null\n    });\n};\n\n// Editor get my Assignments\nconst getMyEditorAssignmentsSuccess = (state, action) => {\n    return updateObject(state, {\n        editorAssignments: action.editorAssignments,\n        total_items: action.total,\n        currentPage: action.currentPage,\n        loading: false,\n        error: null\n    });\n};\n\n// Reviewer get my Assignments\nconst getMyReviewerAssignmentsSuccess = (state, action) => {\n    return updateObject(state, {\n        reviewerAssignments: action.reviewerAssignments,\n        total_items: action.total,\n        currentPage: action.currentPage,\n        loading: false,\n        error: null\n    });\n};\n\n// Reviewer get my Assignment Detail by Submission\nconst getMyReviewerAssignmentDetailSuccess = (state, action) => {\n    return updateObject(state, {\n        reviewerAssignment: action.reviewerAssignment,\n        loading: false,\n        error: null\n    });\n};\n\n// Reviewer create review for a submission\nconst createReviewSubmissionSuccess = (state, action) => {\n    return updateObject(state, {\n        message: action.message,\n        isReviewSubmissionCreated: true,\n        loading: false,\n        error: null,\n        fileUploading: false\n    });\n};\n\nconst resetCreateReviewSubmissionState = (state) => {\n    return updateObject(state, {\n        isReviewSubmissionCreated: false,\n        error: null\n    })\n};\n\n// Reviewer edit review for a submission\nconst editReviewSubmissionSuccess = (state, action) => {\n    return updateObject(state, {\n        message: action.message,\n        isReviewSubmissionEdited: true,\n        loading: false,\n        error: null,\n        fileUploading: false\n    });\n};\n\nconst resetEditReviewSubmissionState = (state) => {\n    return updateObject(state, {\n        isReviewSubmissionEdited: false,\n        fileUploading: false,\n        error: null\n    })\n};\n\n// Editor submit review for a submission\nconst createEditorSubmissionSuccess = (state, action) => {\n    return updateObject(state, {\n        message: action.message,\n        isEditorSubmissionCreated: true,\n        loading: false,\n        error: null,\n        fileUploading: false\n    });\n};\n\nconst resetCreateEditorSubmissionState = (state) => {\n    return updateObject(state, {\n        isEditorSubmissionCreated: false,\n        error: null\n    })\n};\n\n// Editor edit review for a submission\nconst editEditorSubmissionSuccess = (state, action) => {\n    return updateObject(state, {\n        message: action.message,\n        isEditorSubmissionEdited: true,\n        loading: false,\n        error: null,\n        fileUploading: false\n    });\n};\n\nconst resetEditEditorSubmissionState = (state) => {\n    return updateObject(state, {\n        isEditorSubmissionEdited: false,\n        error: null\n    })\n};\n\n// Editor Request Author Revision.\nconst requestAuthorRevisionSuccess = (state, action) => {\n    return updateObject(state, {\n        message: action.message,\n        isRequestAuthorRevisionCreated: true,\n        loading: false,\n        error: null,\n        fileUploading: false\n    });\n};\n\nconst resetRequestAuthorRevisionState = (state) => {\n    return updateObject(state, {\n        isRequestAuthorRevisionCreated: false,\n        error: null\n    })\n};\n\n// Editor and Author get Author Assignment by Submission\nconst getAuthorAssignmentSuccess = (state, action) => {\n    return updateObject(state, {\n        authorAssignment: action.authorAssignment,\n        loading: false,\n        error: null\n    });\n};\n\n// Author Submit Revision of Submission\nconst createAuthorRevisionSuccess = (state, action) => {\n    return updateObject(state, {\n        message: action.message,\n        isAuthorRevisionCreated: true,\n        fileUploading: false,\n        error: null\n    });\n};\n\nconst resetAuthorRevisionState = (state) => {\n    return updateObject(state, {\n        isAuthorRevisionCreated: false,\n        error: null\n    })\n};\n\n// Chief Editor Accept or Decline Submission\nconst acceptSubmissionSuccess = (state, action) => {\n    return updateObject(state, {\n        message: action.message,\n        isSubmissionAccepted: true,\n        error: null\n    });\n};\n\nconst resetAcceptSubmissionState = (state) => {\n    return updateObject(state, {\n        isSubmissionAccepted: false,\n        error: null\n    })\n};\n\nconst declineSubmissionSuccess = (state, action) => {\n    return updateObject(state, {\n        message: action.message,\n        isSubmissionDeclined: true,\n        error: null\n    });\n};\n\nconst resetDeclineSubmissionState = (state) => {\n    return updateObject(state, {\n        isSubmissionDeclined: false,\n        error: null\n    })\n};\n\n// All: Get Cief Editor Submission\nconst getChiefEditorSubmissionSuccess = (state, action) => {\n    return updateObject(state, {\n        chiefEditorSubmission: action.chiefEditorSubmission,\n        error: null\n    });\n};\n\n// Error \nconst reviewProcessError = (state, action) => {\n    return updateObject(state, {\n        error: action.error,\n        fileUploading: false\n        // loading: true\n    });\n};\n\nconst reviewReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case actionTypes.REVIEW_PROCESS_START: return reviewProcessStart(state);\n        case actionTypes.UPLOAD_START: return uploadStart(state);\n        case actionTypes.REVIEW_PROCESS_ERROR: return reviewProcessError(state, action);\n\n        case actionTypes.GET_ALL_EDITORS_SUCCESS: return getAllEditorsSuccess(state, action);\n        case actionTypes.ASSIGN_EDITOR_SUCCESS: return assignEditorSuccess(state, action);\n        case actionTypes.RESET_EDITOR_ASSIGNMENT_STATE: return resetEditorAssignmentState(state);\n\n        case actionTypes.GET_EDITOR_ASSIGNMENT_BY_SUBMISSION_SUCCESS: return getEditorAssignmentBySubmissionSuccess(state, action);\n        case actionTypes.GET_MY_EDITOR_ASSIGNMENTS_SUCCESS: return getMyEditorAssignmentsSuccess(state, action);\n\n        case actionTypes.GET_ALL_REVIEWERS_SUCCESS: return getAllReviewersSuccess(state, action);\n        case actionTypes.ASSIGN_REVIEWER_SUCCESS: return assignReviewerSuccess(state, action);\n        case actionTypes.RESET_REVIEWER_ASSIGNMENT_STATE: return resetReviewerAssignmentState(state);\n\n        case actionTypes.GET_MY_REVIEWER_ASSIGNMENTS_SUCCESS: return getMyReviewerAssignmentsSuccess(state, action);\n        case actionTypes.GET_MY_REVIEWER_ASSIGNMENT_DETAIL_SUCCESS: return getMyReviewerAssignmentDetailSuccess(state, action)\n\n        case actionTypes.CREATE_REVIEW_SUBMISSION_SUCCESS: return createReviewSubmissionSuccess(state, action);\n        case actionTypes.RESET_CREATE_REVIEW_SUBMISSION_STATE: return resetCreateReviewSubmissionState(state);\n        case actionTypes.EDIT_REVIEW_SUBMISSION_SUCCESS: return editReviewSubmissionSuccess(state, action);\n        case actionTypes.RESET_EDIT_REVIEW_SUBMISSION_SUCCESS: return resetEditReviewSubmissionState(state);\n\n        case actionTypes.CREATE_EDITOR_SUBMISSION_SUCCESS: return createEditorSubmissionSuccess(state, action);\n        case actionTypes.RESET_CREATE_EDITOR_SUBMISSION_STATE: return resetCreateEditorSubmissionState(state);\n        case actionTypes.EDIT_EDITOR_SUBMISSION_SUCCESS: return editEditorSubmissionSuccess(state, action);\n        case actionTypes.RESET_EDIT_EDITOR_SUBMISSION_SUCCESS: return resetEditEditorSubmissionState(state);\n        case actionTypes.REQUEST_AUTHOR_REVISION_SUCCESS: return requestAuthorRevisionSuccess(state, action);\n        case actionTypes.RESET_REQUEST_AUTHOR_REVISION_STATE: return resetRequestAuthorRevisionState(state);\n\n        case actionTypes.GET_AUTHOR_ASSIGNMENT_SUCCESS: return getAuthorAssignmentSuccess(state, action);\n        case actionTypes.AUTHOR_SUBMIT_REVISION_SUCCESS: return createAuthorRevisionSuccess(state, action);\n        case actionTypes.RESET_SUBMIT_REVISION_STATE: return resetAuthorRevisionState(state);\n\n        case actionTypes.ACCEPT_SUBMISSION_SUCCESS: return acceptSubmissionSuccess(state, action);\n        case actionTypes.RESET_ACCEPT_SUBMISSION_STATE: return resetAcceptSubmissionState(state);\n        case actionTypes.DECLINE_SUBMISSION_SUCCESS: return declineSubmissionSuccess(state, action);\n        case actionTypes.RESET_DECLINE_SUBMISSION_STATE: return resetDeclineSubmissionState(state);\n\n        case actionTypes.GET_CE_SUBMISSION_SUCCESS: return getChiefEditorSubmissionSuccess(state, action);\n\n        default: return state;\n    }\n};\n\nexport default reviewReducer;","import * as actionTypes from '../actions/actionTypes';\nimport { updateObject } from '../../utils/utility';\n\nconst initialState = {\n    articles: [],\n    latest_articles: [],\n    most_viewed_articles: [],\n    most_downloaded_articles: [],\n    article: null,\n    loading: false,\n    error: false,\n    total_items: 0,\n    currentPage: 1,\n    articles_search: [],\n    related_articles: [],\n    comments: [],\n    message: '',\n    isCommentPosted: false,\n    isReplyPosted: false,\n    my_articles: [],\n    my_articles_total: 0,\n    my_articles_cur_page: 1\n};\n\nconst articleStart = (state) => {\n    return updateObject(state, { loading: true, error: null });\n};\n\nconst getAllArticlesSuccess = (state, action) => {\n    return updateObject(state, {\n        articles: action.articles,\n        total_items: action.total,\n        currentPage: action.currentPage,\n        loading: false,\n        error: null\n    });\n};\n\nconst getLatestArticlesHomeSuccess = (state, action) => {\n    return updateObject(state, {\n        latest_articles: action.articles,\n        loading: false,\n        error: null\n    });\n};\n\nconst getMostViewedArticlesHomeSuccess = (state, action) => {\n    return updateObject(state, {\n        most_viewed_articles: action.articles,\n        loading: false,\n        error: null\n    });\n};\n\nconst getMostDownloadedArticlesHomeSuccess = (state, action) => {\n    return updateObject(state, {\n        most_downloaded_articles: action.articles,\n        loading: false,\n        error: null\n    });\n};\n\nconst getSingleArticleSuccess = (state, action) => {\n    return updateObject(state, {\n        article: action.article,\n        loading: false,\n        error: null\n    });\n};\n\nconst getCommentsOfArticleSuccess = (state, action) => {\n    return updateObject(state, {\n        comments: action.comments\n    });\n};\n\nconst postCommentSuccess = (state, action) => {\n    return updateObject(state, {\n        message: action.message,\n        isCommentPosted: true,\n    });\n};\n\nconst resetPostCommentState = state => {\n    return updateObject(state, {\n        isCommentPosted: false\n    });\n}\n\nconst replyACommentSuccess = (state, action) => {\n    return updateObject(state, {\n        message: action.message,\n        isReplyPosted: true\n    });\n};\n\nconst resetreplyACommentState = state => {\n    return updateObject(state, {\n        isReplyPosted: false\n    });\n}\n\nconst getRelatedArticlesSuccess = (state, action) => {\n    return updateObject(state, {\n        related_articles: action.relatedArticles,\n        loading: false,\n        error: null\n    });\n};\n\nconst searchArticlesByKeywordSuccess = (state, action) => {\n    return updateObject(state, {\n        articles_search: action.articles,\n        loading: false,\n        error: null\n    });\n};\n\nconst updateDownloadedCountSuccess = (state) => {\n    return updateObject(state, {\n        loading: false,\n        error: null,\n    });\n};\n\nconst getMyArticlesSuccess = (state, action) => {\n    return updateObject(state, {\n        my_articles: action.articles,\n        my_articles_total: action.total,\n        my_articles_cur_page: action.currentPage,\n        loading: false,\n        error: null\n    });\n};\n\nconst articleError = (state, action) => {\n    return updateObject(state, {\n        error: action.error,\n        isCommentPosted: false,\n        isReplyPosted: false\n    });\n};\n\nconst articleReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case actionTypes.ARTICLE_START: return articleStart(state);\n        case actionTypes.ARTICLE_ERROR: return articleError(state, action);\n\n        case actionTypes.GET_ALL_ARTICLES_SUCCESS: return getAllArticlesSuccess(state, action);\n        case actionTypes.GET_LATEST_ARTICLES_SUCCESS: return getLatestArticlesHomeSuccess(state, action);\n        case actionTypes.GET_MOST_VIEWED_ARTICLES_SUCCESS: return getAllArticlesSuccess(state, action);\n        case actionTypes.GET_MOST_VIEWED_ARTICLES_HOME_SUCCESS: return getMostViewedArticlesHomeSuccess(state, action);\n        case actionTypes.GET_MOST_DOWNLOADED_ARTICLES_SUCCESS: return getAllArticlesSuccess(state, action);\n        case actionTypes.GET_MOST_DOWNLOADED_ARTICLES_HOME_SUCCESS: return getMostDownloadedArticlesHomeSuccess(state, action);\n        case actionTypes.GET_MY_ARTICLES_SUCCESS: return getMyArticlesSuccess(state, action);\n\n        case actionTypes.GET_SINGLE_ARTICLE_SUCCESS: return getSingleArticleSuccess(state, action);\n        case actionTypes.GET_COMMENTS_SUCCESS: return getCommentsOfArticleSuccess(state, action);\n\n        case actionTypes.POST_COMMENTS_SUCCESS: return postCommentSuccess(state, action);\n        case actionTypes.RESET_POST_COMMENTS_STATE: return resetPostCommentState(state);\n        case actionTypes.REPLY_A_COMMENT_SUCCESS: return replyACommentSuccess(state, action);\n        case actionTypes.RESET_REPLY_A_COMMENT_STATE: return resetreplyACommentState(state, action);\n\n        case actionTypes.GET_RELATED_ARTICLES_SUCCESS: return getRelatedArticlesSuccess(state, action);\n\n        case actionTypes.UPDATE_DOWNLOADED_COUNT_SUCCESS: return updateDownloadedCountSuccess(state);\n\n        case actionTypes.SEARCH_ARTICLES_SUCCESS: return searchArticlesByKeywordSuccess(state, action);\n\n        default: return state;\n    }\n};\n\nexport default articleReducer;","import * as actionTypes from '../actions/actionTypes';\nimport { updateObject } from '../../utils/utility';\n\nconst initialState = {\n    allArticles: [],\n    articles: [],\n    loading: false,\n    error: false,\n    total: 0,\n    currentPage: 1,\n    publishedArticle: null\n};\n\nconst articlesCrawlStart = (state) => {\n    return updateObject(state, { loading: true, error: null });\n};\n\nconst articlesCrawlSuccess = (state, action) => {\n    return updateObject(state, {\n        allArticles: action.allArticles,\n        articles: action.articles,\n        total: action.total,\n        currentPage: action.currentPage,\n        loading: false,\n        error: null\n    });\n};\n\nconst jumpToAnotherPageSuccess = (state, action) => {\n    const page = +action.currentPage;\n    const ITEMS_PER_PAGE = 10;\n    const skip = (page - 1) * ITEMS_PER_PAGE;\n    const limit = ITEMS_PER_PAGE;\n\n    return updateObject(state, {\n        currentPage: +action.currentPage,\n        articles: state.allArticles.slice(skip, skip + limit)\n    })\n}\n\nconst getPublishedArticleByDOISuccess = (state, action) => {\n    return updateObject(state, {\n        publishedArticle: action.publishedArticle,\n        loading: false,\n        error: null\n    });\n};\n\nconst articlesCrawlError = (state, action) => {\n    return updateObject(state, {\n        error: action.error,\n        loading: false\n    });\n};\n\nconst vastReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case actionTypes.ARTICLES_CRAWL_START: return articlesCrawlStart(state);\n        case actionTypes.ARTICLES_CRAWL_ERROR: return articlesCrawlError(state, action);\n        case actionTypes.ARTICLES_CRAWL_SUCCESS: return articlesCrawlSuccess(state, action);\n        case actionTypes.JUMP_TO_PAGE_SUCCESS: return jumpToAnotherPageSuccess(state, action);\n\n        case actionTypes.GET_PUBLISHED_ARTICLE_BY_DOI_SUCCESS: return getPublishedArticleByDOISuccess(state, action);\n\n        default: return state;\n    }\n};\n\nexport default vastReducer;","import * as actionTypes from '../actions/actionTypes';\nimport { updateObject } from '../../utils/utility';\n\nconst initialState = {\n    user: null,\n    loading: false,\n    fileUploading: false,\n    error: null,\n    message: '',\n    isUserInforUpdated: false,\n    isPasswordChanged: false,\n    avatar: null,\n    isAvatarChanged: false,\n    categories: [],\n    users: [],\n    user_infor: null,\n    total_items: 0,\n    currentPage: 1,\n    roles: [],\n    isUserRoleChanged: false\n}\n\nconst userStart = (state) => {\n    return updateObject(state, { loading: true, error: null });\n};\n\nconst uploadStart = (state) => {\n    return updateObject(state, { fileUploading: true, error: null });\n}\n\nconst getMyUserInforSuccess = (state, action) => {\n    return updateObject(state, {\n        user: action.user,\n        loading: false,\n        error: null\n    });\n};\n\nconst getPreferenceCategoriesSuccess = (state, action) => {\n    return updateObject(state, {\n        categories: action.categories,\n        error: null\n    });\n};\n\nconst updateUserInforSuccess = (state, action) => {\n    return updateObject(state, {\n        user: action.user,\n        message: action.message,\n        error: null,\n        isUserInforUpdated: true\n    });\n};\n\nconst resetUpdateUserInforState = (state) => {\n    return updateObject(state, {\n        isUserInforUpdated: false,\n        error: null\n    })\n};\n\nconst changePasswordSuccess = (state, action) => {\n    return updateObject(state, {\n        message: action.message,\n        error: null,\n        isPasswordChanged: true\n    });\n};\n\nconst resetChangePasswordState = (state) => {\n    return updateObject(state, {\n        isPasswordChanged: false,\n        error: null\n    })\n};\n\nconst changeAvatarSuccess = (state, action) => {\n    return updateObject(state, {\n        avatar: action.avatar,\n        message: action.message,\n        error: null,\n        isAvatarChanged: true\n    });\n};\n\nconst resetChangeAvatarState = (state) => {\n    return updateObject(state, {\n        isAvatarChanged: false,\n        error: null\n    });\n};\n\n// Admin\nconst getAllUserInforSuccess = (state, action) => {\n    return updateObject(state, {\n        users: action.users,\n        total_items: action.total,\n        currentPage: action.currentPage,\n        error: null,\n        loading: false\n    });\n};\n\nconst getUserInforSuccess = (state, action) => {\n    return updateObject(state, {\n        user_infor: action.user,\n        loading: false,\n        error: null\n    });\n};\n\nconst getAllUserRoleSuccess = (state, action) => {\n    return updateObject(state, {\n        roles: action.roles,\n        error: null\n    });\n};\n\nconst changeUserRoleSuccess = (state, action) => {\n    return updateObject(state, {\n        message: action.message,\n        isUserRoleChanged: true,\n        error: null\n    });\n};\n\nconst resetChangeUserRoleState = (state, action) => {\n    return updateObject(state, {\n        isUserRoleChanged: false,\n        error: null\n    });\n};\n\n// Error\nconst userError = (state, action) => {\n    return updateObject(state, {\n        error: action.error,\n        fileUploading: false\n    });\n};\n\nconst userReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case actionTypes.USERS_START: return userStart(state);\n        case actionTypes.UPLOAD_START: return uploadStart(state);\n        case actionTypes.USERS_ERROR: return userError(state, action);\n\n        case actionTypes.GET_MY_USER_INFOR_SUCCESS: return getMyUserInforSuccess(state, action);\n\n        case actionTypes.GET_PREFERENCE_CATEGORIES_SUCCESS: return getPreferenceCategoriesSuccess(state, action);\n\n        case actionTypes.UPDATE_USER_INFOR_SUCCESS: return updateUserInforSuccess(state, action);\n        case actionTypes.RESET_UPDATE_USER_INFOR_STATE: return resetUpdateUserInforState(state);\n\n        case actionTypes.CHANGE_PASSWORD_SUCCESS: return changePasswordSuccess(state, action);\n        case actionTypes.RESET_CHANGE_PASSWORD_STATE: return resetChangePasswordState(state);\n\n        case actionTypes.CHANGE_AVATAR_SUCCESS: return changeAvatarSuccess(state, action);\n        case actionTypes.RESET_CHANGE_AVATAR_STATE: return resetChangeAvatarState(state);\n\n        case actionTypes.GET_ALL_USERS_INFOR_SUCCESS: return getAllUserInforSuccess(state, action);\n        case actionTypes.GET_USER_INFOR_SUCCESS: return getUserInforSuccess(state, action);\n        case actionTypes.GET_ALL_USER_ROLES_SUCCESS: return getAllUserRoleSuccess(state, action);\n        case actionTypes.CHANGE_USER_ROLE_SUCCESS: return changeUserRoleSuccess(state, action);\n        case actionTypes.RESET_CHANGE_USER_ROLE_STATE: return resetChangeUserRoleState(state, action);\n\n        default: return state;\n    }\n};\n\nexport default userReducer;","import { applyMiddleware, combineReducers, compose, createStore } from 'redux';\nimport thunk from 'redux-thunk';\nimport authReducers from './reducers/authReducers';\nimport submissionReducers from './reducers/submissionReducers';\nimport reviewReducers from './reducers/reviewReducers';\nimport articleReducer from './reducers/articleReducers';\nimport vastReducer from './reducers/vastReducers';\nimport userReducer from './reducers/userReducers';\n\n//setup redux devtools;\nconst composeEnhancers = process.env.NODE_ENV === 'development' ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : null || compose;\n\nconst rootReducer = combineReducers({\n    auth: authReducers,\n    submission: submissionReducers,\n    review: reviewReducers,\n    article: articleReducer,\n    vast: vastReducer,\n    user: userReducer\n});\n\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport store from './store/store';\n\nconst app = (\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>\n);\n\nReactDOM.render(app, document.getElementById('root'));\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/40.dcfc6bbb.jpg\";"],"sourceRoot":""}